#--------------------------------------------------------------
# Imports
#--------------------------------------------------------------

express = require 'express'
path    = require 'path'
router  = require './router/module'

#--------------------------------------------------------------
# Create App
#--------------------------------------------------------------

admin = express()

#--------------------------------------------------------------
# Configure App
#--------------------------------------------------------------

admin.set 'views', './static'

#--------------------------------------------------------------
# Handle Static Paths
#--------------------------------------------------------------

admin.use express.static(path.join(__dirname, '../../static'))

#--------------------------------------------------------------
# Handle routes
#--------------------------------------------------------------

admin.use router

admin.use (req, res, next) ->
  console.log 'bob', req.url
  next()
  return

#--------------------------------------------------------------
# Exports
#--------------------------------------------------------------

module.exports = admin

#--------------------------------------------------------------
