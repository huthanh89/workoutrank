!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var i,r,o,s;i=n(2),s=n(3),o=n(5),r=n(6),o.setOptions({global:{useUTC:!1}}),window.jQuery=window.$=n(2),n(20),n(171),i().modal||console.log("bootstrap is not working."),function(t,e,n,i,r,o,s){t.GoogleAnalyticsObject=r,t[r]=t[r]||function(){(t[r].q=t[r].q||[]).push(arguments)},t[r].l=1*new Date,o=e.createElement(n),s=e.getElementsByTagName(n)[0],o.async=1,o.src=i,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-74126093-1","auto"),i(function(){r.start()})},function(t,e,n){var i,r;n(2),n(2);!function(e,n){"object"==typeof t&&"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,o){function s(t){var e=!!t&&"length"in t&&t.length,n=ct.type(t);return"function"!==n&&!ct.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function a(t,e,n){if(ct.isFunction(e))return ct.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ct.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(bt.test(e))return ct.filter(e,t,n);e=ct.filter(e,t)}return ct.grep(t,function(t){return it.call(e,t)>-1!==n})}function l(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t){var e={};return ct.each(t.match(St)||[],function(t,n){e[n]=!0}),e}function u(){Q.removeEventListener("DOMContentLoaded",u),n.removeEventListener("load",u),ct.ready()}function h(){this.expando=ct.expando+h.uid++}function d(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(It,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Pt.test(n)?ct.parseJSON(n):n)}catch(t){}Et.set(t,e,n)}else n=void 0;return n}function p(t,e,n,i){var r,o=1,s=20,a=i?function(){return i.cur()}:function(){return ct.css(t,e,"")},l=a(),c=n&&n[3]||(ct.cssNumber[e]?"":"px"),u=(ct.cssNumber[e]||"px"!==c&&+l)&&Lt.exec(ct.css(t,e));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do o=o||".5",u/=o,ct.style(t,e,u+c);while(o!==(o=a()/l)&&1!==o&&--s)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function f(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ct.nodeName(t,e)?ct.merge([t],n):n}function g(t,e){for(var n=0,i=t.length;n<i;n++)At.set(t[n],"globalEval",!e||At.get(e[n],"globalEval"))}function m(t,e,n,i,r){for(var o,s,a,l,c,u,h=e.createDocumentFragment(),d=[],p=0,m=t.length;p<m;p++)if(o=t[p],o||0===o)if("object"===ct.type(o))ct.merge(d,o.nodeType?[o]:o);else if(Wt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Ft.exec(o)||["",""])[1].toLowerCase(),l=Bt[a]||Bt._default,s.innerHTML=l[1]+ct.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;ct.merge(d,s.childNodes),s=h.firstChild,s.textContent=""}else d.push(e.createTextNode(o));for(h.textContent="",p=0;o=d[p++];)if(i&&ct.inArray(o,i)>-1)r&&r.push(o);else if(c=ct.contains(o.ownerDocument,o),s=f(h.appendChild(o),"script"),c&&g(s),n)for(u=0;o=s[u++];)Nt.test(o.type||"")&&n.push(o);return h}function v(){return!0}function y(){return!1}function b(){try{return Q.activeElement}catch(t){}}function w(t,e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(a in e)w(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=y;else if(!r)return this;return 1===o&&(s=r,r=function(t){return ct().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=ct.guid++)),t.each(function(){ct.event.add(this,e,r,i,n)})}function x(t,e){return ct.nodeName(t,"table")&&ct.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function _(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function C(t){var e=Gt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function k(t,e){var n,i,r,o,s,a,l,c;if(1===e.nodeType){if(At.hasData(t)&&(o=At.access(t),s=At.set(e,o),c=o.events)){delete s.handle,s.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)ct.event.add(e,r,c[r][n])}Et.hasData(t)&&(a=Et.access(t),l=ct.extend({},a),Et.set(e,l))}}function S(t,e){var n=e.nodeName.toLowerCase();"input"===n&&zt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function T(t,e,n,i){e=et.apply([],e);var r,o,s,a,l,c,u=0,h=t.length,d=h-1,p=e[0],g=ct.isFunction(p);if(g||h>1&&"string"==typeof p&&!at.checkClone&&Ut.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),T(o,e,n,i)});if(h&&(r=m(e,t[0].ownerDocument,!1,t,i),o=r.firstChild,1===r.childNodes.length&&(r=o),o||i)){for(s=ct.map(f(r,"script"),_),a=s.length;u<h;u++)l=r,u!==d&&(l=ct.clone(l,!0,!0),a&&ct.merge(s,f(l,"script"))),n.call(t[u],l,u);if(a)for(c=s[s.length-1].ownerDocument,ct.map(s,C),u=0;u<a;u++)l=s[u],Nt.test(l.type||"")&&!At.access(l,"globalEval")&&ct.contains(c,l)&&(l.src?ct._evalUrl&&ct._evalUrl(l.src):ct.globalEval(l.textContent.replace(Xt,"")))}return t}function M(t,e,n){for(var i,r=e?ct.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ct.cleanData(f(i)),i.parentNode&&(n&&ct.contains(i.ownerDocument,i)&&g(f(i,"script")),i.parentNode.removeChild(i));return t}function D(t,e){var n=ct(e.createElement(t)).appendTo(e.body),i=ct.css(n[0],"display");return n.detach(),i}function A(t){var e=Q,n=Kt[t];return n||(n=D(t,e),"none"!==n&&n||(Zt=(Zt||ct("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Zt[0].contentDocument,e.write(),e.close(),n=D(t,e),Zt.detach()),Kt[t]=n),n}function E(t,e,n){var i,r,o,s,a=t.style;return n=n||te(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||ct.contains(t.ownerDocument,t)||(s=ct.style(t,e)),!at.pixelMarginRight()&&Qt.test(s)&&Jt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function P(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function I(t){if(t in ae)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=se.length;n--;)if(t=se[n]+e,t in ae)return t}function O(t,e,n){var i=Lt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function L(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=ct.css(t,n+Rt[o],!0,r)),i?("content"===n&&(s-=ct.css(t,"padding"+Rt[o],!0,r)),"margin"!==n&&(s-=ct.css(t,"border"+Rt[o]+"Width",!0,r))):(s+=ct.css(t,"padding"+Rt[o],!0,r),"padding"!==n&&(s+=ct.css(t,"border"+Rt[o]+"Width",!0,r)));return s}function R(t,e,i){var r=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=te(t),a="border-box"===ct.css(t,"boxSizing",!1,s);if(Q.msFullscreenElement&&n.top!==n&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[e])),o<=0||null==o){if(o=E(t,e,s),(o<0||null==o)&&(o=t.style[e]),Qt.test(o))return o;r=a&&(at.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+L(t,e,i||(a?"border":"content"),r,s)+"px"}function H(t,e){for(var n,i,r,o=[],s=0,a=t.length;s<a;s++)i=t[s],i.style&&(o[s]=At.get(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ht(i)&&(o[s]=At.access(i,"olddisplay",A(i.nodeName)))):(r=Ht(i),"none"===n&&r||At.set(i,"olddisplay",r?n:ct.css(i,"display"))));for(s=0;s<a;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function z(t,e,n,i,r){return new z.prototype.init(t,e,n,i,r)}function F(){return n.setTimeout(function(){le=void 0}),le=ct.now()}function N(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Rt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function B(t,e,n){for(var i,r=(q.tweeners[e]||[]).concat(q.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function W(t,e,n){var i,r,o,s,a,l,c,u,h=this,d={},p=t.style,f=t.nodeType&&Ht(t),g=At.get(t,"fxshow");n.queue||(a=ct._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ct.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=ct.css(t,"display"),u="none"===c?At.get(t,"olddisplay")||A(t.nodeName):c,"inline"===u&&"none"===ct.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],ue.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}d[i]=g&&g[i]||ct.style(t,i)}else c=void 0;if(ct.isEmptyObject(d))"inline"===("none"===c?A(t.nodeName):c)&&(p.display=c);else{g?"hidden"in g&&(f=g.hidden):g=At.access(t,"fxshow",{}),o&&(g.hidden=!f),f?ct(t).show():h.done(function(){ct(t).hide()}),h.done(function(){var e;At.remove(t,"fxshow");for(e in d)ct.style(t,e,d[e])});for(i in d)s=B(f?g[i]:0,i,h),i in g||(g[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function V(t,e){var n,i,r,o,s;for(n in t)if(i=ct.camelCase(n),r=e[i],o=t[n],ct.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=ct.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function q(t,e,n){var i,r,o=0,s=q.prefilters.length,a=ct.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=le||F(),n=Math.max(0,c.startTime+c.duration-e),i=n/c.duration||0,o=1-i,s=0,l=c.tweens.length;s<l;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),o<1&&l?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ct.extend({},e),opts:ct.extend(!0,{specialEasing:{},easing:ct.easing._default},n),originalProperties:e,originalOptions:n,startTime:le||F(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ct.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),u=c.props;for(V(u,c.opts.specialEasing);o<s;o++)if(i=q.prefilters[o].call(c,t,u,c.opts))return ct.isFunction(i.stop)&&(ct._queueHooks(c.elem,c.opts.queue).stop=ct.proxy(i.stop,i)),i;return ct.map(u,B,c),ct.isFunction(c.opts.start)&&c.opts.start.call(t,c),ct.fx.timer(ct.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function Y(t){return t.getAttribute&&t.getAttribute("class")||""}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(St)||[];if(ct.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function $(t,e,n,i){function r(a){var l;return o[a]=!0,ct.each(t[a]||[],function(t,a){var c=a(e,n,i);return"string"!=typeof c||s||o[c]?s?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)}),l}var o={},s=t===Ae;return r(e.dataTypes[0])||!o["*"]&&r("*")}function U(t,e){var n,i,r=ct.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ct.extend(!0,t,i),t}function G(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}function X(t,e,n,i){var r,o,s,a,l,c={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=c[l+" "+o]||c["* "+o],!s)for(r in c)if(a=r.split(" "),a[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[r]:c[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function Z(t,e,n,i){var r;if(ct.isArray(e))ct.each(e,function(e,r){n||Oe.test(t)?i(t,r):Z(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ct.type(e))i(t,e);else for(r in e)Z(t+"["+r+"]",e[r],n,i)}function K(t){return ct.isWindow(t)?t:9===t.nodeType&&t.defaultView}var J=[],Q=n.document,tt=J.slice,et=J.concat,nt=J.push,it=J.indexOf,rt={},ot=rt.toString,st=rt.hasOwnProperty,at={},lt="2.2.0",ct=function(t,e){return new ct.fn.init(t,e)},ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^-ms-/,dt=/-([\da-z])/gi,pt=function(t,e){return e.toUpperCase()};ct.fn=ct.prototype={jquery:lt,constructor:ct,selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:tt.call(this)},pushStack:function(t){var e=ct.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ct.each(this,t)},map:function(t){return this.pushStack(ct.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:nt,sort:J.sort,splice:J.splice},ct.extend=ct.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ct.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],i=t[e],s!==i&&(c&&i&&(ct.isPlainObject(i)||(r=ct.isArray(i)))?(r?(r=!1,o=n&&ct.isArray(n)?n:[]):o=n&&ct.isPlainObject(n)?n:{},s[e]=ct.extend(c,o,i)):void 0!==i&&(s[e]=i));return s},ct.extend({expando:"jQuery"+(lt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ct.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!ct.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){return"object"===ct.type(t)&&!t.nodeType&&!ct.isWindow(t)&&!(t.constructor&&!st.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?rt[ot.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=ct.trim(t),t&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ht,"ms-").replace(dt,pt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ut,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ct.merge(n,"string"==typeof t?[t]:t):nt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:it.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;o<s;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,n){var i,r,o=0,a=[];if(s(t))for(i=t.length;o<i;o++)r=e(t[o],o,n),null!=r&&a.push(r);else for(o in t)r=e(t[o],o,n),null!=r&&a.push(r);return et.apply([],a)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ct.isFunction(t))return i=tt.call(arguments,2),r=function(){return t.apply(e||this,i.concat(tt.call(arguments)))},r.guid=t.guid=t.guid||ct.guid++,r},now:Date.now,support:at}),"function"==typeof Symbol&&(ct.fn[Symbol.iterator]=J[Symbol.iterator]),ct.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){rt["[object "+e+"]"]=e.toLowerCase()});var ft=function(t){function e(t,e,n,i){var r,o,s,a,l,c,h,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return n;if(!i&&((e?e.ownerDocument||e:B)!==I&&P(e),e=e||I,L)){if(11!==g&&(c=vt.exec(t)))if(r=c[1]){if(9===g){if(!(s=e.getElementById(r)))return n;if(s.id===r)return n.push(s),n}else if(f&&(s=f.getElementById(r))&&F(e,s)&&s.id===r)return n.push(s),n}else{if(c[2])return J.apply(n,e.getElementsByTagName(t)),n;if((r=c[3])&&x.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!j[t+" "]&&(!R||!R.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(bt,"\\$&"):e.setAttribute("id",a=N),h=S(t),o=h.length,l=dt.test(a)?"#"+a:"[id='"+a+"']";o--;)h[o]=l+" "+d(h[o]);p=h.join(","),f=yt.test(t)&&u(e.parentNode)||e}if(p)try{return J.apply(n,f.querySelectorAll(p)),n}catch(t){}finally{a===N&&e.removeAttribute("id")}}}return M(t.replace(at,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>_.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[N]=!0,t}function r(t){var e=I.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||U)-(~t.sourceIndex||U);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=V++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,c,u=[W,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[N]||(e[N]={}),l=c[e.uniqueID]||(c[e.uniqueID]={}),(a=l[i])&&a[0]===W&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function m(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,c=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),c&&e.push(a)));return s}function v(t,e,n,r,o,s){return r&&!r[N]&&(r=v(r)),o&&!o[N]&&(o=v(o,s)),i(function(i,s,a,l){var c,u,h,d=[],p=[],f=s.length,v=i||g(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?v:m(v,d,t,a,l),b=n?o||(i?t:f||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(c=m(b,p),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(b[p[u]]=!(y[p[u]]=h));if(i){if(o||t){if(o){for(c=[],u=b.length;u--;)(h=b[u])&&c.push(y[u]=h);o(null,b=[],c,l)}for(u=b.length;u--;)(h=b[u])&&(c=o?tt(i,h):d[u])>-1&&(i[c]=!(s[c]=h))}}else b=m(b===s?b.splice(f,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function y(t){for(var e,n,i,r=t.length,o=_.relative[t[0].type],s=o||_.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),u=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):c(t,n,i));return e=null,r}];a<r;a++)if(n=_.relative[t[a].type])u=[p(f(u),n)];else{if(n=_.filter[t[a].type].apply(null,t[a].matches),n[N]){for(i=++a;i<r&&!_.relative[t[i].type];i++);return v(a>1&&f(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,a<i&&y(t.slice(a,i)),i<r&&y(t=t.slice(i)),i<r&&d(t))}u.push(n)}return f(u)}function b(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,l,c){var u,h,d,p=0,f="0",g=i&&[],v=[],y=D,b=i||o&&_.find.TAG("*",c),w=W+=null==y?1:Math.random()||.1,x=b.length;for(c&&(D=s===I||s||c);f!==x&&null!=(u=b[f]);f++){if(o&&u){for(h=0,s||u.ownerDocument===I||(P(u),a=!L);d=t[h++];)if(d(u,s||I,a)){l.push(u);break}c&&(W=w)}r&&((u=!d&&u)&&p--,i&&g.push(u))}if(p+=f,r&&f!==p){for(h=0;d=n[h++];)d(g,v,s,a);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=Z.call(l));v=m(v)}J.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return c&&(W=w,D=y),g};return r?i(s):s}var w,x,_,C,k,S,T,M,D,A,E,P,I,O,L,R,H,z,F,N="sizzle"+1*new Date,B=t.document,W=0,V=0,q=n(),Y=n(),j=n(),$=function(t,e){return t===e&&(E=!0),0},U=1<<31,G={}.hasOwnProperty,X=[],Z=X.pop,K=X.push,J=X.push,Q=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=function(){P()};try{J.apply(X=Q.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(t){J={apply:X.length?function(t,e){K.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:B;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,O=I.documentElement,L=!k(I),(n=I.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(I.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(I.getElementsByClassName),x.getById=r(function(t){return O.appendChild(t).id=N,!I.getElementsByName||!I.getElementsByName(N).length}),x.getById?(_.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}},_.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),_.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},_.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},H=[],R=[],(x.qsa=mt.test(I.querySelectorAll))&&(r(function(t){O.appendChild(t).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+N+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+N+"+*").length||R.push(".#.+[+~]")}),r(function(t){var e=I.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=mt.test(z=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(t){x.disconnectedMatch=z.call(t,"div"),z.call(t,"[s!='']:x"),H.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),H=H.length&&new RegExp(H.join("|")),e=mt.test(O.compareDocumentPosition),F=e||mt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},$=e?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===I||t.ownerDocument===B&&F(B,t)?-1:e===I||e.ownerDocument===B&&F(B,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===I?-1:e===I?1:r?-1:o?1:A?tt(A,t)-tt(A,e):0;if(r===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?s(a[i],l[i]):a[i]===B?-1:l[i]===B?1:0},I):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&P(t),n=n.replace(ut,"='$1']"),x.matchesSelector&&L&&!j[n+" "]&&(!H||!H.test(n))&&(!R||!R.test(n)))try{var i=z.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&P(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&P(t);var n=_.attrHandle[e.toLowerCase()],i=n&&G.call(_.attrHandle,e.toLowerCase())?n(t,e,!L):void 0;return void 0!==i?i:x.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort($),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},_=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var c,u,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(d=m,h=d[N]||(d[N]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],p=c[0]===W&&c[1],b=p&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(b=p=0)||f.pop();)if(1===d.nodeType&&++b&&d===e){u[t]=[W,p,b];break}}else if(y&&(d=e,h=d[N]||(d[N]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),c=u[t]||[],p=c[0]===W&&c[1],b=p),b===!1)for(;(d=++p&&d&&d[g]||(b=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&(h=d[N]||(d[N]={}),u=h[d.uniqueID]||(h[d.uniqueID]={}),u[t]=[W,b]),d!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=_.pseudos[t]||_.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[N]?o(n):o.length>1?(r=[t,t,"",n],_.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=tt(t,r[s]),t[i]=!(e[i]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(at,"$1"));return r[N]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do if(n=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected;
},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return h.prototype=_.filters=_.pseudos,_.setFilters=new h,S=e.tokenize=function(t,n){var i,r,o,s,a,l,c,u=Y[t+" "];if(u)return n?0:u.slice(0);for(a=t,l=[],c=_.preFilter;a;){i&&!(r=lt.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ct.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(at," ")}),a=a.slice(i.length));for(s in _.filter)!(r=pt[s].exec(a))||c[s]&&!(r=c[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):Y(t,l).slice(0)},T=e.compile=function(t,e){var n,i=[],r=[],o=j[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[N]?i.push(o):r.push(o);o=j(t,b(r,i)),o.selector=t}return o},M=e.select=function(t,e,n,i){var r,o,s,a,l,c="function"==typeof t&&t,h=!i&&S(t=c.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&x.getById&&9===e.nodeType&&L&&_.relative[o[1].type]){if(e=(_.find.ID(s.matches[0].replace(wt,xt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!_.relative[a=s.type]);)if((l=_.find[a])&&(i=l(s.matches[0].replace(wt,xt),yt.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return J.apply(n,i),n;break}}return(c||T(t,h))(i,e,!L,n,!e||yt.test(t)&&u(e.parentNode)||e),n},x.sortStable=N.split("").sort($).join("")===N,x.detectDuplicates=!!E,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(n);ct.find=ft,ct.expr=ft.selectors,ct.expr[":"]=ct.expr.pseudos,ct.uniqueSort=ct.unique=ft.uniqueSort,ct.text=ft.getText,ct.isXMLDoc=ft.isXML,ct.contains=ft.contains;var gt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ct(t).is(n))break;i.push(t)}return i},mt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},vt=ct.expr.match.needsContext,yt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,bt=/^.[^:#\[\.,]*$/;ct.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ct.find.matchesSelector(i,t)?[i]:[]:ct.find.matches(t,ct.grep(e,function(t){return 1===t.nodeType}))},ct.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(ct(t).filter(function(){for(e=0;e<n;e++)if(ct.contains(r[e],this))return!0}));for(e=0;e<n;e++)ct.find(t,r[e],i);return i=this.pushStack(n>1?ct.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&vt.test(t)?ct(t):t||[],!1).length}});var wt,xt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_t=ct.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||wt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:xt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ct?e[0]:e,ct.merge(this,ct.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),yt.test(i[1])&&ct.isPlainObject(e))for(i in e)ct.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=Q.getElementById(i[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ct.isFunction(t)?void 0!==n.ready?n.ready(t):t(ct):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),ct.makeArray(t,this))};_t.prototype=ct.fn,wt=ct(Q);var Ct=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};ct.fn.extend({has:function(t){var e=ct(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ct.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=vt.test(t)||"string"!=typeof t?ct(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ct.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ct.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?it.call(ct(t),this[0]):it.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ct.uniqueSort(ct.merge(this.get(),ct(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return gt(t,"parentNode")},parentsUntil:function(t,e,n){return gt(t,"parentNode",n)},next:function(t){return l(t,"nextSibling")},prev:function(t){return l(t,"previousSibling")},nextAll:function(t){return gt(t,"nextSibling")},prevAll:function(t){return gt(t,"previousSibling")},nextUntil:function(t,e,n){return gt(t,"nextSibling",n)},prevUntil:function(t,e,n){return gt(t,"previousSibling",n)},siblings:function(t){return mt((t.parentNode||{}).firstChild,t)},children:function(t){return mt(t.firstChild)},contents:function(t){return t.contentDocument||ct.merge([],t.childNodes)}},function(t,e){ct.fn[t]=function(n,i){var r=ct.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ct.filter(i,r)),this.length>1&&(kt[t]||ct.uniqueSort(r),Ct.test(t)&&r.reverse()),this.pushStack(r)}});var St=/\S+/g;ct.Callbacks=function(t){t="string"==typeof t?c(t):ct.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)o[a].apply(n[0],n[1])===!1&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){ct.each(n,function(n,i){ct.isFunction(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==ct.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return ct.each(arguments,function(t,e){for(var n;(n=ct.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?ct.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},ct.extend({Deferred:function(t){var e=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ct.Deferred(function(n){ct.each(e,function(e,o){var s=ct.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&ct.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ct.extend(t,i):i}},r={};return i.pipe=i.then,ct.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=tt.call(arguments),s=o.length,a=1!==s||t&&ct.isFunction(t.promise)?s:0,l=1===a?t:ct.Deferred(),c=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?tt.call(arguments):r,i===e?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);r<s;r++)o[r]&&ct.isFunction(o[r].promise)?o[r].promise().progress(c(r,n,e)).done(c(r,i,o)).fail(l.reject):--a;return a||l.resolveWith(i,o),l.promise()}});var Tt;ct.fn.ready=function(t){return ct.ready.promise().done(t),this},ct.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ct.readyWait++:ct.ready(!0)},ready:function(t){(t===!0?--ct.readyWait:ct.isReady)||(ct.isReady=!0,t!==!0&&--ct.readyWait>0||(Tt.resolveWith(Q,[ct]),ct.fn.triggerHandler&&(ct(Q).triggerHandler("ready"),ct(Q).off("ready"))))}}),ct.ready.promise=function(t){return Tt||(Tt=ct.Deferred(),"complete"===Q.readyState||"loading"!==Q.readyState&&!Q.documentElement.doScroll?n.setTimeout(ct.ready):(Q.addEventListener("DOMContentLoaded",u),n.addEventListener("load",u))),Tt.promise(t)},ct.ready.promise();var Mt=function(t,e,n,i,r,o,s){var a=0,l=t.length,c=null==n;if("object"===ct.type(n)){r=!0;for(a in n)Mt(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,ct.isFunction(i)||(s=!0),c&&(s?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ct(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:c?e.call(t):l?e(t[0],n):o},Dt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!Dt(t))return{};var e=t[this.expando];return e||(e={},Dt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?(i=this.get(t,e),void 0!==i?i:this.get(t,ct.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{ct.isArray(e)?i=e.concat(e.map(ct.camelCase)):(r=ct.camelCase(e),e in o?i=[e,r]:(i=r,i=i in o?[i]:i.match(St)||[])),n=i.length;for(;n--;)delete o[i[n]]}(void 0===e||ct.isEmptyObject(o))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ct.isEmptyObject(e)}};var At=new h,Et=new h,Pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,It=/[A-Z]/g;ct.extend({hasData:function(t){return Et.hasData(t)||At.hasData(t)},data:function(t,e,n){return Et.access(t,e,n)},removeData:function(t,e){Et.remove(t,e)},_data:function(t,e,n){return At.access(t,e,n)},_removeData:function(t,e){At.remove(t,e)}}),ct.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Et.get(o),1===o.nodeType&&!At.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(i=s[n].name,0===i.indexOf("data-")&&(i=ct.camelCase(i.slice(5)),d(o,i,r[i])));At.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Et.set(this,t)}):Mt(this,function(e){var n,i;if(o&&void 0===e){if(n=Et.get(o,t)||Et.get(o,t.replace(It,"-$&").toLowerCase()),void 0!==n)return n;if(i=ct.camelCase(t),n=Et.get(o,i),void 0!==n)return n;if(n=d(o,i,void 0),void 0!==n)return n}else i=ct.camelCase(t),this.each(function(){var n=Et.get(this,i);Et.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&Et.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Et.remove(this,t)})}}),ct.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=At.get(t,e),n&&(!i||ct.isArray(n)?i=At.access(t,e,ct.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ct.queue(t,e),i=n.length,r=n.shift(),o=ct._queueHooks(t,e),s=function(){ct.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return At.get(t,n)||At.access(t,n,{empty:ct.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",n])})})}}),ct.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ct.queue(this[0],t):void 0===e?this:this.each(function(){var n=ct.queue(this,t,e);ct._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ct.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ct.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ct.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=At.get(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Ot=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+Ot+")([a-z%]*)$","i"),Rt=["Top","Right","Bottom","Left"],Ht=function(t,e){return t=e||t,"none"===ct.css(t,"display")||!ct.contains(t.ownerDocument,t)},zt=/^(?:checkbox|radio)$/i,Ft=/<([\w:-]+)/,Nt=/^$|\/(?:java|ecma)script/i,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td;var Wt=/<|&#?\w+;/;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),n=Q.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),at.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",at.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Vt=/^key/,qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Yt=/^([^.]*)(?:\.(.+)|)/;ct.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,g,m=At.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=ct.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return"undefined"!=typeof ct&&ct.event.triggered!==e.type?ct.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(St)||[""],c=e.length;c--;)a=Yt.exec(e[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=ct.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=ct.event.special[p]||{},u=ct.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ct.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&h.setup.call(t,i,f,s)!==!1||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,u):d.push(u),ct.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,c,u,h,d,p,f,g,m=At.hasData(t)&&At.get(t);if(m&&(l=m.events)){for(e=(e||"").match(St)||[""],c=e.length;c--;)if(a=Yt.exec(e[c])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=ct.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)u=d[o],!r&&g!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(t,u));s&&!d.length&&(h.teardown&&h.teardown.call(t,f,m.handle)!==!1||ct.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)ct.event.remove(t,p+e[c],n,i,!0);ct.isEmptyObject(l)&&At.remove(t,"handle events")}},dispatch:function(t){t=ct.event.fix(t);var e,n,i,r,o,s=[],a=tt.call(arguments),l=(At.get(this,"events")||{})[t.type]||[],c=ct.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=ct.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,i=((ct.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<a;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ct(r,this).index(l)>-1:ct.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&s.push({elem:l,handlers:i})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Q,i=n.documentElement,r=n.body,t.pageX=e.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[ct.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=qt.test(r)?this.mouseHooks:Vt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new ct.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==b()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===b()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ct.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ct.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ct.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ct.Event=function(t,e){return this instanceof ct.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?v:y):this.type=t,e&&ct.extend(this,e),this.timeStamp=t&&t.timeStamp||ct.now(),void(this[ct.expando]=!0)):new ct.Event(t,e)},ct.Event.prototype={constructor:ct.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=v,t&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=v,t&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=v,t&&t.stopImmediatePropagation(),this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ct.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ct.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ct.fn.extend({on:function(t,e,n,i){return w(this,t,e,n,i)},one:function(t,e,n,i){return w(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ct(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=y),this.each(function(){ct.event.remove(this,t,n,e)})}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,$t=/<script|<style|<link/i,Ut=/checked\s*(?:[^=]|=\s*.checked.)/i,Gt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ct.extend({htmlPrefilter:function(t){return t.replace(jt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=ct.contains(t.ownerDocument,t);if(!(at.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ct.isXMLDoc(t)))for(s=f(a),o=f(t),i=0,r=o.length;i<r;i++)S(o[i],s[i]);if(e)if(n)for(o=o||f(t),s=s||f(a),i=0,r=o.length;i<r;i++)k(o[i],s[i]);else k(t,a);return s=f(a,"script"),s.length>0&&g(s,!l&&f(t,"script")),a},cleanData:function(t){for(var e,n,i,r=ct.event.special,o=0;void 0!==(n=t[o]);o++)if(Dt(n)){if(e=n[At.expando]){if(e.events)for(i in e.events)r[i]?ct.event.remove(n,i):ct.removeEvent(n,i,e.handle);n[At.expando]=void 0}n[Et.expando]&&(n[Et.expando]=void 0)}}}),ct.fn.extend({domManip:T,detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Mt(this,function(t){return void 0===t?ct.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=x(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ct.cleanData(f(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ct.clone(this,t,e)})},html:function(t){return Mt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!$t.test(t)&&!Bt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=ct.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(ct.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ct.inArray(this,t)<0&&(ct.cleanData(f(this)),n&&n.replaceChild(e,this))},t)}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ct.fn[t]=function(t){for(var n,i=[],r=ct(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),ct(r[s])[e](n),nt.apply(i,n.get());return this.pushStack(i)}});var Zt,Kt={HTML:"block",BODY:"block"},Jt=/^margin/,Qt=new RegExp("^("+Ot+")(?!px)[a-z%]+$","i"),te=function(t){var e=t.ownerDocument.defaultView;return e.opener||(e=n),e.getComputedStyle(t)},ee=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r},ne=Q.documentElement;!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ne.appendChild(s);var t=n.getComputedStyle(a);e="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",r="4px"===t.marginRight,ne.removeChild(s)}var e,i,r,o,s=Q.createElement("div"),a=Q.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",at.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ct.extend(at,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==i&&t(),i},pixelMarginRight:function(){return null==i&&t(),r},reliableMarginLeft:function(){return null==i&&t(),o},reliableMarginRight:function(){var t,e=a.appendChild(Q.createElement("div"));return e.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",a.style.width="1px",ne.appendChild(s),t=!parseFloat(n.getComputedStyle(e).marginRight),ne.removeChild(s),a.removeChild(e),t}}))}();var ie=/^(none|table(?!-c[ea]).+)/,re={position:"absolute",visibility:"hidden",display:"block"},oe={letterSpacing:"0",fontWeight:"400"},se=["Webkit","O","Moz","ms"],ae=Q.createElement("div").style;ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=ct.camelCase(e),l=t.style;return e=ct.cssProps[a]||(ct.cssProps[a]=I(a)||a),s=ct.cssHooks[e]||ct.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Lt.exec(n))&&r[1]&&(n=p(t,e,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ct.cssNumber[a]?"":"px")),at.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l[e]=n)),void 0)}},css:function(t,e,n,i){var r,o,s,a=ct.camelCase(e);return e=ct.cssProps[a]||(ct.cssProps[a]=I(a)||a),s=ct.cssHooks[e]||ct.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=E(t,e,i)),"normal"===r&&e in oe&&(r=oe[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ct.each(["height","width"],function(t,e){ct.cssHooks[e]={get:function(t,n,i){if(n)return ie.test(ct.css(t,"display"))&&0===t.offsetWidth?ee(t,re,function(){return R(t,e,i)}):R(t,e,i)},set:function(t,n,i){var r,o=i&&te(t),s=i&&L(t,e,i,"border-box"===ct.css(t,"boxSizing",!1,o),o);return s&&(r=Lt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ct.css(t,e)),O(t,n,s)}}}),ct.cssHooks.marginLeft=P(at.reliableMarginLeft,function(t,e){if(e)return(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-ee(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ct.cssHooks.marginRight=P(at.reliableMarginRight,function(t,e){if(e)return ee(t,{display:"inline-block"},E,[t,"marginRight"])}),ct.each({margin:"",padding:"",border:"Width"},function(t,e){ct.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Rt[i]+e]=o[i]||o[i-2]||o[0];return r}},Jt.test(t)||(ct.cssHooks[t+e].set=O)}),ct.fn.extend({css:function(t,e){return Mt(this,function(t,e,n){var i,r,o={},s=0;if(ct.isArray(e)){for(i=te(t),r=e.length;s<r;s++)o[e[s]]=ct.css(t,e[s],!1,i);return o}return void 0!==n?ct.style(t,e,n):ct.css(t,e)},t,e,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ht(this)?ct(this).show():ct(this).hide()})}}),ct.Tween=z,z.prototype={constructor:z,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ct.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ct.cssNumber[n]?"":"px")},cur:function(){var t=z.propHooks[this.prop];return t&&t.get?t.get(this):z.propHooks._default.get(this)},run:function(t){var e,n=z.propHooks[this.prop];return this.options.duration?this.pos=e=ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ct.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ct.fx.step[t.prop]?ct.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ct.cssProps[t.prop]]&&!ct.cssHooks[t.prop]?t.elem[t.prop]=t.now:ct.style(t.elem,t.prop,t.now+t.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ct.fx=z.prototype.init,ct.fx.step={};var le,ce,ue=/^(?:toggle|show|hide)$/,he=/queueHooks$/;ct.Animation=ct.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return p(n.elem,t,Lt.exec(e),n),n}]},tweener:function(t,e){ct.isFunction(t)?(e=t,t=["*"]):t=t.match(St);for(var n,i=0,r=t.length;i<r;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),ct.speed=function(t,e,n){var i=t&&"object"==typeof t?ct.extend({},t):{complete:n||!n&&e||ct.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ct.isFunction(e)&&e};return i.duration=ct.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ct.fx.speeds?ct.fx.speeds[i.duration]:ct.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ct.isFunction(i.old)&&i.old.call(this),i.queue&&ct.dequeue(this,i.queue)},i},ct.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ct.isEmptyObject(t),o=ct.speed(e,n,i),s=function(){var e=q(this,ct.extend({},t),o);(r||At.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ct.timers,s=At.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&he.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ct.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=At.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ct.timers,s=i?i.length:0;for(n.finish=!0,ct.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),
o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ct.each(["toggle","show","hide"],function(t,e){var n=ct.fn[e];ct.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,i,r)}}),ct.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ct.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ct.timers=[],ct.fx.tick=function(){var t,e=0,n=ct.timers;for(le=ct.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ct.fx.stop(),le=void 0},ct.fx.timer=function(t){ct.timers.push(t),t()?ct.fx.start():ct.timers.pop()},ct.fx.interval=13,ct.fx.start=function(){ce||(ce=n.setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){n.clearInterval(ce),ce=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fn.delay=function(t,e){return t=ct.fx?ct.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),n=e.appendChild(Q.createElement("option"));t.type="checkbox",at.checkOn=""!==t.value,at.optSelected=n.selected,e.disabled=!0,at.optDisabled=!n.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",at.radioValue="t"===t.value}();var de,pe=ct.expr.attrHandle;ct.fn.extend({attr:function(t,e){return Mt(this,ct.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ct.removeAttr(this,t)})}}),ct.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ct.prop(t,e,n):(1===o&&ct.isXMLDoc(t)||(e=e.toLowerCase(),r=ct.attrHooks[e]||(ct.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void ct.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ct.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!at.radioValue&&"radio"===e&&ct.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(St);if(o&&1===t.nodeType)for(;n=o[r++];)i=ct.propFix[n]||n,ct.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),de={set:function(t,e,n){return e===!1?ct.removeAttr(t,n):t.setAttribute(n,n),n}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(t,e){var n=pe[e]||ct.find.attr;pe[e]=function(t,e,i){var r,o;return i||(o=pe[e],pe[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,pe[e]=o),r}});var fe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;ct.fn.extend({prop:function(t,e){return Mt(this,ct.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ct.propFix[t]||t]})}}),ct.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ct.isXMLDoc(t)||(e=ct.propFix[e]||e,r=ct.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ct.find.attr(t,"tabindex");return e?parseInt(e,10):fe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),at.optSelected||(ct.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this});var me=/[\t\r\n\f]/g;ct.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(ct.isFunction(t))return this.each(function(e){ct(this).addClass(t.call(this,e,Y(this)))});if("string"==typeof t&&t)for(e=t.match(St)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&(" "+r+" ").replace(me," ")){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");a=ct.trim(i),r!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(ct.isFunction(t))return this.each(function(e){ct(this).removeClass(t.call(this,e,Y(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(St)||[];n=this[l++];)if(r=Y(n),i=1===n.nodeType&&(" "+r+" ").replace(me," ")){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");a=ct.trim(i),r!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ct.isFunction(t)?this.each(function(n){ct(this).toggleClass(t.call(this,n,Y(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ct(this),o=t.match(St)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=Y(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+Y(n)+" ").replace(me," ").indexOf(e)>-1)return!0;return!1}});var ve=/\r/g;ct.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=ct.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ct(this).val()):t,null==r?r="":"number"==typeof r?r+="":ct.isArray(r)&&(r=ct.map(r,function(t){return null==t?"":t+""})),e=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=ct.valHooks[r.type]||ct.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(ve,""):null==n?"":n)}}}),ct.extend({valHooks:{option:{get:function(t){return ct.trim(t.value)}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:i.length,l=r<0?a:o?r:0;l<a;l++)if(n=i[l],(n.selected||l===r)&&(at.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ct.nodeName(n.parentNode,"optgroup"))){if(e=ct(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=ct.makeArray(e),s=r.length;s--;)i=r[s],(i.selected=ct.inArray(ct.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(t,e){if(ct.isArray(e))return t.checked=ct.inArray(ct(t).val(),e)>-1}},at.checkOn||(ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ye=/^(?:focusinfocus|focusoutblur)$/;ct.extend(ct.event,{trigger:function(t,e,i,r){var o,s,a,l,c,u,h,d=[i||Q],p=st.call(t,"type")?t.type:t,f=st.call(t,"namespace")?t.namespace.split("."):[];if(s=a=i=i||Q,3!==i.nodeType&&8!==i.nodeType&&!ye.test(p+ct.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[ct.expando]?t:new ct.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:ct.makeArray(e,[t]),h=ct.event.special[p]||{},r||!h.trigger||h.trigger.apply(i,e)!==!1)){if(!r&&!h.noBubble&&!ct.isWindow(i)){for(l=h.delegateType||p,ye.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(i.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=d[o++])&&!t.isPropagationStopped();)t.type=o>1?l:h.bindType||p,u=(At.get(s,"events")||{})[t.type]&&At.get(s,"handle"),u&&u.apply(s,e),u=c&&s[c],u&&u.apply&&Dt(s)&&(t.result=u.apply(s,e),t.result===!1&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),e)!==!1||!Dt(i)||c&&ct.isFunction(i[p])&&!ct.isWindow(i)&&(a=i[c],a&&(i[c]=null),ct.event.triggered=p,i[p](),ct.event.triggered=void 0,a&&(i[c]=a)),t.result}},simulate:function(t,e,n){var i=ct.extend(new ct.Event,n,{type:t,isSimulated:!0});ct.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}}),ct.fn.extend({trigger:function(t,e){return this.each(function(){ct.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ct.event.trigger(t,e,n,!0)}}),ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ct.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ct.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),at.focusin="onfocusin"in n,at.focusin||ct.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ct.event.simulate(e,t.target,ct.event.fix(t))};ct.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=At.access(i,e);r||i.addEventListener(t,n,!0),At.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=At.access(i,e)-1;r?At.access(i,e,r):(i.removeEventListener(t,n,!0),At.remove(i,e))}}});var be=n.location,we=ct.now(),xe=/\?/;ct.parseJSON=function(t){return JSON.parse(t+"")},ct.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+t),e};var _e=/#.*$/,Ce=/([?&])_=[^&]*/,ke=/^(.*?):[ \t]*([^\r\n]*)$/gm,Se=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Te=/^(?:GET|HEAD)$/,Me=/^\/\//,De={},Ae={},Ee="*/".concat("*"),Pe=Q.createElement("a");Pe.href=be.href,ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:be.href,type:"GET",isLocal:Se.test(be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ee,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?U(U(t,ct.ajaxSettings),e):U(ct.ajaxSettings,t)},ajaxPrefilter:j(De),ajaxTransport:j(Ae),ajax:function(t,e){function i(t,e,i,a){var c,h,y,b,x,C=e;2!==w&&(w=2,l&&n.clearTimeout(l),r=void 0,s=a||"",_.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(b=G(d,_,i)),b=X(d,b,_,c),c?(d.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(ct.lastModified[o]=x),x=_.getResponseHeader("etag"),x&&(ct.etag[o]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=b.state,h=b.data,y=b.error,c=!y)):(y=C,!t&&C||(C="error",t<0&&(t=0))),_.status=t,_.statusText=(e||C)+"",c?g.resolveWith(p,[h,C,_]):g.rejectWith(p,[_,C,y]),_.statusCode(v),v=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[_,d,c?h:y]),m.fireWith(p,[_,C]),u&&(f.trigger("ajaxComplete",[_,d]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,o,s,a,l,c,u,h,d=ct.ajaxSetup({},e),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ct(p):ct.event,g=ct.Deferred(),m=ct.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=ke.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=b[n]=b[n]||t,y[t]=e),this},overrideMimeType:function(t){return w||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(g.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||be.href)+"").replace(_e,"").replace(Me,be.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=ct.trim(d.dataType||"*").toLowerCase().match(St)||[""],null==d.crossDomain){c=Q.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Pe.protocol+"//"+Pe.host!=c.protocol+"//"+c.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ct.param(d.data,d.traditional)),$(De,d,e,_),2===w)return _;u=ct.event&&d.global,u&&0===ct.active++&&ct.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Te.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(xe.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Ce.test(o)?o.replace(Ce,"$1_="+we++):o+(xe.test(o)?"&":"?")+"_="+we++)),d.ifModified&&(ct.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ct.lastModified[o]),ct.etag[o]&&_.setRequestHeader("If-None-Match",ct.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ee+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===w))return _.abort();x="abort";for(h in{success:1,error:1,complete:1})_[h](d[h]);if(r=$(Ae,d,e,_)){if(_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),2===w)return _;d.async&&d.timeout>0&&(l=n.setTimeout(function(){_.abort("timeout")},d.timeout));try{w=1,r.send(y,i)}catch(t){if(!(w<2))throw t;i(-1,t)}}else i(-1,"No Transport");return _},getJSON:function(t,e,n){return ct.get(t,e,n,"json")},getScript:function(t,e){return ct.get(t,void 0,e,"script")}}),ct.each(["get","post"],function(t,e){ct[e]=function(t,n,i,r){return ct.isFunction(n)&&(r=r||i,i=n,n=void 0),ct.ajax(ct.extend({url:t,type:e,dataType:r,data:n,success:i},ct.isPlainObject(t)&&t))}}),ct._evalUrl=function(t){return ct.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},ct.fn.extend({wrapAll:function(t){var e;return ct.isFunction(t)?this.each(function(e){ct(this).wrapAll(t.call(this,e))}):(this[0]&&(e=ct(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return ct.isFunction(t)?this.each(function(e){ct(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ct(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ct.isFunction(t);return this.each(function(n){ct(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}}),ct.expr.filters.hidden=function(t){return!ct.expr.filters.visible(t)},ct.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var Ie=/%20/g,Oe=/\[\]$/,Le=/\r?\n/g,Re=/^(?:submit|button|image|reset|file)$/i,He=/^(?:input|select|textarea|keygen)/i;ct.param=function(t,e){var n,i=[],r=function(t,e){e=ct.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(t)||t.jquery&&!ct.isPlainObject(t))ct.each(t,function(){r(this.name,this.value)});else for(n in t)Z(n,t[n],e,r);return i.join("&").replace(Ie,"+")},ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ct.prop(this,"elements");return t?ct.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ct(this).is(":disabled")&&He.test(this.nodeName)&&!Re.test(t)&&(this.checked||!zt.test(t))}).map(function(t,e){var n=ct(this).val();return null==n?null:ct.isArray(n)?ct.map(n,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:n.replace(Le,"\r\n")}}).get()}}),ct.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var ze={0:200,1223:204},Fe=ct.ajaxSettings.xhr();at.cors=!!Fe&&"withCredentials"in Fe,at.ajax=Fe=!!Fe,ct.ajaxTransport(function(t){var e,i;if(at.cors||Fe&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(s in r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(ze[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ct.globalEval(t),t}}}),ct.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ct.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ct("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ne=[],Be=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ne.pop()||ct.expando+"_"+we++;return this[t]=!0,t}}),ct.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=t.jsonp!==!1&&(Be.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Be.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=ct.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Be,"$1"+r):t.jsonp!==!1&&(t.url+=(xe.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||ct.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?ct(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ne.push(r)),s&&ct.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),at.createHTMLDocument=function(){var t=Q.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ct.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||(at.createHTMLDocument?Q.implementation.createHTMLDocument(""):Q);var i=yt.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=m([t],e,r),r&&r.length&&ct(r).remove(),ct.merge([],i.childNodes))};var We=ct.fn.load;ct.fn.load=function(t,e,n){if("string"!=typeof t&&We)return We.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ct.trim(t.slice(a)),t=t.slice(0,a)),ct.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&ct.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?ct("<div>").append(ct.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(s,o||[t.responseText,e,t])})}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ct.fn[e]=function(t){return this.on(e,t)}}),ct.expr.filters.animated=function(t){return ct.grep(ct.timers,function(e){return t===e.elem}).length},ct.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,c,u=ct.css(t,"position"),h=ct(t),d={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=ct.css(t,"top"),l=ct.css(t,"left"),c=("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1,c?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),ct.isFunction(e)&&(e=e.call(t,n,ct.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},ct.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ct.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;if(o)return e=o.documentElement,ct.contains(e,i)?(r=i.getBoundingClientRect(),n=K(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ct.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ct.nodeName(t[0],"html")||(i=t.offset()),i.top+=ct.css(t[0],"borderTopWidth",!0)-t.scrollTop(),i.left+=ct.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-i.top-ct.css(n,"marginTop",!0),left:e.left-i.left-ct.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ct.css(t,"position");)t=t.offsetParent;return t||ne})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ct.fn[t]=function(i){return Mt(this,function(t,i,r){var o=K(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ct.each(["top","left"],function(t,e){ct.cssHooks[e]=P(at.pixelPosition,function(t,n){if(n)return n=E(t,e),Qt.test(n)?ct(t).position()[e]+"px":n})}),ct.each({Height:"height",Width:"width"},function(t,e){ct.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ct.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Mt(this,function(e,n,i){var r;return ct.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?ct.css(e,n,s):ct.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),ct.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),ct.fn.andSelf=ct.fn.addBack,i=[],r=function(){return ct}.apply(e,i),!(void 0!==r&&(t.exports=r));var Ve=n.jQuery,qe=n.$;return ct.noConflict=function(t){return n.$===ct&&(n.$=qe),t&&n.jQuery===ct&&(n.jQuery=Ve),ct},o||(n.jQuery=n.$=ct),ct})},function(t,e,n){var i;(function(t,r){(function(){function o(t,e){return t.set(e[0],e[1]),t}function s(t,e){return t.add(e),t}function a(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e,n,i){for(var r=-1,o=t?t.length:0;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function c(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function u(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function h(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(!e(t[n],n,t))return!1;return!0}function d(t,e){for(var n=-1,i=t?t.length:0,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function p(t,e){var n=t?t.length:0;return!!n&&_(t,e,0)>-1}function f(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function g(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function m(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function v(t,e,n,i){var r=-1,o=t?t.length:0;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function y(t,e,n,i){var r=t?t.length:0;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function b(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function w(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function x(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function _(t,e,n){if(e!==e)return x(t,k,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function C(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function k(t){return t!==t}function S(t,e){var n=t?t.length:0;return n?E(t,e)/n:St}function T(t){return function(e){return null==e?K:e[t]}}function M(t){return function(e){return null==t?K:t[e]}}function D(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function A(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function E(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==K&&(n=n===K?o:n+o)}return n}function P(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function I(t,e){return g(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function L(t,e){return g(e,function(e){return t[e]})}function R(t,e){return t.has(e)}function H(t,e){for(var n=-1,i=t.length;++n<i&&_(e,t[n],0)>-1;);return n}function z(t,e){for(var n=t.length;n--&&_(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&i++;return i}function N(t){return"\\"+Hn[t]}function B(t,e){return null==t?K:t[e]}function W(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Y(t,e){return function(n){return t(e(n))}}function j(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==nt||(t[n]=nt,o[r++]=n)}return o}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function G(t){if(!t||!Mn.test(t))return t.length;for(var e=Sn.lastIndex=0;Sn.test(t);)e++;return e}function X(t){return t.match(Sn)}function Z(t){function e(t){if(Ha(t)&&!Wh(t)&&!(t instanceof r)){if(t instanceof i)return t;if(jc.call(t,"__wrapped__"))return Po(t)}return new i(t)}function n(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=K}function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function M(){var t=new r(this.__wrapped__);return t.__actions__=_r(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=_r(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=_r(this.__views__),t}function Ne(){if(this.__filtered__){var t=new r(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Be(){var t=this.__wrapped__.value(),e=this.__dir__,n=Wh(t),i=e<0,r=n?t.length:0,o=oo(0,r,this.__views__),s=o.start,a=o.end,l=a-s,c=i?a:s-1,u=this.__iteratees__,h=u.length,d=0,p=yu(l,this.__takeCount__);if(!n||r<Q||r==l&&p==l)return ir(t,this.__actions__);var f=[];t:for(;l--&&d<p;){c+=e;for(var g=-1,m=t[c];++g<h;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(b==wt)m=w;else if(!w){if(b==bt)continue t;break t}}f[d++]=m}return f}function We(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ve(){this.__data__=Au?Au(null):{}}function qe(t){return this.has(t)&&delete this.__data__[t]}function Ye(t){var e=this.__data__;if(Au){var n=e[t];return n===et?K:n}return jc.call(e,t)?e[t]:K}function je(t){var e=this.__data__;return Au?e[t]!==K:jc.call(e,t)}function $e(t,e){var n=this.__data__;return n[t]=Au&&e===K?et:e,this}function Ue(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ge(){this.__data__=[]}function Xe(t){var e=this.__data__,n=yn(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():ou.call(e,n,1),!0}function Ze(t){var e=this.__data__,n=yn(e,t);return n<0?K:e[n][1]}function Ke(t){return yn(this.__data__,t)>-1}function Je(t,e){var n=this.__data__,i=yn(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function Qe(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function tn(){this.__data__={hash:new We,map:new(Su||Ue),string:new We}}function en(t){return no(this,t).delete(t)}function nn(t){return no(this,t).get(t)}function rn(t){return no(this,t).has(t)}function on(t,e){return no(this,t).set(t,e),this}function sn(t){var e=-1,n=t?t.length:0;for(this.__data__=new Qe;++e<n;)this.add(t[e])}function an(t){return this.__data__.set(t,et),this}function ln(t){return this.__data__.has(t)}function cn(t){this.__data__=new Ue(t)}function un(){this.__data__=new Ue}function hn(t){return this.__data__.delete(t)}function dn(t){return this.__data__.get(t)}function pn(t){return this.__data__.has(t)}function fn(t,e){var n=this.__data__;if(n instanceof Ue){var i=n.__data__;if(!Su||i.length<Q-1)return i.push([t,e]),this;n=this.__data__=new Qe(i)}return n.set(t,e),this}function gn(t,e,n,i){return t===K||xa(t,Bc[n])&&!jc.call(i,n)?e:t}function mn(t,e,n){(n===K||xa(t[e],n))&&("number"!=typeof e||n!==K||e in t)||(t[e]=n)}function vn(t,e,n){var i=t[e];jc.call(t,e)&&xa(i,n)&&(n!==K||e in t)||(t[e]=n)}function yn(t,e){for(var n=t.length;n--;)if(xa(t[n][0],e))return n;return-1}function bn(t,e,n,i){return Vu(t,function(t,r,o){e(i,t,n(t),o)}),i}function wn(t,e){return t&&Cr(e,vl(e),t)}function xn(t,e){for(var n=-1,i=null==t,r=e.length,o=Oc(r);++n<r;)o[n]=i?K:fl(t,e[n]);return o}function _n(t,e,n){return t===t&&(n!==K&&(t=t<=n?t:n),e!==K&&(t=t>=e?t:e)),t}function Sn(t,e,n,i,r,o,s){var a;if(i&&(a=o?i(t,r,o,s):i(t)),a!==K)return a;if(!Ra(t))return t;var l=Wh(t);if(l){if(a=lo(t),!e)return _r(t,a)}else{var u=th(t),h=u==Rt||u==Ht;if(qh(t))return ur(t,e);if(u==Nt||u==Et||h&&!o){if(W(t))return o?t:{};if(a=co(h?{}:t),!e)return kr(t,wn(a,t))}else{if(!In[u])return o?t:{};a=uo(t,u,Sn,e)}}s||(s=new cn);var d=s.get(t);if(d)return d;if(s.set(t,a),!l)var p=n?Kr(t):vl(t);return c(p||t,function(r,o){p&&(o=r,r=t[o]),vn(a,o,Sn(r,e,n,i,o,t,s))}),a}function On(t){var e=vl(t);return function(n){return Ln(n,t,e)}}function Ln(t,e,n){var i=n.length;if(null==t)return!i;for(var r=i;r--;){var o=n[r],s=e[o],a=t[o];if(a===K&&!(o in Object(t))||!s(a))return!1}return!0}function Rn(t){return Ra(t)?iu(t):{}}function Hn(t,e,n){if("function"!=typeof t)throw new Fc(tt);return lu(function(){t.apply(K,n)},e)}function Nn(t,e,n,i){var r=-1,o=p,s=!0,a=t.length,l=[],c=e.length;if(!a)return l;n&&(e=g(e,O(n))),i?(o=f,s=!1):e.length>=Q&&(o=R,s=!1,e=new sn(e));t:for(;++r<a;){var u=t[r],h=n?n(u):u;if(u=i||0!==u?u:0,s&&h===h){for(var d=c;d--;)if(e[d]===h)continue t;l.push(u)}else o(e,h,i)||l.push(u)}return l}function Bn(t,e){var n=!0;return Vu(t,function(t,i,r){return n=!!e(t,i,r)}),n}function Vn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===K?s===s&&!Ua(s):n(s,a)))var a=s,l=o}return l}function qn(t,e,n,i){var r=t.length;for(n=Qa(n),n<0&&(n=-n>r?0:r+n),i=i===K||i>r?r:Qa(i),i<0&&(i+=r),i=n>i?0:tl(i);n<i;)t[n++]=e;return t}function jn(t,e){var n=[];return Vu(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function $n(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=fo),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?$n(a,e-1,n,i,r):m(r,a):i||(r[r.length]=a)}return r}function ii(t,e){return t&&Yu(t,e,vl)}function ri(t,e){return t&&ju(t,e,vl)}function oi(t,e){return d(e,function(e){return Ia(t[e])})}function si(t,e){e=vo(e,t)?[e]:lr(e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Do(e[n++])];return n&&n==i?t:K}function ai(t,e,n){var i=e(t);return Wh(t)?i:m(i,n(t))}function li(t){return Gc.call(t)}function ci(t,e){return t>e}function ui(t,e){return null!=t&&(jc.call(t,e)||"object"==typeof t&&e in t&&null===Ku(t))}function hi(t,e){return null!=t&&e in Object(t)}function di(t,e,n){return t>=yu(e,n)&&t<vu(e,n)}function pi(t,e,n){for(var i=n?f:p,r=t[0].length,o=t.length,s=o,a=Oc(o),l=1/0,c=[];s--;){
var u=t[s];s&&e&&(u=g(u,O(e))),l=yu(u.length,l),a[s]=!n&&(e||r>=120&&u.length>=120)?new sn(s&&u):K}u=t[0];var h=-1,d=a[0];t:for(;++h<r&&c.length<l;){var m=u[h],v=e?e(m):m;if(m=n||0!==m?m:0,!(d?R(d,v):i(c,v,n))){for(s=o;--s;){var y=a[s];if(!(y?R(y,v):i(t[s],v,n)))continue t}d&&d.push(v),c.push(m)}}return c}function fi(t,e,n,i){return ii(t,function(t,r,o){e(i,n(t),r,o)}),i}function gi(t,e,n){vo(e,t)||(e=lr(e),t=To(t,e),e=Zo(e));var i=null==t?t:t[Do(e)];return null==i?K:a(i,t,n)}function mi(t){return Ha(t)&&Gc.call(t)==Ut}function vi(t){return Ha(t)&&Gc.call(t)==Ot}function yi(t,e,n,i,r){return t===e||(null==t||null==e||!Ra(t)&&!Ha(e)?t!==t&&e!==e:bi(t,e,yi,n,i,r))}function bi(t,e,n,i,r,o){var s=Wh(t),a=Wh(e),l=Pt,c=Pt;s||(l=th(t),l=l==Et?Nt:l),a||(c=th(e),c=c==Et?Nt:c);var u=l==Nt&&!W(t),h=c==Nt&&!W(e),d=l==c;if(d&&!u)return o||(o=new cn),s||Gh(t)?Gr(t,e,n,i,r,o):Xr(t,e,l,n,i,r,o);if(!(r&ft)){var p=u&&jc.call(t,"__wrapped__"),f=h&&jc.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new cn),n(g,m,i,r,o)}}return!!d&&(o||(o=new cn),Zr(t,e,n,i,r,o))}function wi(t){return Ha(t)&&th(t)==zt}function xi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=Object(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var l=a[0],c=t[l],u=a[1];if(s&&a[2]){if(c===K&&!(l in t))return!1}else{var h=new cn;if(i)var d=i(c,u,l,t,e,h);if(!(d===K?yi(u,c,i,pt|ft,h):d))return!1}}return!0}function _i(t){if(!Ra(t)||wo(t))return!1;var e=Ia(t)||W(t)?Zc:Oe;return e.test(Ao(t))}function Ci(t){return Ra(t)&&Gc.call(t)==Wt}function ki(t){return Ha(t)&&th(t)==Vt}function Si(t){return Ha(t)&&La(t.length)&&!!Pn[Gc.call(t)]}function Ti(t){return"function"==typeof t?t:null==t?ac:"object"==typeof t?Wh(t)?Pi(t[0],t[1]):Ei(t):gc(t)}function Mi(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function Di(t,e){return t<e}function Ai(t,e){var n=-1,i=Ca(t)?Oc(t.length):[];return Vu(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Ei(t){var e=io(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(n){return n===t||xi(n,t,e)}}function Pi(t,e){return vo(t)&&_o(e)?Co(Do(t),e):function(n){var i=fl(n,t);return i===K&&i===e?ml(n,t):yi(e,i,K,pt|ft)}}function Ii(t,e,n,i,r){if(t!==e){if(!Wh(e)&&!Gh(e))var o=yl(e);c(o||e,function(s,a){if(o&&(a=s,s=e[a]),Ra(s))r||(r=new cn),Oi(t,e,a,n,Ii,i,r);else{var l=i?i(t[a],s,a+"",t,e,r):K;l===K&&(l=s),mn(t,a,l)}})}}function Oi(t,e,n,i,r,o,s){var a=t[n],l=e[n],c=s.get(l);if(c)return void mn(t,n,c);var u=o?o(a,l,n+"",t,e,s):K,h=u===K;h&&(u=l,Wh(l)||Gh(l)?Wh(a)?u=a:ka(a)?u=_r(a):(h=!1,u=Sn(l,!0)):Ya(l)||_a(l)?_a(a)?u=nl(a):!Ra(a)||i&&Ia(a)?(h=!1,u=Sn(l,!0)):u=a:h=!1),h&&(s.set(l,u),r(u,l,i,o,s),s.delete(l)),mn(t,n,u)}function Li(t,e){var n=t.length;if(n)return e+=e<0?n:0,go(e,n)?t[e]:K}function Ri(t,e,n){var i=-1;e=g(e.length?e:[ac],O(eo()));var r=Ai(t,function(t,n,r){var o=g(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return A(r,function(t,e){return br(t,e,n)})}function Hi(t,e){return t=Object(t),zi(t,e,function(e,n){return n in t})}function zi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=t[s];n(a,s)&&(o[s]=a)}return o}function Fi(t){return function(e){return si(e,t)}}function Ni(t,e,n,i){var r=i?C:_,o=-1,s=e.length,a=t;for(t===e&&(e=_r(e)),n&&(a=g(t,O(n)));++o<s;)for(var l=0,c=e[o],u=n?n(c):c;(l=r(a,u,l,i))>-1;)a!==t&&ou.call(a,l,1),ou.call(t,l,1);return t}function Bi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;if(go(r))ou.call(t,r,1);else if(vo(r,t))delete t[Do(r)];else{var s=lr(r),a=To(t,s);null!=a&&delete a[Do(Zo(s))]}}}return t}function Wi(t,e){return t+uu(wu()*(e-t+1))}function Vi(t,e,n,i){for(var r=-1,o=vu(cu((e-t)/(n||1)),0),s=Oc(o);o--;)s[i?o:++r]=t,t+=n;return s}function qi(t,e){var n="";if(!t||e<1||e>Ct)return n;do e%2&&(n+=t),e=uu(e/2),e&&(t+=t);while(e);return n}function Yi(t,e){return e=vu(e===K?t.length-1:e,0),function(){for(var n=arguments,i=-1,r=vu(n.length-e,0),o=Oc(r);++i<r;)o[i]=n[e+i];i=-1;for(var s=Oc(e+1);++i<e;)s[i]=n[i];return s[e]=o,a(t,this,s)}}function ji(t,e,n,i){e=vo(e,t)?[e]:lr(e);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var l=Do(e[r]);if(Ra(a)){var c=n;if(r!=s){var u=a[l];c=i?i(u,l,a):K,c===K&&(c=null==u?go(e[r+1])?[]:{}:u)}vn(a,l,c)}a=a[l]}return t}function $i(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Oc(r);++i<r;)o[i]=t[i+e];return o}function Ui(t,e){var n;return Vu(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Gi(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=Dt){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!Ua(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return Xi(t,e,ac,n)}function Xi(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,s=e!==e,a=null===e,l=Ua(e),c=e===K;r<o;){var u=uu((r+o)/2),h=n(t[u]),d=h!==K,p=null===h,f=h===h,g=Ua(h);if(s)var m=i||f;else m=c?f&&(i||d):a?f&&d&&(i||!p):l?f&&d&&!p&&(i||!g):!p&&!g&&(i?h<=e:h<e);m?r=u+1:o=u}return yu(o,Mt)}function Zi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!xa(a,l)){var l=a;o[r++]=0===s?0:s}}return o}function Ki(t){return"number"==typeof t?t:Ua(t)?St:+t}function Ji(t){if("string"==typeof t)return t;if(Ua(t))return Wu?Wu.call(t):"";var e=t+"";return"0"==e&&1/t==-_t?"-0":e}function Qi(t,e,n){var i=-1,r=p,o=t.length,s=!0,a=[],l=a;if(n)s=!1,r=f;else if(o>=Q){var c=e?null:Gu(t);if(c)return $(c);s=!1,r=R,l=new sn}else l=e?[]:a;t:for(;++i<o;){var u=t[i],h=e?e(u):u;if(u=n||0!==u?u:0,s&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),a.push(u)}else r(l,h,n)||(l!==a&&l.push(h),a.push(u))}return a}function tr(t,e){e=vo(e,t)?[e]:lr(e),t=To(t,e);var n=Do(Zo(e));return!(null!=t&&ui(t,n))||delete t[n]}function er(t,e,n,i){return ji(t,e,n(si(t,e)),i)}function nr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?$i(t,i?0:o,i?o+1:r):$i(t,i?o+1:0,i?r:o)}function ir(t,e){var n=t;return n instanceof r&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function rr(t,e,n){for(var i=-1,r=t.length;++i<r;)var o=o?m(Nn(o,t[i],e,n),Nn(t[i],o,e,n)):t[i];return o&&o.length?Qi(o,e,n):[]}function or(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:K;n(s,t[i],a)}return s}function sr(t){return ka(t)?t:[]}function ar(t){return"function"==typeof t?t:ac}function lr(t){return Wh(t)?t:rh(t)}function cr(t,e,n){var i=t.length;return n=n===K?i:n,!e&&n>=i?t:$i(t,e,n)}function ur(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function hr(t){var e=new t.constructor(t.byteLength);return new tu(e).set(new tu(t)),e}function dr(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function pr(t,e,n){var i=e?n(q(t),!0):q(t);return v(i,o,new t.constructor)}function fr(t){var e=new t.constructor(t.source,Ae.exec(t));return e.lastIndex=t.lastIndex,e}function gr(t,e,n){var i=e?n($(t),!0):$(t);return v(i,s,new t.constructor)}function mr(t){return Bu?Object(Bu.call(t)):{}}function vr(t,e){var n=e?hr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function yr(t,e){if(t!==e){var n=t!==K,i=null===t,r=t===t,o=Ua(t),s=e!==K,a=null===e,l=e===e,c=Ua(e);if(!a&&!c&&!o&&t>e||o&&s&&l&&!a&&!c||i&&s&&l||!n&&l||!r)return 1;if(!i&&!o&&!c&&t<e||c&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!l)return-1}return 0}function br(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var l=yr(r[i],o[i]);if(l){if(i>=a)return l;var c=n[i];return l*("desc"==c?-1:1)}}return t.index-e.index}function wr(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,l=e.length,c=vu(o-s,0),u=Oc(l+c),h=!i;++a<l;)u[a]=e[a];for(;++r<s;)(h||r<o)&&(u[n[r]]=t[r]);for(;c--;)u[a++]=t[r++];return u}function xr(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,l=-1,c=e.length,u=vu(o-a,0),h=Oc(u+c),d=!i;++r<u;)h[r]=t[r];for(var p=r;++l<c;)h[p+l]=e[l];for(;++s<a;)(d||r<o)&&(h[p+n[s]]=t[r++]);return h}function _r(t,e){var n=-1,i=t.length;for(e||(e=Oc(i));++n<i;)e[n]=t[n];return e}function Cr(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var s=e[r],a=i?i(n[s],t[s],s,n,t):K;vn(n,s,a===K?t[s]:a)}return n}function kr(t,e){return Cr(t,Ju(t),e)}function Sr(t,e){return function(n,i){var r=Wh(n)?l:bn,o=e?e():{};return r(n,t,eo(i,2),o)}}function Tr(t){return Yi(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:K,s=r>2?n[2]:K;for(o=t.length>3&&"function"==typeof o?(r--,o):K,s&&mo(n[0],n[1],s)&&(o=r<3?K:o,r=1),e=Object(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Mr(t,e){return function(n,i){if(null==n)return n;if(!Ca(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=Object(n);(e?o--:++o<r)&&i(s[o],o,s)!==!1;);return n}}function Dr(t){return function(e,n,i){for(var r=-1,o=Object(e),s=i(e),a=s.length;a--;){var l=s[t?a:++r];if(n(o[l],l,o)===!1)break}return e}}function Ar(t,e,n){function i(){var e=this&&this!==Wn&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&it,o=Ir(t);return i}function Er(t){return function(e){e=rl(e);var n=Mn.test(e)?X(e):K,i=n?n[0]:e.charAt(0),r=n?cr(n,1).join(""):e.slice(1);return i[t]()+r}}function Pr(t){return function(e){return v(nc(Hl(e).replace(Cn,"")),t,"")}}function Ir(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rn(t.prototype),i=t.apply(n,e);return Ra(i)?i:n}}function Or(t,e,n){function i(){for(var o=arguments.length,s=Oc(o),l=o,c=to(i);l--;)s[l]=arguments[l];var u=o<3&&s[0]!==c&&s[o-1]!==c?[]:j(s,c);if(o-=u.length,o<n)return Yr(t,e,Hr,i.placeholder,K,s,u,K,K,n-o);var h=this&&this!==Wn&&this instanceof i?r:t;return a(h,this,s)}var r=Ir(t);return i}function Lr(t){return function(e,n,i){var r=Object(e);if(!Ca(e)){var o=eo(n,3);e=vl(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:K}}function Rr(t){return Yi(function(e){e=$n(e,1);var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var s=e[r];if("function"!=typeof s)throw new Fc(tt);if(o&&!a&&"wrapper"==Qr(s))var a=new i([],(!0))}for(r=a?r:n;++r<n;){s=e[r];var l=Qr(s),c="wrapper"==l?Xu(s):K;a=c&&bo(c[0])&&c[1]==(ut|st|lt|ht)&&!c[4].length&&1==c[9]?a[Qr(c[0])].apply(a,c[3]):1==s.length&&bo(s)?a[l]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&Wh(i)&&i.length>=Q)return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Hr(t,e,n,i,r,o,s,a,l,c){function u(){for(var v=arguments.length,y=Oc(v),b=v;b--;)y[b]=arguments[b];if(f)var w=to(u),x=F(y,w);if(i&&(y=wr(y,i,r,f)),o&&(y=xr(y,o,s,f)),v-=x,f&&v<c){var _=j(y,w);return Yr(t,e,Hr,u.placeholder,n,y,_,a,l,c-v)}var C=d?n:this,k=p?C[t]:t;return v=y.length,a?y=Mo(y,a):g&&v>1&&y.reverse(),h&&l<v&&(y.length=l),this&&this!==Wn&&this instanceof u&&(k=m||Ir(k)),k.apply(C,y)}var h=e&ut,d=e&it,p=e&rt,f=e&(st|at),g=e&dt,m=p?K:Ir(t);return u}function zr(t,e){return function(n,i){return fi(n,t,e(i),{})}}function Fr(t,e){return function(n,i){var r;if(n===K&&i===K)return e;if(n!==K&&(r=n),i!==K){if(r===K)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Ki(n),i=Ki(i)),r=t(n,i)}return r}}function Nr(t){return Yi(function(e){return e=1==e.length&&Wh(e[0])?g(e[0],O(eo())):g($n(e,1),O(eo())),Yi(function(n){var i=this;return t(e,function(t){return a(t,i,n)})})})}function Br(t,e){e=e===K?" ":Ji(e);var n=e.length;if(n<2)return n?qi(e,t):e;var i=qi(e,cu(t/G(e)));return Mn.test(e)?cr(X(i),0,t).join(""):i.slice(0,t)}function Wr(t,e,n,i){function r(){for(var e=-1,l=arguments.length,c=-1,u=i.length,h=Oc(u+l),d=this&&this!==Wn&&this instanceof r?s:t;++c<u;)h[c]=i[c];for(;l--;)h[c++]=arguments[++e];return a(d,o?n:this,h)}var o=e&it,s=Ir(t);return r}function Vr(t){return function(e,n,i){return i&&"number"!=typeof i&&mo(e,n,i)&&(n=i=K),e=Ja(e),n===K?(n=e,e=0):n=Ja(n),i=i===K?e<n?1:-1:Ja(i),Vi(e,n,i,t)}}function qr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=el(e),n=el(n)),t(e,n)}}function Yr(t,e,n,i,r,o,s,a,l,c){var u=e&st,h=u?s:K,d=u?K:s,p=u?o:K,f=u?K:o;e|=u?lt:ct,e&=~(u?ct:lt),e&ot||(e&=~(it|rt));var g=[t,e,r,p,h,f,d,a,l,c],m=n.apply(K,g);return bo(t)&&nh(m,g),m.placeholder=i,ih(m,t,e)}function jr(t){var e=Hc[t];return function(t,n){if(t=el(t),n=yu(Qa(n),292)){var i=(rl(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(rl(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function $r(t){return function(e){var n=th(e);return n==zt?q(e):n==Vt?U(e):I(e,t(e))}}function Ur(t,e,n,i,r,o,s,a){var l=e&rt;if(!l&&"function"!=typeof t)throw new Fc(tt);var c=i?i.length:0;if(c||(e&=~(lt|ct),i=r=K),s=s===K?s:vu(Qa(s),0),a=a===K?a:Qa(a),c-=r?r.length:0,e&ct){var u=i,h=r;i=r=K}var d=l?K:Xu(t),p=[t,e,n,i,r,u,h,o,s,a];if(d&&ko(p,d),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],a=p[9]=null==p[9]?l?0:t.length:vu(p[9]-c,0),!a&&e&(st|at)&&(e&=~(st|at)),e&&e!=it)f=e==st||e==at?Or(t,e,a):e!=lt&&e!=(it|lt)||r.length?Hr.apply(K,p):Wr(t,e,n,i);else var f=Ar(t,e,n);var g=d?Uu:nh;return ih(g(f,p),t,e)}function Gr(t,e,n,i,r,o){var s=r&ft,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var u=-1,h=!0,d=r&pt?new sn:K;for(o.set(t,e),o.set(e,t);++u<a;){var p=t[u],f=e[u];if(i)var g=s?i(f,p,u,e,t,o):i(p,f,u,t,e,o);if(g!==K){if(g)continue;h=!1;break}if(d){if(!b(e,function(t,e){if(!d.has(e)&&(p===t||n(p,t,i,r,o)))return d.add(e)})){h=!1;break}}else if(p!==f&&!n(p,f,i,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Xr(t,e,n,i,r,o,s){switch(n){case Gt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Ut:return!(t.byteLength!=e.byteLength||!i(new tu(t),new tu(e)));case It:case Ot:case Ft:return xa(+t,+e);case Lt:return t.name==e.name&&t.message==e.message;case Wt:case qt:return t==e+"";case zt:var a=q;case Vt:var l=o&ft;if(a||(a=$),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;o|=pt,s.set(t,e);var u=Gr(a(t),a(e),i,r,o,s);return s.delete(t),u;case Yt:if(Bu)return Bu.call(t)==Bu.call(e)}return!1}function Zr(t,e,n,i,r,o){var s=r&ft,a=vl(t),l=a.length,c=vl(e),u=c.length;if(l!=u&&!s)return!1;for(var h=l;h--;){var d=a[h];if(!(s?d in e:ui(e,d)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=s;++h<l;){d=a[h];var m=t[d],v=e[d];if(i)var y=s?i(v,m,d,e,t,o):i(m,v,d,t,e,o);if(!(y===K?m===v||n(m,v,i,r,o):y)){f=!1;break}g||(g="constructor"==d)}if(f&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o.delete(t),o.delete(e),f}function Kr(t){return ai(t,vl,Ju)}function Jr(t){return ai(t,yl,Qu)}function Qr(t){for(var e=t.name+"",n=Ou[e],i=jc.call(Ou,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function to(t){var n=jc.call(e,"placeholder")?e:t;return n.placeholder}function eo(){var t=e.iteratee||lc;return t=t===lc?Ti:t,arguments.length?t(arguments[0],arguments[1]):t}function no(t,e){var n=t.__data__;return yo(e)?n["string"==typeof e?"string":"hash"]:n.map}function io(t){for(var e=vl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,_o(r)]}return e}function ro(t,e){var n=B(t,e);return _i(n)?n:K}function oo(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=yu(e,t+s);break;case"takeRight":t=vu(t,e-s)}}return{start:t,end:e}}function so(t){var e=t.match(ke);return e?e[1].split(Se):[]}function ao(t,e,n){e=vo(e,t)?[e]:lr(e);for(var i,r=-1,o=e.length;++r<o;){var s=Do(e[r]);if(!(i=null!=t&&n(t,s)))break;t=t[s]}if(i)return i;var o=t?t.length:0;return!!o&&La(o)&&go(s,o)&&(Wh(t)||$a(t)||_a(t))}function lo(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&jc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function co(t){return"function"!=typeof t.constructor||xo(t)?{}:Rn(Ku(t))}function uo(t,e,n,i){var r=t.constructor;switch(e){case Ut:return hr(t);case It:case Ot:return new r((+t));case Gt:return dr(t,i);case Xt:case Zt:case Kt:case Jt:case Qt:case te:case ee:case ne:case ie:return vr(t,i);case zt:return pr(t,i,n);case Ft:case qt:return new r(t);case Wt:return fr(t);case Vt:return gr(t,i,n);case Yt:return mr(t)}}function ho(t){var e=t?t.length:K;return La(e)&&(Wh(t)||$a(t)||_a(t))?P(e,String):null}function po(t,e){var n=e.length,i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Ce,"{\n/* [wrapped with "+e+"] */\n")}function fo(t){return Wh(t)||_a(t)||!!(su&&t&&t[su])}function go(t,e){return e=null==e?Ct:e,!!e&&("number"==typeof t||Re.test(t))&&t>-1&&t%1==0&&t<e}function mo(t,e,n){if(!Ra(n))return!1;var i=typeof e;return!!("number"==i?Ca(n)&&go(e,n.length):"string"==i&&e in n)&&xa(n[e],t)}function vo(t,e){if(Wh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ua(t))||(ge.test(t)||!fe.test(t)||null!=e&&t in Object(e))}function yo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function bo(t){var n=Qr(t),i=e[n];if("function"!=typeof i||!(n in r.prototype))return!1;if(t===i)return!0;var o=Xu(i);return!!o&&t===o[0]}function wo(t){return!!qc&&qc in t}function xo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Bc;return t===n}function _o(t){return t===t&&!Ra(t)}function Co(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==K||t in Object(n)))}}function ko(t,e){var n=t[1],i=e[1],r=n|i,o=r<(it|rt|ut),s=i==ut&&n==st||i==ut&&n==ht&&t[7].length<=e[8]||i==(ut|ht)&&e[7].length<=e[8]&&n==st;if(!o&&!s)return t;i&it&&(t[2]=e[2],r|=n&it?0:ot);var a=e[3];if(a){var l=t[3];t[3]=l?wr(l,a,e[4]):a,t[4]=l?j(t[3],nt):e[4]}return a=e[5],a&&(l=t[5],t[5]=l?xr(l,a,e[6]):a,t[6]=l?j(t[5],nt):e[6]),a=e[7],a&&(t[7]=a),i&ut&&(t[8]=null==t[8]?e[8]:yu(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function So(t,e,n,i,r,o){return Ra(t)&&Ra(e)&&(o.set(e,t),Ii(t,e,K,So,o),o.delete(e)),t}function To(t,e){return 1==e.length?t:si(t,$i(e,0,-1))}function Mo(t,e){for(var n=t.length,i=yu(e.length,n),r=_r(t);i--;){var o=e[i];t[i]=go(o,n)?r[o]:K}return t}function Do(t){if("string"==typeof t||Ua(t))return t;var e=t+"";return"0"==e&&1/t==-_t?"-0":e}function Ao(t){if(null!=t){try{return Yc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Eo(t,e){return c(At,function(n){var i="_."+n[0];e&n[1]&&!p(t,i)&&t.push(i)}),t.sort()}function Po(t){if(t instanceof r)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=_r(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Io(t,e,n){e=(n?mo(t,e,n):e===K)?1:vu(Qa(e),0);var i=t?t.length:0;if(!i||e<1)return[];for(var r=0,o=0,s=Oc(cu(i/e));r<i;)s[o++]=$i(t,r,r+=e);return s}function Oo(t){for(var e=-1,n=t?t.length:0,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function Lo(){for(var t=arguments.length,e=Oc(t?t-1:0),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return t?m(Wh(n)?_r(n):[n],$n(e,1)):[]}function Ro(t,e,n){var i=t?t.length:0;return i?(e=n||e===K?1:Qa(e),$i(t,e<0?0:e,i)):[]}function Ho(t,e,n){var i=t?t.length:0;return i?(e=n||e===K?1:Qa(e),e=i-e,$i(t,0,e<0?0:e)):[]}function zo(t,e){return t&&t.length?nr(t,eo(e,3),!0,!0):[]}function Fo(t,e){return t&&t.length?nr(t,eo(e,3),!0):[]}function No(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&mo(t,e,n)&&(n=0,i=r),qn(t,e,n,i)):[]}function Bo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:Qa(n);return r<0&&(r=vu(i+r,0)),x(t,eo(e,3),r)}function Wo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i-1;return n!==K&&(r=Qa(n),r=n<0?vu(i+r,0):yu(r,i-1)),x(t,eo(e,3),r,!0)}function Vo(t){var e=t?t.length:0;return e?$n(t,1):[]}function qo(t){var e=t?t.length:0;return e?$n(t,_t):[]}function Yo(t,e){var n=t?t.length:0;return n?(e=e===K?1:Qa(e),$n(t,e)):[]}function jo(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function $o(t){return t&&t.length?t[0]:K}function Uo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:Qa(n);return r<0&&(r=vu(i+r,0)),_(t,e,r)}function Go(t){return Ho(t,1)}function Xo(t,e){return t?gu.call(t,e):""}function Zo(t){var e=t?t.length:0;return e?t[e-1]:K}function Ko(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if(n!==K&&(r=Qa(n),r=(r<0?vu(i+r,0):yu(r,i-1))+1),e!==e)return x(t,k,r-1,!0);for(;r--;)if(t[r]===e)return r;return-1}function Jo(t,e){return t&&t.length?Li(t,Qa(e)):K}function Qo(t,e){return t&&t.length&&e&&e.length?Ni(t,e):t}function ts(t,e,n){return t&&t.length&&e&&e.length?Ni(t,e,eo(n,2)):t}function es(t,e,n){return t&&t.length&&e&&e.length?Ni(t,e,K,n):t}function ns(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=eo(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return Bi(t,r),n}function is(t){return t?_u.call(t):t}function rs(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&mo(t,e,n)?(e=0,n=i):(e=null==e?0:Qa(e),n=n===K?i:Qa(n)),$i(t,e,n)):[]}function os(t,e){return Gi(t,e)}function ss(t,e,n){return Xi(t,e,eo(n,2))}function as(t,e){var n=t?t.length:0;if(n){var i=Gi(t,e);if(i<n&&xa(t[i],e))return i}return-1}function ls(t,e){return Gi(t,e,!0)}function cs(t,e,n){return Xi(t,e,eo(n,2),!0)}function us(t,e){var n=t?t.length:0;if(n){var i=Gi(t,e,!0)-1;if(xa(t[i],e))return i}return-1}function hs(t){return t&&t.length?Zi(t):[]}function ds(t,e){return t&&t.length?Zi(t,eo(e,2)):[]}function ps(t){return Ro(t,1)}function fs(t,e,n){return t&&t.length?(e=n||e===K?1:Qa(e),$i(t,0,e<0?0:e)):[]}function gs(t,e,n){var i=t?t.length:0;return i?(e=n||e===K?1:Qa(e),e=i-e,$i(t,e<0?0:e,i)):[]}function ms(t,e){return t&&t.length?nr(t,eo(e,3),!1,!0):[]}function vs(t,e){return t&&t.length?nr(t,eo(e,3)):[]}function ys(t){return t&&t.length?Qi(t):[]}function bs(t,e){return t&&t.length?Qi(t,eo(e,2)):[]}function ws(t,e){return t&&t.length?Qi(t,K,e):[]}function xs(t){if(!t||!t.length)return[];var e=0;return t=d(t,function(t){if(ka(t))return e=vu(t.length,e),!0}),P(e,function(e){return g(t,T(e))})}function _s(t,e){if(!t||!t.length)return[];var n=xs(t);return null==e?n:g(n,function(t){return a(e,K,t)})}function Cs(t,e){return or(t||[],e||[],vn)}function ks(t,e){return or(t||[],e||[],ji)}function Ss(t){var n=e(t);return n.__chain__=!0,n}function Ts(t,e){return e(t),t}function Ms(t,e){return e(t)}function Ds(){return Ss(this)}function As(){return new i(this.value(),this.__chain__)}function Es(){this.__values__===K&&(this.__values__=Ka(this.value()));var t=this.__index__>=this.__values__.length,e=t?K:this.__values__[this.__index__++];return{done:t,value:e}}function Ps(){return this}function Is(t){for(var e,i=this;i instanceof n;){var r=Po(i);r.__index__=0,r.__values__=K,e?o.__wrapped__=r:e=r;var o=r;i=i.__wrapped__}return o.__wrapped__=t,e}function Os(){var t=this.__wrapped__;if(t instanceof r){var e=t;return this.__actions__.length&&(e=new r(this)),e=e.reverse(),e.__actions__.push({func:Ms,args:[is],thisArg:K}),new i(e,this.__chain__)}return this.thru(is)}function Ls(){return ir(this.__wrapped__,this.__actions__)}function Rs(t,e,n){var i=Wh(t)?h:Bn;return n&&mo(t,e,n)&&(e=K),i(t,eo(e,3))}function Hs(t,e){var n=Wh(t)?d:jn;return n(t,eo(e,3))}function zs(t,e){return $n(qs(t,e),1)}function Fs(t,e){return $n(qs(t,e),_t)}function Ns(t,e,n){return n=n===K?1:Qa(n),$n(qs(t,e),n)}function Bs(t,e){var n=Wh(t)?c:Vu;return n(t,eo(e,3))}function Ws(t,e){var n=Wh(t)?u:qu;return n(t,eo(e,3))}function Vs(t,e,n,i){t=Ca(t)?t:El(t),n=n&&!i?Qa(n):0;var r=t.length;return n<0&&(n=vu(r+n,0)),$a(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&_(t,e,n)>-1}function qs(t,e){var n=Wh(t)?g:Ai;return n(t,eo(e,3))}function Ys(t,e,n,i){return null==t?[]:(Wh(e)||(e=null==e?[]:[e]),n=i?K:n,Wh(n)||(n=null==n?[]:[n]),Ri(t,e,n))}function js(t,e,n){var i=Wh(t)?v:D,r=arguments.length<3;return i(t,eo(e,4),n,r,Vu)}function $s(t,e,n){var i=Wh(t)?y:D,r=arguments.length<3;return i(t,eo(e,4),n,r,qu)}function Us(t,e){var n=Wh(t)?d:jn;return n(t,la(eo(e,3)))}function Gs(t){var e=Ca(t)?t:El(t),n=e.length;return n>0?e[Wi(0,n-1)]:K}function Xs(t,e,n){var i=-1,r=Ka(t),o=r.length,s=o-1;for(e=(n?mo(t,e,n):e===K)?1:_n(Qa(e),0,o);++i<e;){var a=Wi(i,s),l=r[a];r[a]=r[i],r[i]=l}return r.length=e,r}function Zs(t){return Xs(t,Tt)}function Ks(t){if(null==t)return 0;if(Ca(t)){var e=t.length;return e&&$a(t)?G(t):e}if(Ha(t)){var n=th(t);if(n==zt||n==Vt)return t.size}return vl(t).length}function Js(t,e,n){var i=Wh(t)?b:Ui;return n&&mo(t,e,n)&&(e=K),i(t,eo(e,3))}function Qs(){return Lc.now()}function ta(t,e){if("function"!=typeof e)throw new Fc(tt);return t=Qa(t),function(){if(--t<1)return e.apply(this,arguments)}}function ea(t,e,n){return e=n?K:e,e=t&&null==e?t.length:e,Ur(t,ut,K,K,K,K,e)}function na(t,e){var n;if("function"!=typeof e)throw new Fc(tt);return t=Qa(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=K),n}}function ia(t,e,n){e=n?K:e;var i=Ur(t,st,K,K,K,K,K,e);return i.placeholder=ia.placeholder,i}function ra(t,e,n){e=n?K:e;var i=Ur(t,at,K,K,K,K,K,e);return i.placeholder=ra.placeholder,i}function oa(t,e,n){function i(e){var n=d,i=p;return d=p=K,y=e,g=t.apply(i,n)}function r(t){return y=t,m=lu(a,e),b?i(t):g}function o(t){var n=t-v,i=t-y,r=e-n;return w?yu(r,f-i):r}function s(t){var n=t-v,i=t-y;return v===K||n>=e||n<0||w&&i>=f}function a(){var t=Qs();return s(t)?l(t):void(m=lu(a,o(t)))}function l(t){return m=K,x&&d?i(t):(d=p=K,g)}function c(){m!==K&&au(m),y=0,d=v=p=m=K}function u(){return m===K?g:l(Qs())}function h(){var t=Qs(),n=s(t);if(d=arguments,p=this,v=t,n){if(m===K)return r(v);if(w)return m=lu(a,e),i(v)}return m===K&&(m=lu(a,e)),g}var d,p,f,g,m,v,y=0,b=!1,w=!1,x=!0;if("function"!=typeof t)throw new Fc(tt);return e=el(e)||0,Ra(n)&&(b=!!n.leading,w="maxWait"in n,f=w?vu(el(n.maxWait)||0,e):f,x="trailing"in n?!!n.trailing:x),h.cancel=c,h.flush=u,h}function sa(t){return Ur(t,dt)}function aa(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Fc(tt);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(aa.Cache||Qe),n}function la(t){if("function"!=typeof t)throw new Fc(tt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ca(t){return na(2,t)}function ua(t,e){if("function"!=typeof t)throw new Fc(tt);return e=e===K?e:Qa(e),Yi(t,e)}function ha(t,e){if("function"!=typeof t)throw new Fc(tt);return e=e===K?0:vu(Qa(e),0),Yi(function(n){var i=n[e],r=cr(n,0,e);return i&&m(r,i),a(t,this,r)})}function da(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new Fc(tt);return Ra(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),oa(t,e,{leading:i,maxWait:e,trailing:r})}function pa(t){return ea(t,1)}function fa(t,e){return e=null==e?ac:e,Hh(e,t)}function ga(){if(!arguments.length)return[];var t=arguments[0];return Wh(t)?t:[t]}function ma(t){return Sn(t,!1,!0)}function va(t,e){return Sn(t,!1,!0,e)}function ya(t){return Sn(t,!0,!0)}function ba(t,e){return Sn(t,!0,!0,e)}function wa(t,e){return null==e||Ln(t,e,vl(e))}function xa(t,e){return t===e||t!==t&&e!==e}function _a(t){return ka(t)&&jc.call(t,"callee")&&(!ru.call(t,"callee")||Gc.call(t)==Et)}function Ca(t){return null!=t&&La(Zu(t))&&!Ia(t)}function ka(t){return Ha(t)&&Ca(t)}function Sa(t){return t===!0||t===!1||Ha(t)&&Gc.call(t)==It}function Ta(t){return!!t&&1===t.nodeType&&Ha(t)&&!Ya(t)}function Ma(t){if(Ca(t)&&(Wh(t)||$a(t)||Ia(t.splice)||_a(t)||qh(t)))return!t.length;if(Ha(t)){var e=th(t);if(e==zt||e==Vt)return!t.size}for(var n in t)if(jc.call(t,n))return!1;return!(Iu&&vl(t).length)}function Da(t,e){return yi(t,e)}function Aa(t,e,n){n="function"==typeof n?n:K;var i=n?n(t,e):K;return i===K?yi(t,e,n):!!i}function Ea(t){return!!Ha(t)&&(Gc.call(t)==Lt||"string"==typeof t.message&&"string"==typeof t.name)}function Pa(t){return"number"==typeof t&&fu(t)}function Ia(t){var e=Ra(t)?Gc.call(t):"";return e==Rt||e==Ht}function Oa(t){return"number"==typeof t&&t==Qa(t)}function La(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ct}function Ra(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ha(t){return!!t&&"object"==typeof t}function za(t,e){return t===e||xi(t,e,io(e))}function Fa(t,e,n){return n="function"==typeof n?n:K,xi(t,e,io(e),n)}function Na(t){return qa(t)&&t!=+t}function Ba(t){if(eh(t))throw new Rc("This method is not supported with core-js. Try https://github.com/es-shims.");return _i(t)}function Wa(t){return null===t}function Va(t){return null==t}function qa(t){return"number"==typeof t||Ha(t)&&Gc.call(t)==Ft}function Ya(t){if(!Ha(t)||Gc.call(t)!=Nt||W(t))return!1;var e=Ku(t);if(null===e)return!0;var n=jc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Yc.call(n)==Uc}function ja(t){return Oa(t)&&t>=-Ct&&t<=Ct}function $a(t){return"string"==typeof t||!Wh(t)&&Ha(t)&&Gc.call(t)==qt}function Ua(t){return"symbol"==typeof t||Ha(t)&&Gc.call(t)==Yt}function Ga(t){return t===K}function Xa(t){return Ha(t)&&th(t)==jt}function Za(t){return Ha(t)&&Gc.call(t)==$t}function Ka(t){if(!t)return[];if(Ca(t))return $a(t)?X(t):_r(t);if(nu&&t[nu])return V(t[nu]());var e=th(t),n=e==zt?q:e==Vt?$:El;return n(t)}function Ja(t){if(!t)return 0===t?t:0;if(t=el(t),t===_t||t===-_t){var e=t<0?-1:1;return e*kt}return t===t?t:0}function Qa(t){var e=Ja(t),n=e%1;return e===e?n?e-n:e:0}function tl(t){return t?_n(Qa(t),0,Tt):0}function el(t){if("number"==typeof t)return t;if(Ua(t))return St;if(Ra(t)){var e=Ia(t.valueOf)?t.valueOf():t;t=Ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(we,"");var n=Ie.test(t);return n||Le.test(t)?Fn(t.slice(2),n?2:8):Pe.test(t)?St:+t}function nl(t){return Cr(t,yl(t))}function il(t){return _n(Qa(t),-Ct,Ct)}function rl(t){return null==t?"":Ji(t)}function ol(t,e){var n=Rn(t);return e?wn(n,e):n}function sl(t,e){return w(t,eo(e,3),ii)}function al(t,e){return w(t,eo(e,3),ri)}function ll(t,e){return null==t?t:Yu(t,eo(e,3),yl)}function cl(t,e){return null==t?t:ju(t,eo(e,3),yl)}function ul(t,e){return t&&ii(t,eo(e,3))}function hl(t,e){return t&&ri(t,eo(e,3))}function dl(t){return null==t?[]:oi(t,vl(t))}function pl(t){return null==t?[]:oi(t,yl(t))}function fl(t,e,n){var i=null==t?K:si(t,e);return i===K?n:i}function gl(t,e){return null!=t&&ao(t,e,ui)}function ml(t,e){return null!=t&&ao(t,e,hi)}function vl(t){var e=xo(t);if(!e&&!Ca(t))return $u(t);var n=ho(t),i=!!n,r=n||[],o=r.length;for(var s in t)!ui(t,s)||i&&("length"==s||go(s,o))||e&&"constructor"==s||r.push(s);return r}function yl(t){for(var e=-1,n=xo(t),i=Mi(t),r=i.length,o=ho(t),s=!!o,a=o||[],l=a.length;++e<r;){var c=i[e];s&&("length"==c||go(c,l))||"constructor"==c&&(n||!jc.call(t,c))||a.push(c)}return a}function bl(t,e){var n={};return e=eo(e,3),ii(t,function(t,i,r){n[e(t,i,r)]=t}),n}function wl(t,e){var n={};return e=eo(e,3),ii(t,function(t,i,r){n[i]=e(t,i,r)}),n}function xl(t,e){return _l(t,la(eo(e)))}function _l(t,e){return null==t?{}:zi(t,Jr(t),eo(e))}function Cl(t,e,n){e=vo(e,t)?[e]:lr(e);var i=-1,r=e.length;for(r||(t=K,r=1);++i<r;){var o=null==t?K:t[Do(e[i])];o===K&&(i=r,o=n),t=Ia(o)?o.call(t):o}return t}function kl(t,e,n){return null==t?t:ji(t,e,n)}function Sl(t,e,n,i){return i="function"==typeof i?i:K,null==t?t:ji(t,e,n,i)}function Tl(t,e,n){var i=Wh(t)||Gh(t);if(e=eo(e,4),null==n)if(i||Ra(t)){var r=t.constructor;n=i?Wh(t)?new r:[]:Ia(r)?Rn(Ku(t)):{}}else n={};return(i?c:ii)(t,function(t,i,r){return e(n,t,i,r)}),n}function Ml(t,e){return null==t||tr(t,e)}function Dl(t,e,n){return null==t?t:er(t,e,ar(n))}function Al(t,e,n,i){return i="function"==typeof i?i:K,null==t?t:er(t,e,ar(n),i)}function El(t){return t?L(t,vl(t)):[]}function Pl(t){return null==t?[]:L(t,yl(t))}function Il(t,e,n){return n===K&&(n=e,e=K),n!==K&&(n=el(n),n=n===n?n:0),
e!==K&&(e=el(e),e=e===e?e:0),_n(el(t),e,n)}function Ol(t,e,n){return e=Ja(e),n===K?(n=e,e=0):n=Ja(n),t=el(t),di(t,e,n)}function Ll(t,e,n){if(n&&"boolean"!=typeof n&&mo(t,e,n)&&(e=n=K),n===K&&("boolean"==typeof e?(n=e,e=K):"boolean"==typeof t&&(n=t,t=K)),t===K&&e===K?(t=0,e=1):(t=Ja(t),e===K?(e=t,t=0):e=Ja(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=wu();return yu(t+r*(e-t+zn("1e-"+((r+"").length-1))),e)}return Wi(t,e)}function Rl(t){return wd(rl(t).toLowerCase())}function Hl(t){return t=rl(t),t&&t.replace(He,Qn).replace(kn,"")}function zl(t,e,n){t=rl(t),e=Ji(e);var i=t.length;n=n===K?i:_n(Qa(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function Fl(t){return t=rl(t),t&&ue.test(t)?t.replace(le,ti):t}function Nl(t){return t=rl(t),t&&be.test(t)?t.replace(ye,"\\$&"):t}function Bl(t,e,n){t=rl(t),e=Qa(e);var i=e?G(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Br(uu(r),n)+t+Br(cu(r),n)}function Wl(t,e,n){t=rl(t),e=Qa(e);var i=e?G(t):0;return e&&i<e?t+Br(e-i,n):t}function Vl(t,e,n){t=rl(t),e=Qa(e);var i=e?G(t):0;return e&&i<e?Br(e-i,n)+t:t}function ql(t,e,n){return n||null==e?e=0:e&&(e=+e),t=rl(t).replace(we,""),bu(t,e||(Ee.test(t)?16:10))}function Yl(t,e,n){return e=(n?mo(t,e,n):e===K)?1:Qa(e),qi(rl(t),e)}function jl(){var t=arguments,e=rl(t[0]);return t.length<3?e:xu.call(e,t[1],t[2])}function $l(t,e,n){return n&&"number"!=typeof n&&mo(t,e,n)&&(e=n=K),(n=n===K?Tt:n>>>0)?(t=rl(t),t&&("string"==typeof e||null!=e&&!$h(e))&&(e=Ji(e),""==e&&Mn.test(t))?cr(X(t),0,n):Cu.call(t,e,n)):[]}function Ul(t,e,n){return t=rl(t),n=_n(Qa(n),0,t.length),e=Ji(e),t.slice(n,n+e.length)==e}function Gl(t,n,i){var r=e.templateSettings;i&&mo(t,n,i)&&(n=K),t=rl(t),n=Qh({},n,r,gn);var o,s,a=Qh({},n.imports,r.imports,gn),l=vl(a),c=L(a,l),u=0,h=n.interpolate||ze,d="__p += '",p=zc((n.escape||ze).source+"|"+h.source+"|"+(h===pe?De:ze).source+"|"+(n.evaluate||ze).source+"|$","g"),f="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++En+"]")+"\n";t.replace(p,function(e,n,i,r,a,l){return i||(i=r),d+=t.slice(u,l).replace(Fe,N),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var g=n.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(re,""):d).replace(oe,"$1").replace(se,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=xd(function(){return Function(l,f+"return "+d).apply(K,c)});if(m.source=d,Ea(m))throw m;return m}function Xl(t){return rl(t).toLowerCase()}function Zl(t){return rl(t).toUpperCase()}function Kl(t,e,n){if(t=rl(t),t&&(n||e===K))return t.replace(we,"");if(!t||!(e=Ji(e)))return t;var i=X(t),r=X(e),o=H(i,r),s=z(i,r)+1;return cr(i,o,s).join("")}function Jl(t,e,n){if(t=rl(t),t&&(n||e===K))return t.replace(_e,"");if(!t||!(e=Ji(e)))return t;var i=X(t),r=z(i,X(e))+1;return cr(i,0,r).join("")}function Ql(t,e,n){if(t=rl(t),t&&(n||e===K))return t.replace(xe,"");if(!t||!(e=Ji(e)))return t;var i=X(t),r=H(i,X(e));return cr(i,r).join("")}function tc(t,e){var n=gt,i=mt;if(Ra(e)){var r="separator"in e?e.separator:r;n="length"in e?Qa(e.length):n,i="omission"in e?Ji(e.omission):i}t=rl(t);var o=t.length;if(Mn.test(t)){var s=X(t);o=s.length}if(n>=o)return t;var a=n-G(i);if(a<1)return i;var l=s?cr(s,0,a).join(""):t.slice(0,a);if(r===K)return l+i;if(s&&(a+=l.length-a),$h(r)){if(t.slice(a).search(r)){var c,u=l;for(r.global||(r=zc(r.source,rl(Ae.exec(r))+"g")),r.lastIndex=0;c=r.exec(u);)var h=c.index;l=l.slice(0,h===K?a:h)}}else if(t.indexOf(Ji(r),a)!=a){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function ec(t){return t=rl(t),t&&ce.test(t)?t.replace(ae,ei):t}function nc(t,e,n){return t=rl(t),e=n?K:e,e===K&&(e=Dn.test(t)?Tn:Te),t.match(e)||[]}function ic(t){var e=t?t.length:0,n=eo();return t=e?g(t,function(t){if("function"!=typeof t[1])throw new Fc(tt);return[n(t[0]),t[1]]}):[],Yi(function(n){for(var i=-1;++i<e;){var r=t[i];if(a(r[0],this,n))return a(r[1],this,n)}})}function rc(t){return On(Sn(t,!0))}function oc(t){return function(){return t}}function sc(t,e){return null==t||t!==t?e:t}function ac(t){return t}function lc(t){return Ti("function"==typeof t?t:Sn(t,!0))}function cc(t){return Ei(Sn(t,!0))}function uc(t,e){return Pi(t,Sn(e,!0))}function hc(t,e,n){var i=vl(e),r=oi(e,i);null!=n||Ra(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=oi(e,vl(e)));var o=!(Ra(n)&&"chain"in n&&!n.chain),s=Ia(t);return c(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__),r=n.__actions__=_r(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,m([this.value()],arguments))})}),t}function dc(){return Wn._===this&&(Wn._=Xc),this}function pc(){}function fc(t){return t=Qa(t),Yi(function(e){return Li(e,t)})}function gc(t){return vo(t)?T(Do(t)):Fi(t)}function mc(t){return function(e){return null==t?K:si(t,e)}}function vc(){return[]}function yc(){return!1}function bc(){return{}}function wc(){return""}function xc(){return!0}function _c(t,e){if(t=Qa(t),t<1||t>Ct)return[];var n=Tt,i=yu(t,Tt);e=eo(e),t-=Tt;for(var r=P(i,e);++n<t;)e(n);return r}function Cc(t){return Wh(t)?g(t,Do):Ua(t)?[t]:_r(rh(t))}function kc(t){var e=++$c;return rl(t)+e}function Sc(t){return t&&t.length?Vn(t,ac,ci):K}function Tc(t,e){return t&&t.length?Vn(t,eo(e,2),ci):K}function Mc(t){return S(t,ac)}function Dc(t,e){return S(t,eo(e,2))}function Ac(t){return t&&t.length?Vn(t,ac,Di):K}function Ec(t,e){return t&&t.length?Vn(t,eo(e,2),Di):K}function Pc(t){return t&&t.length?E(t,ac):0}function Ic(t,e){return t&&t.length?E(t,eo(e,2)):0}t=t?ni.defaults({},t,ni.pick(Wn,An)):Wn;var Oc=t.Array,Lc=t.Date,Rc=t.Error,Hc=t.Math,zc=t.RegExp,Fc=t.TypeError,Nc=t.Array.prototype,Bc=t.Object.prototype,Wc=t.String.prototype,Vc=t["__core-js_shared__"],qc=function(){var t=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Yc=t.Function.prototype.toString,jc=Bc.hasOwnProperty,$c=0,Uc=Yc.call(Object),Gc=Bc.toString,Xc=Wn._,Zc=zc("^"+Yc.call(jc).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kc=Yn?t.Buffer:K,Jc=t.Reflect,Qc=t.Symbol,tu=t.Uint8Array,eu=Jc?Jc.enumerate:K,nu=Qc?Qc.iterator:K,iu=t.Object.create,ru=Bc.propertyIsEnumerable,ou=Nc.splice,su=Qc?Qc.isConcatSpreadable:K,au=function(e){return t.clearTimeout.call(Wn,e)},lu=function(e,n){return t.setTimeout.call(Wn,e,n)},cu=Hc.ceil,uu=Hc.floor,hu=Object.getPrototypeOf,du=Object.getOwnPropertySymbols,pu=Kc?Kc.isBuffer:K,fu=t.isFinite,gu=Nc.join,mu=Object.keys,vu=Hc.max,yu=Hc.min,bu=t.parseInt,wu=Hc.random,xu=Wc.replace,_u=Nc.reverse,Cu=Wc.split,ku=ro(t,"DataView"),Su=ro(t,"Map"),Tu=ro(t,"Promise"),Mu=ro(t,"Set"),Du=ro(t,"WeakMap"),Au=ro(t.Object,"create"),Eu=function(){var e=ro(t.Object,"defineProperty"),n=ro.name;return n&&n.length>2?e:K}(),Pu=Du&&new Du,Iu=!ru.call({valueOf:1},"valueOf"),Ou={},Lu=Ao(ku),Ru=Ao(Su),Hu=Ao(Tu),zu=Ao(Mu),Fu=Ao(Du),Nu=Qc?Qc.prototype:K,Bu=Nu?Nu.valueOf:K,Wu=Nu?Nu.toString:K;e.templateSettings={escape:he,evaluate:de,interpolate:pe,variable:"",imports:{_:e}},e.prototype=n.prototype,e.prototype.constructor=e,i.prototype=Rn(n.prototype),i.prototype.constructor=i,r.prototype=Rn(n.prototype),r.prototype.constructor=r,We.prototype.clear=Ve,We.prototype.delete=qe,We.prototype.get=Ye,We.prototype.has=je,We.prototype.set=$e,Ue.prototype.clear=Ge,Ue.prototype.delete=Xe,Ue.prototype.get=Ze,Ue.prototype.has=Ke,Ue.prototype.set=Je,Qe.prototype.clear=tn,Qe.prototype.delete=en,Qe.prototype.get=nn,Qe.prototype.has=rn,Qe.prototype.set=on,sn.prototype.add=sn.prototype.push=an,sn.prototype.has=ln,cn.prototype.clear=un,cn.prototype.delete=hn,cn.prototype.get=dn,cn.prototype.has=pn,cn.prototype.set=fn;var Vu=Mr(ii),qu=Mr(ri,!0),Yu=Dr(),ju=Dr(!0),$u=Y(mu,Object);eu&&!ru.call({valueOf:1},"valueOf")&&(Mi=function(t){return V(eu(t))});var Uu=Pu?function(t,e){return Pu.set(t,e),t}:ac,Gu=Mu&&1/$(new Mu([,-0]))[1]==_t?function(t){return new Mu(t)}:pc,Xu=Pu?function(t){return Pu.get(t)}:pc,Zu=T("length"),Ku=Y(hu,Object),Ju=du?Y(du,Object):vc,Qu=du?function(t){for(var e=[];t;)m(e,Ju(t)),t=Ku(t);return e}:vc,th=li;(ku&&th(new ku(new ArrayBuffer(1)))!=Gt||Su&&th(new Su)!=zt||Tu&&th(Tu.resolve())!=Bt||Mu&&th(new Mu)!=Vt||Du&&th(new Du)!=jt)&&(th=function(t){var e=Gc.call(t),n=e==Nt?t.constructor:K,i=n?Ao(n):K;if(i)switch(i){case Lu:return Gt;case Ru:return zt;case Hu:return Bt;case zu:return Vt;case Fu:return jt}return e});var eh=Vc?Ia:yc,nh=function(){var t=0,e=0;return function(n,i){var r=Qs(),o=yt-(r-e);if(e=r,o>0){if(++t>=vt)return n}else t=0;return Uu(n,i)}}(),ih=Eu?function(t,e,n){var i=e+"";return Eu(t,"toString",{configurable:!0,enumerable:!1,value:oc(po(i,Eo(so(i),n)))})}:ac,rh=aa(function(t){t=rl(t);var e=[];return me.test(t)&&e.push(""),t.replace(ve,function(t,n,i,r){e.push(i?r.replace(Me,"$1"):n||t)}),e}),oh=Yi(function(t,e){return ka(t)?Nn(t,$n(e,1,ka,!0)):[]}),sh=Yi(function(t,e){var n=Zo(e);return ka(n)&&(n=K),ka(t)?Nn(t,$n(e,1,ka,!0),eo(n,2)):[]}),ah=Yi(function(t,e){var n=Zo(e);return ka(n)&&(n=K),ka(t)?Nn(t,$n(e,1,ka,!0),K,n):[]}),lh=Yi(function(t){var e=g(t,sr);return e.length&&e[0]===t[0]?pi(e):[]}),ch=Yi(function(t){var e=Zo(t),n=g(t,sr);return e===Zo(n)?e=K:n.pop(),n.length&&n[0]===t[0]?pi(n,eo(e,2)):[]}),uh=Yi(function(t){var e=Zo(t),n=g(t,sr);return e===Zo(n)?e=K:n.pop(),n.length&&n[0]===t[0]?pi(n,K,e):[]}),hh=Yi(Qo),dh=Yi(function(t,e){e=$n(e,1);var n=t?t.length:0,i=xn(t,e);return Bi(t,g(e,function(t){return go(t,n)?+t:t}).sort(yr)),i}),ph=Yi(function(t){return Qi($n(t,1,ka,!0))}),fh=Yi(function(t){var e=Zo(t);return ka(e)&&(e=K),Qi($n(t,1,ka,!0),eo(e,2))}),gh=Yi(function(t){var e=Zo(t);return ka(e)&&(e=K),Qi($n(t,1,ka,!0),K,e)}),mh=Yi(function(t,e){return ka(t)?Nn(t,e):[]}),vh=Yi(function(t){return rr(d(t,ka))}),yh=Yi(function(t){var e=Zo(t);return ka(e)&&(e=K),rr(d(t,ka),eo(e,2))}),bh=Yi(function(t){var e=Zo(t);return ka(e)&&(e=K),rr(d(t,ka),K,e)}),wh=Yi(xs),xh=Yi(function(t){var e=t.length,n=e>1?t[e-1]:K;return n="function"==typeof n?(t.pop(),n):K,_s(t,n)}),_h=Yi(function(t){t=$n(t,1);var e=t.length,n=e?t[0]:0,o=this.__wrapped__,s=function(e){return xn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof r&&go(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:Ms,args:[s],thisArg:K}),new i(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(K),t})):this.thru(s)}),Ch=Sr(function(t,e,n){jc.call(t,n)?++t[n]:t[n]=1}),kh=Lr(Bo),Sh=Lr(Wo),Th=Sr(function(t,e,n){jc.call(t,n)?t[n].push(e):t[n]=[e]}),Mh=Yi(function(t,e,n){var i=-1,r="function"==typeof e,o=vo(e),s=Ca(t)?Oc(t.length):[];return Vu(t,function(t){var l=r?e:o&&null!=t?t[e]:K;s[++i]=l?a(l,t,n):gi(t,e,n)}),s}),Dh=Sr(function(t,e,n){t[n]=e}),Ah=Sr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Eh=Yi(function(t,e){if(null==t)return[];var n=e.length;return n>1&&mo(t,e[0],e[1])?e=[]:n>2&&mo(e[0],e[1],e[2])&&(e=[e[0]]),Ri(t,$n(e,1),[])}),Ph=Yi(function(t,e,n){var i=it;if(n.length){var r=j(n,to(Ph));i|=lt}return Ur(t,i,e,n,r)}),Ih=Yi(function(t,e,n){var i=it|rt;if(n.length){var r=j(n,to(Ih));i|=lt}return Ur(e,i,t,n,r)}),Oh=Yi(function(t,e){return Hn(t,1,e)}),Lh=Yi(function(t,e,n){return Hn(t,el(e)||0,n)});aa.Cache=Qe;var Rh=Yi(function(t,e){e=1==e.length&&Wh(e[0])?g(e[0],O(eo())):g($n(e,1),O(eo()));var n=e.length;return Yi(function(i){for(var r=-1,o=yu(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return a(t,this,i)})}),Hh=Yi(function(t,e){var n=j(e,to(Hh));return Ur(t,lt,K,e,n)}),zh=Yi(function(t,e){var n=j(e,to(zh));return Ur(t,ct,K,e,n)}),Fh=Yi(function(t,e){return Ur(t,ht,K,K,K,$n(e,1))}),Nh=qr(ci),Bh=qr(function(t,e){return t>=e}),Wh=Oc.isArray,Vh=Un?O(Un):mi,qh=pu||yc,Yh=Gn?O(Gn):vi,jh=Xn?O(Xn):wi,$h=Zn?O(Zn):Ci,Uh=Kn?O(Kn):ki,Gh=Jn?O(Jn):Si,Xh=qr(Di),Zh=qr(function(t,e){return t<=e}),Kh=Tr(function(t,e){if(Iu||xo(e)||Ca(e))return void Cr(e,vl(e),t);for(var n in e)jc.call(e,n)&&vn(t,n,e[n])}),Jh=Tr(function(t,e){if(Iu||xo(e)||Ca(e))return void Cr(e,yl(e),t);for(var n in e)vn(t,n,e[n])}),Qh=Tr(function(t,e,n,i){Cr(e,yl(e),t,i)}),td=Tr(function(t,e,n,i){Cr(e,vl(e),t,i)}),ed=Yi(function(t,e){return xn(t,$n(e,1))}),nd=Yi(function(t){return t.push(K,gn),a(Qh,K,t)}),id=Yi(function(t){return t.push(K,So),a(ld,K,t)}),rd=zr(function(t,e,n){t[e]=n},oc(ac)),od=zr(function(t,e,n){jc.call(t,e)?t[e].push(n):t[e]=[n]},eo),sd=Yi(gi),ad=Tr(function(t,e,n){Ii(t,e,n)}),ld=Tr(function(t,e,n,i){Ii(t,e,n,i)}),cd=Yi(function(t,e){return null==t?{}:(e=g($n(e,1),Do),Hi(t,Nn(Jr(t),e)))}),ud=Yi(function(t,e){return null==t?{}:Hi(t,g($n(e,1),Do))}),hd=$r(vl),dd=$r(yl),pd=Pr(function(t,e,n){return e=e.toLowerCase(),t+(n?Rl(e):e)}),fd=Pr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),gd=Pr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),md=Er("toLowerCase"),vd=Pr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),yd=Pr(function(t,e,n){return t+(n?" ":"")+wd(e)}),bd=Pr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),wd=Er("toUpperCase"),xd=Yi(function(t,e){try{return a(t,K,e)}catch(t){return Ea(t)?t:new Rc(t)}}),_d=Yi(function(t,e){return c($n(e,1),function(e){e=Do(e),t[e]=Ph(t[e],t)}),t}),Cd=Rr(),kd=Rr(!0),Sd=Yi(function(t,e){return function(n){return gi(n,t,e)}}),Td=Yi(function(t,e){return function(n){return gi(t,n,e)}}),Md=Nr(g),Dd=Nr(h),Ad=Nr(b),Ed=Vr(),Pd=Vr(!0),Id=Fr(function(t,e){return t+e},0),Od=jr("ceil"),Ld=Fr(function(t,e){return t/e},1),Rd=jr("floor"),Hd=Fr(function(t,e){return t*e},1),zd=jr("round"),Fd=Fr(function(t,e){return t-e},0);return e.after=ta,e.ary=ea,e.assign=Kh,e.assignIn=Jh,e.assignInWith=Qh,e.assignWith=td,e.at=ed,e.before=na,e.bind=Ph,e.bindAll=_d,e.bindKey=Ih,e.castArray=ga,e.chain=Ss,e.chunk=Io,e.compact=Oo,e.concat=Lo,e.cond=ic,e.conforms=rc,e.constant=oc,e.countBy=Ch,e.create=ol,e.curry=ia,e.curryRight=ra,e.debounce=oa,e.defaults=nd,e.defaultsDeep=id,e.defer=Oh,e.delay=Lh,e.difference=oh,e.differenceBy=sh,e.differenceWith=ah,e.drop=Ro,e.dropRight=Ho,e.dropRightWhile=zo,e.dropWhile=Fo,e.fill=No,e.filter=Hs,e.flatMap=zs,e.flatMapDeep=Fs,e.flatMapDepth=Ns,e.flatten=Vo,e.flattenDeep=qo,e.flattenDepth=Yo,e.flip=sa,e.flow=Cd,e.flowRight=kd,e.fromPairs=jo,e.functions=dl,e.functionsIn=pl,e.groupBy=Th,e.initial=Go,e.intersection=lh,e.intersectionBy=ch,e.intersectionWith=uh,e.invert=rd,e.invertBy=od,e.invokeMap=Mh,e.iteratee=lc,e.keyBy=Dh,e.keys=vl,e.keysIn=yl,e.map=qs,e.mapKeys=bl,e.mapValues=wl,e.matches=cc,e.matchesProperty=uc,e.memoize=aa,e.merge=ad,e.mergeWith=ld,e.method=Sd,e.methodOf=Td,e.mixin=hc,e.negate=la,e.nthArg=fc,e.omit=cd,e.omitBy=xl,e.once=ca,e.orderBy=Ys,e.over=Md,e.overArgs=Rh,e.overEvery=Dd,e.overSome=Ad,e.partial=Hh,e.partialRight=zh,e.partition=Ah,e.pick=ud,e.pickBy=_l,e.property=gc,e.propertyOf=mc,e.pull=hh,e.pullAll=Qo,e.pullAllBy=ts,e.pullAllWith=es,e.pullAt=dh,e.range=Ed,e.rangeRight=Pd,e.rearg=Fh,e.reject=Us,e.remove=ns,e.rest=ua,e.reverse=is,e.sampleSize=Xs,e.set=kl,e.setWith=Sl,e.shuffle=Zs,e.slice=rs,e.sortBy=Eh,e.sortedUniq=hs,e.sortedUniqBy=ds,e.split=$l,e.spread=ha,e.tail=ps,e.take=fs,e.takeRight=gs,e.takeRightWhile=ms,e.takeWhile=vs,e.tap=Ts,e.throttle=da,e.thru=Ms,e.toArray=Ka,e.toPairs=hd,e.toPairsIn=dd,e.toPath=Cc,e.toPlainObject=nl,e.transform=Tl,e.unary=pa,e.union=ph,e.unionBy=fh,e.unionWith=gh,e.uniq=ys,e.uniqBy=bs,e.uniqWith=ws,e.unset=Ml,e.unzip=xs,e.unzipWith=_s,e.update=Dl,e.updateWith=Al,e.values=El,e.valuesIn=Pl,e.without=mh,e.words=nc,e.wrap=fa,e.xor=vh,e.xorBy=yh,e.xorWith=bh,e.zip=wh,e.zipObject=Cs,e.zipObjectDeep=ks,e.zipWith=xh,e.entries=hd,e.entriesIn=dd,e.extend=Jh,e.extendWith=Qh,hc(e,e),e.add=Id,e.attempt=xd,e.camelCase=pd,e.capitalize=Rl,e.ceil=Od,e.clamp=Il,e.clone=ma,e.cloneDeep=ya,e.cloneDeepWith=ba,e.cloneWith=va,e.conformsTo=wa,e.deburr=Hl,e.defaultTo=sc,e.divide=Ld,e.endsWith=zl,e.eq=xa,e.escape=Fl,e.escapeRegExp=Nl,e.every=Rs,e.find=kh,e.findIndex=Bo,e.findKey=sl,e.findLast=Sh,e.findLastIndex=Wo,e.findLastKey=al,e.floor=Rd,e.forEach=Bs,e.forEachRight=Ws,e.forIn=ll,e.forInRight=cl,e.forOwn=ul,e.forOwnRight=hl,e.get=fl,e.gt=Nh,e.gte=Bh,e.has=gl,e.hasIn=ml,e.head=$o,e.identity=ac,e.includes=Vs,e.indexOf=Uo,e.inRange=Ol,e.invoke=sd,e.isArguments=_a,e.isArray=Wh,e.isArrayBuffer=Vh,e.isArrayLike=Ca,e.isArrayLikeObject=ka,e.isBoolean=Sa,e.isBuffer=qh,e.isDate=Yh,e.isElement=Ta,e.isEmpty=Ma,e.isEqual=Da,e.isEqualWith=Aa,e.isError=Ea,e.isFinite=Pa,e.isFunction=Ia,e.isInteger=Oa,e.isLength=La,e.isMap=jh,e.isMatch=za,e.isMatchWith=Fa,e.isNaN=Na,e.isNative=Ba,e.isNil=Va,e.isNull=Wa,e.isNumber=qa,e.isObject=Ra,e.isObjectLike=Ha,e.isPlainObject=Ya,e.isRegExp=$h,e.isSafeInteger=ja,e.isSet=Uh,e.isString=$a,e.isSymbol=Ua,e.isTypedArray=Gh,e.isUndefined=Ga,e.isWeakMap=Xa,e.isWeakSet=Za,e.join=Xo,e.kebabCase=fd,e.last=Zo,e.lastIndexOf=Ko,e.lowerCase=gd,e.lowerFirst=md,e.lt=Xh,e.lte=Zh,e.max=Sc,e.maxBy=Tc,e.mean=Mc,e.meanBy=Dc,e.min=Ac,e.minBy=Ec,e.stubArray=vc,e.stubFalse=yc,e.stubObject=bc,e.stubString=wc,e.stubTrue=xc,e.multiply=Hd,e.nth=Jo,e.noConflict=dc,e.noop=pc,e.now=Qs,e.pad=Bl,e.padEnd=Wl,e.padStart=Vl,e.parseInt=ql,e.random=Ll,e.reduce=js,e.reduceRight=$s,e.repeat=Yl,e.replace=jl,e.result=Cl,e.round=zd,e.runInContext=Z,e.sample=Gs,e.size=Ks,e.snakeCase=vd,e.some=Js,e.sortedIndex=os,e.sortedIndexBy=ss,e.sortedIndexOf=as,e.sortedLastIndex=ls,e.sortedLastIndexBy=cs,e.sortedLastIndexOf=us,e.startCase=yd,e.startsWith=Ul,e.subtract=Fd,e.sum=Pc,e.sumBy=Ic,e.template=Gl,e.times=_c,e.toFinite=Ja,e.toInteger=Qa,e.toLength=tl,e.toLower=Xl,e.toNumber=el,e.toSafeInteger=il,e.toString=rl,e.toUpper=Zl,e.trim=Kl,e.trimEnd=Jl,e.trimStart=Ql,e.truncate=tc,e.unescape=ec,e.uniqueId=kc,e.upperCase=bd,e.upperFirst=wd,e.each=Bs,e.eachRight=Ws,e.first=$o,hc(e,function(){var t={};return ii(e,function(n,i){jc.call(e.prototype,i)||(t[i]=n)}),t}(),{chain:!1}),e.VERSION=J,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),c(["drop","take"],function(t,e){r.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new r(this);n=n===K?1:vu(Qa(n),0);var o=this.clone();return i?o.__takeCount__=yu(n,o.__takeCount__):o.__views__.push({size:yu(n,Tt),type:t+(o.__dir__<0?"Right":"")}),o},r.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==bt||n==xt;r.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:eo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");r.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");r.prototype[t]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(ac)},r.prototype.find=function(t){return this.filter(t).head()},r.prototype.findLast=function(t){return this.reverse().find(t)},r.prototype.invokeMap=Yi(function(t,e){return"function"==typeof t?new r(this):this.map(function(n){return gi(n,t,e)})}),r.prototype.reject=function(t){return this.filter(la(eo(t)))},r.prototype.slice=function(t,e){t=Qa(t);var n=this;return n.__filtered__&&(t>0||e<0)?new r(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==K&&(e=Qa(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},r.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},r.prototype.toArray=function(){return this.take(Tt)},ii(r.prototype,function(t,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),s=/^(?:head|last)$/.test(n),a=e[s?"take"+("last"==n?"Right":""):n],l=s||/^find/.test(n);a&&(e.prototype[n]=function(){var n=this.__wrapped__,c=s?[1]:arguments,u=n instanceof r,h=c[0],d=u||Wh(n),p=function(t){var n=a.apply(e,m([t],c));return s&&f?n[0]:n};d&&o&&"function"==typeof h&&1!=h.length&&(u=d=!1);var f=this.__chain__,g=!!this.__actions__.length,v=l&&!f,y=u&&!g;if(!l&&d){n=y?n:new r(this);var b=t.apply(n,c);return b.__actions__.push({func:Ms,args:[p],thisArg:K}),new i(b,f)}return v&&y?t.apply(this,c):(b=this.thru(p),v?s?b.value()[0]:b.value():b)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=Nc[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var e=this.value();return n.apply(Wh(e)?e:[],t)}return this[i](function(e){return n.apply(Wh(e)?e:[],t)})}}),ii(r.prototype,function(t,n){var i=e[n];if(i){var r=i.name+"",o=Ou[r]||(Ou[r]=[]);o.push({name:n,func:i})}}),Ou[Hr(K,rt).name]=[{name:"wrapper",func:K}],r.prototype.clone=M,r.prototype.reverse=Ne,r.prototype.value=Be,e.prototype.at=_h,e.prototype.chain=Ds,e.prototype.commit=As,e.prototype.next=Es,e.prototype.plant=Is,e.prototype.reverse=Os,e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Ls,e.prototype.first=e.prototype.head,nu&&(e.prototype[nu]=Ps),e}var K,J="4.14.1",Q=200,tt="Expected a function",et="__lodash_hash_undefined__",nt="__lodash_placeholder__",it=1,rt=2,ot=4,st=8,at=16,lt=32,ct=64,ut=128,ht=256,dt=512,pt=1,ft=2,gt=30,mt="...",vt=150,yt=16,bt=1,wt=2,xt=3,_t=1/0,Ct=9007199254740991,kt=1.7976931348623157e308,St=NaN,Tt=4294967295,Mt=Tt-1,Dt=Tt>>>1,At=[["ary",ut],["bind",it],["bindKey",rt],["curry",st],["curryRight",at],["flip",dt],["partial",lt],["partialRight",ct],["rearg",ht]],Et="[object Arguments]",Pt="[object Array]",It="[object Boolean]",Ot="[object Date]",Lt="[object Error]",Rt="[object Function]",Ht="[object GeneratorFunction]",zt="[object Map]",Ft="[object Number]",Nt="[object Object]",Bt="[object Promise]",Wt="[object RegExp]",Vt="[object Set]",qt="[object String]",Yt="[object Symbol]",jt="[object WeakMap]",$t="[object WeakSet]",Ut="[object ArrayBuffer]",Gt="[object DataView]",Xt="[object Float32Array]",Zt="[object Float64Array]",Kt="[object Int8Array]",Jt="[object Int16Array]",Qt="[object Int32Array]",te="[object Uint8Array]",ee="[object Uint8ClampedArray]",ne="[object Uint16Array]",ie="[object Uint32Array]",re=/\b__p \+= '';/g,oe=/\b(__p \+=) '' \+/g,se=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ae=/&(?:amp|lt|gt|quot|#39|#96);/g,le=/[&<>"'`]/g,ce=RegExp(ae.source),ue=RegExp(le.source),he=/<%-([\s\S]+?)%>/g,de=/<%([\s\S]+?)%>/g,pe=/<%=([\s\S]+?)%>/g,fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ge=/^\w*$/,me=/^\./,ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ye=/[\\^$.*+?()[\]{}|]/g,be=RegExp(ye.source),we=/^\s+|\s+$/g,xe=/^\s+/,_e=/\s+$/,Ce=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ke=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,Te=/[a-zA-Z0-9]+/g,Me=/\\(\\)?/g,De=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ae=/\w*$/,Ee=/^0x/i,Pe=/^[-+]0x[0-9a-f]+$/i,Ie=/^0b[01]+$/i,Oe=/^\[object .+?Constructor\]$/,Le=/^0o[0-7]+$/i,Re=/^(?:0|[1-9]\d*)$/,He=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ze=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",Be="\\u0300-\\u036f\\ufe20-\\ufe23",We="\\u20d0-\\u20f0",Ve="\\u2700-\\u27bf",qe="a-z\\xdf-\\xf6\\xf8-\\xff",Ye="\\xac\\xb1\\xd7\\xf7",je="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$e="\\u2000-\\u206f",Ue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ge="A-Z\\xc0-\\xd6\\xd8-\\xde",Xe="\\ufe0e\\ufe0f",Ze=Ye+je+$e+Ue,Ke="['’]",Je="["+Ne+"]",Qe="["+Ze+"]",tn="["+Be+We+"]",en="\\d+",nn="["+Ve+"]",rn="["+qe+"]",on="[^"+Ne+Ze+en+Ve+qe+Ge+"]",sn="\\ud83c[\\udffb-\\udfff]",an="(?:"+tn+"|"+sn+")",ln="[^"+Ne+"]",cn="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",hn="["+Ge+"]",dn="\\u200d",pn="(?:"+rn+"|"+on+")",fn="(?:"+hn+"|"+on+")",gn="(?:"+Ke+"(?:d|ll|m|re|s|t|ve))?",mn="(?:"+Ke+"(?:D|LL|M|RE|S|T|VE))?",vn=an+"?",yn="["+Xe+"]?",bn="(?:"+dn+"(?:"+[ln,cn,un].join("|")+")"+yn+vn+")*",wn=yn+vn+bn,xn="(?:"+[nn,cn,un].join("|")+")"+wn,_n="(?:"+[ln+tn+"?",tn,cn,un,Je].join("|")+")",Cn=RegExp(Ke,"g"),kn=RegExp(tn,"g"),Sn=RegExp(sn+"(?="+sn+")|"+_n+wn,"g"),Tn=RegExp([hn+"?"+rn+"+"+gn+"(?="+[Qe,hn,"$"].join("|")+")",fn+"+"+mn+"(?="+[Qe,hn+pn,"$"].join("|")+")",hn+"?"+pn+"+"+gn,hn+"+"+mn,en,xn].join("|"),"g"),Mn=RegExp("["+dn+Ne+Be+We+Xe+"]"),Dn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,An=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],En=-1,Pn={};Pn[Xt]=Pn[Zt]=Pn[Kt]=Pn[Jt]=Pn[Qt]=Pn[te]=Pn[ee]=Pn[ne]=Pn[ie]=!0,Pn[Et]=Pn[Pt]=Pn[Ut]=Pn[It]=Pn[Gt]=Pn[Ot]=Pn[Lt]=Pn[Rt]=Pn[zt]=Pn[Ft]=Pn[Nt]=Pn[Wt]=Pn[Vt]=Pn[qt]=Pn[jt]=!1;var In={};In[Et]=In[Pt]=In[Ut]=In[Gt]=In[It]=In[Ot]=In[Xt]=In[Zt]=In[Kt]=In[Jt]=In[Qt]=In[zt]=In[Ft]=In[Nt]=In[Wt]=In[Vt]=In[qt]=In[Yt]=In[te]=In[ee]=In[ne]=In[ie]=!0,In[Lt]=In[Rt]=In[jt]=!1;var On={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Rn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Hn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zn=parseFloat,Fn=parseInt,Nn="object"==typeof t&&t&&t.Object===Object&&t,Bn="object"==typeof self&&self&&self.Object===Object&&self,Wn=Nn||Bn||Function("return this")(),Vn="object"==typeof e&&e&&!e.nodeType&&e,qn=Vn&&"object"==typeof r&&r&&!r.nodeType&&r,Yn=qn&&qn.exports===Vn,jn=Yn&&Nn.process,$n=function(){try{return jn&&jn.binding("util")}catch(t){}}(),Un=$n&&$n.isArrayBuffer,Gn=$n&&$n.isDate,Xn=$n&&$n.isMap,Zn=$n&&$n.isRegExp,Kn=$n&&$n.isSet,Jn=$n&&$n.isTypedArray,Qn=M(On),ti=M(Ln),ei=M(Rn),ni=Z();Wn._=ni,i=function(){return ni}.call(e,n,e,r),!(i!==K&&(r.exports=i))}).call(this)}).call(e,function(){return this}(),n(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=e.document?n(e):n:e.Highcharts=n(e)}("undefined"!=typeof window?window:this,function(t){function e(e,n){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(n)throw new Error(i);t.console&&console.log(i)}function n(t,e,n){this.options=e,this.elem=t,this.prop=n}function i(){var t,e,n=arguments,i={},r=function(t,e){var n,i;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&(n=e[i],n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?t[i]=r(t[i]||{},n):t[i]=e[i]);return t};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=r(i,n[t]);return i}function r(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function c(t){return t!==W&&null!==t}function u(t,e,n){var i,r;if(o(e))c(n)?t.setAttribute(e,n):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&s(e))for(i in e)t.setAttribute(i,e[i]);return r}function h(t){return a(t)?t:[t]}function d(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)}function p(t,e){Dt&&!Lt&&e&&e.opacity!==W&&(e.filter="alpha(opacity="+100*e.opacity+")"),be(t.style,e)}function f(t,e,n,i,r){var o=ft.createElement(t);return e&&be(o,e),r&&p(o,{padding:0,border:"none",margin:0}),n&&p(o,n),i&&i.appendChild(o),o}function g(t,e){var n=function(){};return n.prototype=new t,be(n.prototype,e),n}function m(t,e,n){return new Array((e||2)+1-String(t).length).join(n||0)+t}function v(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)}function y(t){return 6e4*(Q&&Q(t)||J||0)}function b(t,e){var n,i=/f$/,r=/\.([0-9])/,o=j.lang;return i.test(t)?(n=t.match(r),n=n?n[1]:-1,null!==e&&(e=pt.numberFormat(e,n,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:""))):e=$(t,e),e}function w(t,e){for(var n,i,r,o,s,a,l,c="{",u=!1,h=[];(l=t.indexOf(c))!==-1;){if(n=t.slice(0,l),u){for(i=n.split(":"),r=i.shift().split("."),s=r.length,a=e,o=0;o<s;o++)a=a[r[o]];i.length&&(a=b(i.join(":"),a)),h.push(a)}else h.push(n);t=t.slice(l+1),u=!u,c=u?"}":"{"}return h.push(t),h.join("")}function x(t){return gt.pow(10,vt(gt.log(t)/gt.LN10))}function _(t,e,n,i,r){var o,s,a=t;for(n=xe(n,1),o=t/n,e||(e=[1,2,2.5,5,10],i===!1&&(1===n?e=[1,2,5,10]:n<=.1&&(e=[1/n]))),s=0;s<e.length&&(a=e[s],!(r&&a*n>=t||!r&&o<=(e[s]+(e[s+1]||e[s]))/2));s++);return a*=n}function C(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI}function k(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function S(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function T(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function M(t){Y||(Y=f(Yt)),t&&Y.appendChild(t),Y.innerHTML=""}function D(t,e){return parseFloat(t.toPrecision(e||14))}function A(t,e){e.renderer.globalAnimation=xe(t,e.animation)}function E(t){return s(t)?i(t):{duration:t?500:0}}function P(){var e=j.global,n=e.useUTC,i=n?"getUTC":"get",r=n?"setUTC":"set";Z=e.Date||t.Date,J=n&&e.timezoneOffset,Q=n&&e.getTimezoneOffset,K=function(t,e,i,r,o,s){var a;return n?(a=Z.UTC.apply(0,arguments),a+=y(a)):a=new Z(t,e,xe(i,1),xe(r,0),xe(o,0),xe(s,0)).getTime(),a},tt=i+"Minutes",et=i+"Hours",nt=i+"Day",it=i+"Date",rt=i+"Month",ot=i+"FullYear",st=r+"Milliseconds",at=r+"Seconds",lt=r+"Minutes",ct=r+"Hours",ut=r+"Date",ht=r+"Month",dt=r+"FullYear"}function I(t){return j=i(!0,j,t),P(),j}function O(){return j}function L(t){return this instanceof L?void this.init(t):new L(t)}function R(){}function H(t,e){var n=ft.getElementsByTagName("head")[0],i=ft.createElement("script");i.type="text/javascript",i.src=t,i.onload=e,n.appendChild(i)}function z(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function F(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:xe(e.y,o?4:n?14:-6),x:xe(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}function N(t){var e=t.options,n=e.navigator,i=n.enabled,r=e.scrollbar,o=r.enabled,s=i?n.height:0,a=o?r.height:0;this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],this.chart=t,this.setBaseSeries(),this.height=s,this.scrollbarHeight=a,this.scrollbarEnabled=o,this.navigatorEnabled=i,this.navigatorOptions=n,this.scrollbarOptions=r,this.outlineHeight=s+a,this.init()}function B(t){this.init(t)}var W,V,q,Y,j,$,U,G,X,Z,K,J,Q,tt,et,nt,it,rt,ot,st,at,lt,ct,ut,ht,dt,pt,ft=t.document,gt=Math,mt=gt.round,vt=gt.floor,yt=gt.ceil,bt=gt.max,wt=gt.min,xt=gt.abs,_t=gt.cos,Ct=gt.sin,kt=gt.PI,St=2*kt/360,Tt=t.navigator&&t.navigator.userAgent||"",Mt=t.opera,Dt=/(msie|trident|edge)/i.test(Tt)&&!Mt,At=ft&&8===ft.documentMode,Et=!Dt&&/AppleWebKit/.test(Tt),Pt=/Firefox/.test(Tt),It=/(Mobile|Android|Windows Phone)/.test(Tt),Ot="http://www.w3.org/2000/svg",Lt=ft&&ft.createElementNS&&!!ft.createElementNS(Ot,"svg").createSVGRect,Rt=Pt&&parseInt(Tt.split("Firefox/")[1],10)<4,Ht=ft&&!Lt&&!Dt&&!!ft.createElement("canvas").getContext,zt={},Ft=0,Nt=function(){},Bt=[],Wt=0,Vt="Highstock",qt="4.2.5",Yt="div",jt="absolute",$t="relative",Ut="hidden",Gt="highcharts-",Xt="visible",Zt="px",Kt="none",Jt="M",Qt="L",te=/^[0-9]+$/,ee="",ne="hover",ie="select",re=["plotTop","marginRight","marginBottom","plotLeft"],oe="stroke-width",se={};
pt=t.Highcharts?e(16,!0):{win:t},pt.seriesTypes=se;var ae,le,ce,ue,he,de,pe,fe,ge,me,ve,ye=[];n.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&r<1)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,e,n){var i,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new Z,this.start=t,this.end=e,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===ye.push(o)&&(o.timerId=setInterval(function(){for(i=0;i<ye.length;i++)ye[i]()||ye.splice(i--,1);ye.length||clearInterval(o.timerId)},13))},step:function(t){var e,n,i,r=+new Z,o=this.options,s=this.elem,a=o.complete,l=o.duration,c=o.curAnim;if(s.attr&&!s.element)e=!1;else if(t||r>=l+this.startTime){this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,n=!0;for(i in c)c[i]!==!0&&(n=!1);n&&a&&a.call(s),e=!1}else this.pos=o.easing((r-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,n){e=e||"";var i,r,o,s=t.shift,a=e.indexOf("C")>-1,l=a?7:3,c=e.split(" "),u=[].concat(n),h=t.isArea,d=h?2:1,p=function(t){for(o=t.length;o--;)t[o]!==Jt&&t[o]!==Qt||t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(a&&(p(c),p(u)),s<=u.length/l&&c.length===u.length)for(;s--;)u=u.slice(0,l).concat(u),h&&(u=u.concat(u.slice(u.length-l)));if(t.shift=0,c.length)for(i=u.length;c.length<i;)r=c.slice().splice(c.length/d-l,l*d),a&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),[].splice.apply(c,[c.length/d,0].concat(r));return[c,u]}};var be=pt.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},we=pt.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},xe=pt.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(e=n[t],e!==W&&null!==e)return e},_e=pt.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}};$=function(t,e,n){if(!we(e))return j.lang.invalidDate||"";t=xe(t,"%Y-%m-%d %H:%M:%S");var i,r=new Z(e-y(e)),o=r[et](),s=r[nt](),a=r[it](),l=r[rt](),c=r[ot](),u=j.lang,h=u.weekdays,d=u.shortWeekdays,p=be({a:d?d[s]:h[s].substr(0,3),A:h[s],d:m(a),e:m(a,2," "),w:s,b:u.shortMonths[l],B:u.months[l],m:m(l+1),y:c.toString().substr(2,2),Y:c,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(r[tt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:m(r.getSeconds()),L:m(mt(e%1e3),3)},pt.dateFormats);for(i in p)for(;t.indexOf("%"+i)!==-1;)t=t.replace("%"+i,"function"==typeof p[i]?p[i](e):p[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},G={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},pt.numberFormat=function(t,e,n,i){t=+t||0,e=+e;var o,s,a,l,c=j.lang,u=(t.toString().split(".")[1]||"").length,h=Math.abs(t);return e===-1?e=Math.min(u,20):we(e)||(e=2),s=String(r(h.toFixed(e))),a=s.length>3?s.length%3:0,n=xe(n,c.decimalPoint),i=xe(i,c.thousandsSep),l=t<0?"-":"",l+=a?s.substr(0,a)+i:"",l+=s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i),e&&(o=Math.abs(h-s+Math.pow(10,-Math.max(e,u)-1)),l+=n+o.toFixed(e).slice(2)),l},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},ae=function(e,n){var i;return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-ae(e,"padding-left")-ae(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-ae(e,"padding-top")-ae(e,"padding-bottom"):(i=t.getComputedStyle(e,void 0),i&&r(i.getPropertyValue(n)))},le=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},ue=function(t,e){return[].filter.call(t,e)},de=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},he=function(e){var n=ft.documentElement,i=e.getBoundingClientRect();return{top:i.top+(t.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(t.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},ve=function(t){for(var e=ye.length;e--;)ye[e].elem===t&&(ye[e].stopped=!0)},ce=function(t,e){return Array.prototype.forEach.call(t,e)},pe=function(e,n,i){function r(n){n.target=n.srcElement||t,i.call(e,n)}var o=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[i.toString()]=r,e.attachEvent("on"+n,r)),o[n]||(o[n]=[]),o[n].push(i)},fe=function(t,e,n){function i(e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&(n=t.hcEventsIE[n.toString()],t.detachEvent("on"+e,n))}function r(){var n,r,o;if(t.nodeName){e?(n={},n[e]=!0):n=a;for(o in n)if(a[o])for(r=a[o].length;r--;)i(o,a[o][r])}}var o,s,a=t.hcEvents;a&&(e?(o=a[e]||[],n?(s=le(n,o),s>-1&&(o.splice(s,1),a[e]=o),i(e,n)):(r(),a[e]=[])):(r(),t.hcEvents={}))},ge=function(t,e,n,i){var r,o,s,a,l,c=t.hcEvents;if(n=n||{},ft.createEvent&&(t.dispatchEvent||t.fireEvent))r=ft.createEvent("Events"),r.initEvent(e,!0,!0),r.target=t,be(r,n),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(c)for(o=c[e]||[],s=o.length,n.preventDefault||(n.preventDefault=function(){n.defaultPrevented=!0}),n.target=t,n.type||(n.type=e),a=0;a<s;a++)l=o[a],l.call(t,n)===!1&&n.preventDefault();i&&!n.defaultPrevented&&i(n)},me=function(t,e,r){var o,a,l,c,u,h="";s(r)||(c=arguments,r={duration:c[2],easing:c[3],complete:c[4]}),we(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=i(e);for(u in e)l=new n(t,r,u),a=null,"d"===u?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,o=0,a=1):t.attr?o=t.attr(u):(o=parseFloat(ae(t,u))||0,"opacity"!==u&&(h="px")),a||(a=e[u]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(o,a,h)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(pt[o(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Bt[u(this[0],"data-highcharts-chart")]}),ft&&!ft.defaultView&&(ae=function(t,e){var n,i={width:"clientWidth",height:"clientHeight"}[e];return t.style[e]?r(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*ae(t,"padding"),0)):(n=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===n?1:r(n)))}),Array.prototype.forEach||(ce=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e.call(t[n],t[n],n,t)===!1)return n}),Array.prototype.indexOf||(le=function(t,e){var n,i=0;if(e)for(n=e.length;i<n;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(ue=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n}),pt.Fx=n,pt.inArray=le,pt.each=ce,pt.grep=ue,pt.offset=he,pt.map=de,pt.addEvent=pe,pt.removeEvent=fe,pt.fireEvent=ge,pt.animate=me,pt.animObject=E,pt.stop=ve,j={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/4.2.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":pt.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:jt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:jt,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:$t,top:"45%"},style:{position:jt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Lt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:It?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Ce=j.plotOptions,ke=Ce.line;P(),L.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[r(t[1],16),r(t[2],16),r(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],init:function(t){var e,n,i,r;if(this.input=t,t&&t.stops)this.stops=de(t.stops,function(t){return new L(t[1])});else for(i=this.parsers.length;i--&&!n;)r=this.parsers[i],e=r.regex.exec(t),e&&(n=r.parse(e));this.rgba=n||[]},get:function(t){var e,n=this.input,r=this.rgba;return this.stops?(e=i(n),e.stops=[].concat(e.stops),ce(this.stops,function(n,i){e.stops[i]=[e.stops[i][0],n.get(t)]})):e=r&&we(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":n,e},brighten:function(t){var e,n=this.rgba;if(this.stops)ce(this.stops,function(e){e.brighten(t)});else if(we(t)&&0!==t)for(e=0;e<3;e++)n[e]+=r(255*t),n[e]<0&&(n[e]=0),n[e]>255&&(n[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},R.prototype={opacity:1,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(t,e){var n=this;n.element="span"===e?f(e):ft.createElementNS(Ot,e),n.renderer=t},animate:function(t,e,n){var i=xe(e,this.renderer.globalAnimation,!0);return ve(this),i?(n&&(i.complete=n),me(this,t,i)):this.attr(t,null,n),this},colorGradient:function(t,e,n){var r,o,s,l,u,h,d,p,f,g,m,v,y,b=this.renderer,w=[];if(t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient"),o){s=t[o],u=b.gradients,d=t.stops,g=n.radialReference,a(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(s.gradientUnits)&&(l=s,s=i(s,b.getRadialAttr(g,l),{gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&w.push(m,s[m]);for(m in d)w.push(d[m]);w=w.join(","),u[w]?v=u[w].attr("id"):(s.id=v=Gt+Ft++,u[w]=h=b.createElement(o).attr(s).add(b.defs),h.radAttr=l,h.stops=[],ce(d,function(t){var e;0===t[1].indexOf("rgba")?(r=L(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),e=b.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(h),h.stops.push(e)})),y="url("+b.url+"#"+v+")",n.setAttribute(e,y),n.gradient=w,t.toString=function(){return y}}},applyTextShadow:function(t){var e,n=this.element,i=t.indexOf("contrast")!==-1,o={},s=this.renderer.forExport,a=s||n.style.textShadow!==W&&!Dt;i&&(o.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(Et||s)&&(o.textRendering="geometricPrecision"),a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(n.getElementsByTagName("tspan")),ce(t.split(/\s?,\s?/g),function(t){var i,o,s=n.firstChild;t=t.split(" "),i=t[t.length-1],o=t[t.length-2],o&&ce(e,function(t,e){var a;0===e&&(t.setAttribute("x",n.getAttribute("x")),e=n.getAttribute("y"),t.setAttribute("y",e||0),null===e&&n.setAttribute("y",0)),a=t.cloneNode(1),u(a,{class:Gt+"text-shadow",fill:i,stroke:i,"stroke-opacity":1/bt(r(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(a,s)})}))},attr:function(t,e,n){var i,r,o,s,a,l=this.element,c=this;if("string"==typeof t&&e!==W&&(i=t,t={},t[i]=e),"string"==typeof t)c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l);else{for(i in t)r=t[i],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||(a=this[i+"Setter"]||this._defaultSetter,a.call(this,r,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,r,a));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),c},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t){var e=this.element,n=u(e,"class")||"";return n.indexOf(t)===-1&&u(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;ce(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=xe(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Kt)},crisp:function(t){var e,n,i=this,r={},o=i.strokeWidth||0;n=mt(o)%2/2,t.x=vt(t.x||i.x||0)+n,t.y=vt(t.y||i.y||0)+n,t.width=vt((t.width||i.width||0)-2*n),t.height=vt((t.height||i.height||0)-2*n),t.strokeWidth=o;for(e in t)i[e]!==t[e]&&(i[e]=r[e]=t[e]);return r},css:function(t){var e,n,i,o=this,s=o.styles,a={},l=o.element,c="",h=!s;if(t&&t.color&&(t.fill=t.color),s)for(n in t)t[n]!==s[n]&&(a[n]=t[n],h=!0);if(h){if(e=o.textWidth=t&&t.width&&"text"===l.nodeName.toLowerCase()&&r(t.width)||o.textWidth,s&&(t=be(s,a)),o.styles=t,e&&(Ht||!Lt&&o.renderer.forExport)&&delete t.width,Dt&&!Lt)p(o.element,t);else{i=function(t,e){return"-"+e.toLowerCase()};for(n in t)c+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";u(l,"style",c)}e&&o.added&&o.renderer.buildText(o)}return o},on:function(t,e){var n=this,i=n.element;return q&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=Z.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(Tt.indexOf("Android")===-1||Z.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,o=e.scaleY,s=e.inverted,a=e.rotation,l=e.element;s&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(c(r)||c(o))&&t.push("scale("+xe(r,1)+" "+xe(o,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,s,a,c,u={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,n&&!o(n)||(this.alignTo=c=n||"renderer",l(d,this),d.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,c=this.alignTo),n=xe(n,h[c],h),i=t.align,r=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"!==i&&"center"!==i||(s+=(n.width-(t.width||0))/{right:1,center:2}[i]),u[e?"translateX":"x"]=mt(s),"bottom"!==r&&"middle"!==r||(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),u[e?"translateY":"y"]=mt(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,o,s,a,l,c,u=this,h=u.renderer,d=u.element,p=u.styles,f=u.textStr,g=d.style,m=h.cache,v=h.cacheKeys;if(o=xe(e,u.rotation),s=o*St,f!==W&&(c=["",o||0,p&&p.fontSize,d.style.width].join(","),c=""===f||te.test(f)?"num:"+f.toString().length+c:f+c),c&&!t&&(n=m[c]),!n){if(d.namespaceURI===Ot||h.forExport){try{l=this.fakeTS&&function(t){ce(d.querySelectorAll("."+Gt+"text-shadow"),function(e){e.style.display=t})},Pt&&g.textShadow?(a=g.textShadow,g.textShadow=""):l&&l(Kt),n=d.getBBox?be({},d.getBBox()):{width:d.offsetWidth,height:d.offsetHeight},a?g.textShadow=a:l&&l("")}catch(t){}(!n||n.width<0)&&(n={width:0,height:0})}else n=u.htmlGetBBox();if(h.isSVG&&(i=n.width,r=n.height,Dt&&p&&"11px"===p.fontSize&&"16.9"===r.toPrecision(3)&&(n.height=r=14),o&&(n.width=xt(r*Ct(s))+xt(i*_t(s)),n.height=xt(r*_t(s))+xt(i*Ct(s)))),c){for(;v.length>250;)delete m[v.shift()];m[c]||v.push(c),m[c]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":Xt})},hide:function(){return this.attr({visibility:Ut})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,r=i.element||{},o=i.shadows,s=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,ve(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),o&&ce(o,function(t){i.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)t=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=t;i.alignTo&&l(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(t,e,n){var i,r,o,s,a,l,c=[],h=this.element;if(t){for(s=xe(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+xe(t.offsetX,1)+", "+xe(t.offsetY,1)+")",i=1;i<=s;i++)r=h.cloneNode(0),o=2*s+1-2*i,u(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:Kt}),n&&(u(r,"height",bt(u(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=xe(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=r(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=ft.createElementNS(Ot,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(ft.createTextNode(String(xe(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,o,s,a,l=this.renderer,u=this.parentGroup,h=u||l,d=h.element||l.box,p=this.element,f=this.added;if(c(t)&&(p.zIndex=t,t=+t,this[e]===t&&(f=!1),this[e]=t),f){for(t=this.zIndex,t&&u&&(u.handleZ=!0),n=d.childNodes,a=0;a<n.length&&!s;a++)i=n[a],o=i.zIndex,i!==p&&(r(o)>t||!c(t)&&c(o))&&(d.insertBefore(p,i),s=!0);s||d.appendChild(p)}return s},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},R.prototype.yGetter=R.prototype.xGetter,R.prototype.translateXSetter=R.prototype.translateYSetter=R.prototype.rotationSetter=R.prototype.verticalAlignSetter=R.prototype.scaleXSetter=R.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},R.prototype["stroke-widthSetter"]=R.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],R.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var Se=function(){this.init.apply(this,arguments)};Se.prototype={Element:R,init:function(e,n,i,r,o,s){var a,l,c,h=this;a=h.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r)),l=a.element,e.appendChild(l),e.innerHTML.indexOf("xmlns")===-1&&u(l,"xmlns",Ot),h.isSVG=!0,h.box=l,h.boxWrapper=a,h.alignedObjects=[],h.url=(Pt||Et)&&ft.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",c=this.createElement("desc").add(),c.element.appendChild(ft.createTextNode("Created with "+Vt+" "+qt)),h.defs=this.createElement("defs").add(),h.allowHTML=s,h.forExport=o,h.gradients={},h.cache={},h.cacheKeys=[],h.imgCount=0,h.setSize(n,i,!1);var d,f;Pt&&e.getBoundingClientRect&&(h.subPixelFix=d=function(){p(e,{left:0,top:0}),f=e.getBoundingClientRect(),p(e,{left:yt(f.left)-f.left+Zt,top:yt(f.top)-f.top+Zt})},d(),pe(t,"resize",d))},getStyle:function(t){return this.style=be({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,n=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),T(e.gradients||{}),e.gradients=null,n&&(e.defs=n.destroy()),e.subPixelFix&&fe(t,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,n,i,o,s=t.element,a=this,l=a.forExport,c=xe(t.textStr,"").toString(),h=c.indexOf("<")!==-1,d=s.childNodes,f=u(s,"x"),g=t.styles,m=t.textWidth,v=g&&g.lineHeight,y=g&&g.textShadow,b=g&&"ellipsis"===g.textOverflow,w=d.length,x=m&&!t.added&&this.box,_=function(t){return v?r(v):a.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:g&&g.fontSize||a.style.fontSize||12,t).h},C=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};w--;)s.removeChild(d[w]);h||y||b||c.indexOf(" ")!==-1?(n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(s),e=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],e=ue(e,function(t){return""!==t}),ce(e,function(e,r){var c,h=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=e.split("|||"),ce(c,function(e){if(""!==e||1===c.length){var d,v={},y=ft.createElementNS(Ot,"tspan");if(n.test(e)&&(d=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",d)),i.test(e)&&!l&&(u(y,"onclick",'location.href="'+e.match(i)[1]+'"'),p(y,{cursor:"pointer"})),e=C(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(y.appendChild(ft.createTextNode(e)),h?v.dx=0:r&&null!==f&&(v.x=f),u(y,v),s.appendChild(y),!h&&r&&(!Lt&&l&&p(y,{display:"block"}),u(y,"dy",_(y))),m){for(var w,x,k,S=e.replace(/([^\^])-/g,"$1- ").split(" "),T=c.length>1||r||S.length>1&&"nowrap"!==g.whiteSpace,M=[],D=_(y),A=1,E=t.rotation,P=e,I=P.length;(T||b)&&(S.length||M.length);)t.rotation=0,k=t.getBBox(!0),x=k.width,!Lt&&a.forExport&&(x=a.measureSpanWidth(y.firstChild.data,t.styles)),w=x>m,void 0===o&&(o=w),b&&o?(I/=2,""===P||!w&&I<.5?S=[]:(P=e.substring(0,P.length+(w?-1:1)*yt(I)),S=[P+(m>3?"…":"")],y.removeChild(y.firstChild))):w&&1!==S.length?(y.removeChild(y.firstChild),M.unshift(S.pop())):(S=M,M=[],S.length&&(A++,y=ft.createElementNS(Ot,"tspan"),u(y,{dy:D,x:f}),d&&u(y,"style",d),s.appendChild(y)),x>m&&(m=x)),S.length&&y.appendChild(ft.createTextNode(S.join(" ").replace(/- /g,"-")));t.rotation=E}h++}}})}),o&&t.attr("title",t.textStr),x&&x.removeChild(s),y&&t.applyTextShadow&&t.applyTextShadow(y)):s.appendChild(ft.createTextNode(C(c)))},getContrast:function(t){return t=L(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u,h,d,p,f,g,m=this.label(t,e,n,c,null,null,null,null,"button"),v=0,y={x1:0,y1:0,x2:0,y2:1};return o=i({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o),d=o.style,delete o.style,s=i(o,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=i(o,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=i(o,{style:{color:"#CCC"}},l),g=l.style,delete l.style,pe(m.element,Dt?"mouseover":"mouseenter",function(){3!==v&&m.attr(s).css(p)}),pe(m.element,Dt?"mouseout":"mouseleave",function(){3!==v&&(u=[o,s,a][v],h=[d,p,f][v],m.attr(u).css(h))}),m.setState=function(t){m.state=v=t,t?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(o).css(d)},m.on("click",function(t){3!==v&&r.call(m,t)}).attr(o).css(be({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=mt(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=mt(t[2])+e%2/2),t},path:function(t){var e={fill:Kt};return a(t)?e.d=t:s(t)&&be(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){var i=s(t)?t:{x:t,y:e,r:n},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},r.attr(i)},arc:function(t,e,n,i,r,o){var a;return s(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,o=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0}),a.r=n,a},rect:function(t,e,n,i,r,o){r=s(t)?t.r:r;var a=this.createElement("rect"),l=s(t)?t:t===W?{}:{x:t,y:e,width:bt(n,0),height:bt(i,0)};return o!==W&&(a.strokeWidth=o,l=a.crisp(l)),r&&(l.r=r),a.rSetter=function(t,e,n){u(n,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,n){var i=this,r=i.alignedObjects,o=r.length;for(i.width=t,i.height=e,i.boxWrapper[xe(n,!0)?"animate":"attr"]({width:t,height:e});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({class:Gt+t}):e},image:function(t,e,n,i,r){var o,s={preserveAspectRatio:Kt};return arguments.length>1&&be(s,{x:e,y:n,width:i,height:r}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,a,l,c,u=this,h=this.symbols[t],d=h&&h(mt(e),mt(n),i,r,o),g=/^url\((.*?)\)$/;return d?(s=this.path(d),be(s,{symbolName:t,x:e,y:n,width:i,height:r}),o&&be(s,o)):g.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(mt((i-e[0])/2),mt((r-e[1])/2)))},a=t.match(g)[1],l=zt[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:e,y:n}),s.isImg=!0,l?c(s,l):(s.attr({width:0,height:0}),f("img",{onload:function(){0===this.width&&(p(this,{position:jt,top:"-999em"}),ft.body.appendChild(this)),c(s,zt[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,!u.imgCount&&Bt[u.chartIndex].onload&&Bt[u.chartIndex].onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return[Jt,t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[Jt,t,e,Qt,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[Jt,t+n/2,e,Qt,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[Jt,t,e,Qt,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[Jt,t+n/2,e,Qt,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n||i,a=r.end-.001,l=r.innerR,c=r.open,u=_t(o),h=Ct(o),d=_t(a),p=Ct(a),f=r.end-o<kt?0:1;return[Jt,t+s*u,e+s*h,"A",s,s,0,f,1,t+s*d,e+s*p,c?Jt:Qt,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*u,e+l*h,c?"":"Z"]},callout:function(t,e,n,i,r){var o,s=6,a=6,l=wt(r&&r.r||0,n,i),c=l+a,u=r&&r.anchorX,h=r&&r.anchorY;return o=["M",t+l,e,"L",t+n-l,e,"C",t+n,e,t+n,e,t+n,e+l,"L",t+n,e+i-l,"C",t+n,e+i,t+n,e+i,t+n-l,e+i,"L",t+l,e+i,"C",t,e+i,t,e+i,t,e+i-l,"L",t,e+l,"C",t,e,t,e,t+l,e],u&&u>n&&h>e+c&&h<e+i-c?o.splice(13,3,"L",t+n,h-a,t+n+s,h,t+n,h+a,t+n,e+i-l):u&&u<0&&h>e+c&&h<e+i-c?o.splice(33,3,"L",t,h+a,t-s,h,t,h-a,t,e+l):h&&h>i&&u>t+c&&u<t+n-c?o.splice(23,3,"L",u+a,e+i,u,e+i+s,u-a,e+i,t+l,e+i):h&&h<0&&u>t+c&&u<t+n-c&&o.splice(3,3,"L",u-a,e,u,e-s,u+a,e,n-l,e),o}},clipRect:function(t,e,n,i){var r,o=Gt+Ft++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return r=this.rect(t,e,n,i,0).add(s),r.id=o,r.clipPath=s,r.count=0,r},text:function(t,e,n,i){var r,o=this,s=Ht||!Lt&&o.forExport,a={};return!i||!o.allowHTML&&o.forExport?(a.x=Math.round(e||0),n&&(a.y=Math.round(n)),(t||0===t)&&(a.text=t),r=o.createElement("text").attr(a),s&&r.css({position:jt}),i||(r.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),r):o.html(t,e,n)},fontMetrics:function(e,n){var i,o,s;return e=e||this.style.fontSize,!e&&n&&t.getComputedStyle&&(n=n.element||n,s=t.getComputedStyle(n,""),e=s&&s.fontSize),e=/px/.test(e)?r(e):/em/.test(e)?12*parseFloat(e):12,i=e<24?e+3:mt(1.2*e),o=mt(.8*i),{h:i,b:o,f:e}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=bt(i*_t(e*St),4)),{x:-t/3*Ct(e*St),y:i}},label:function(t,e,n,r,o,s,a,l,u){var h,d,p,f,g,m,v,y,b,w,x,_=this,C=_.g(u),k=_.text("",0,0,a).attr({zIndex:1}),S=0,T=3,M=0,D=0,A={};b=function(){var t,e,n=k.element.style;d=(void 0===p||void 0===f||C.styles.textAlign)&&c(k.textStr)&&k.getBBox(),C.width=(p||d.width||0)+2*T+M,C.height=(f||d.height||0)+2*T,v=T+_.fontMetrics(n&&n.fontSize,k).b,
y&&(h||(t=D,e=(l?-v:0)+D,C.box=h=r?_.symbol(r,t,e,C.width,C.height,A):_.rect(t,e,C.width,C.height,0,A[oe]),h.isImg||h.attr("fill",Kt),h.add(C)),h.isImg||h.attr(be({width:mt(C.width),height:mt(C.height)},A)),A=null)},w=function(){var t,e=C.styles,n=e&&e.textAlign,i=M+T;t=l?0:v,c(p)&&d&&("center"===n||"right"===n)&&(i+={center:.5,right:1}[n]*(p-d.width)),i===k.x&&t===k.y||(k.attr("x",i),t!==W&&k.attr("y",t)),k.x=i,k.y=t},x=function(t,e){h?h.attr(t,e):A[t]=e},C.onAdd=function(){k.add(C),C.attr({text:t||0===t?t:"",x:e,y:n}),h&&c(o)&&C.attr({anchorX:o,anchorY:s})},C.widthSetter=function(t){p=t},C.heightSetter=function(t){f=t},C.paddingSetter=function(t){c(t)&&t!==T&&(T=C.padding=t,w())},C.paddingLeftSetter=function(t){c(t)&&t!==M&&(M=t,w())},C.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==S&&(S=t,d&&C.attr({x:g}))},C.textSetter=function(t){t!==W&&k.textSetter(t),b(),w()},C["stroke-widthSetter"]=function(t,e){t&&(y=!0),D=t%2/2,x(e,t)},C.strokeSetter=C.fillSetter=C.rSetter=function(t,e){"fill"===e&&t&&(y=!0),x(e,t)},C.anchorXSetter=function(t,e){o=t,x(e,mt(t)-D-g)},C.anchorYSetter=function(t,e){s=t,x(e,t-m)},C.xSetter=function(t){C.x=t,S&&(t-=S*((p||d.width)+2*T)),g=mt(t),C.attr("translateX",g)},C.ySetter=function(t){m=C.y=mt(t),C.attr("translateY",m)};var E=C.css;return be(C,{css:function(t){if(t){var e={};t=i(t),ce(C.textProps,function(n){t[n]!==W&&(e[n]=t[n],delete t[n])}),k.css(e)}return E.call(C,t)},getBBox:function(){return{width:d.width+2*T,height:d.height+2*T,x:d.x-T,y:d.y-T}},shadow:function(t){return h&&h.shadow(t),C},destroy:function(){fe(C.element,"mouseenter"),fe(C.element,"mouseleave"),k&&(k=k.destroy()),h&&(h=h.destroy()),R.prototype.destroy.call(C),C=_=b=w=x=null}})}},V=Se,be(R.prototype,{htmlCss:function(t){var e=this,n=e.element,i=t&&"SPAN"===n.tagName&&t.width;return i&&(delete t.width,e.textWidth=i,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=be(e.styles,t),p(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position=jt),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,i=t.translateX||0,o=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",u={left:0,center:.5,right:1}[l],h=t.shadows,d=t.styles;if(p(n,{marginLeft:i,marginTop:o}),h&&ce(h,function(t){p(t,{marginLeft:i+1,marginTop:o+1})}),t.inverted&&ce(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var f,g=t.rotation,m=r(t.textWidth),v=d&&d.whiteSpace,y=[g,l,n.innerHTML,t.textWidth,t.textAlign].join(",");y!==t.cTT&&(f=e.fontMetrics(n.style.fontSize).b,c(g)&&t.setSpanRotation(g,u,f),n.offsetWidth>m&&/[ \-]/.test(n.textContent||n.innerText)?(p(n,{width:m+Zt,display:"block",whiteSpace:v||"normal"}),t.hasTextWidth=!0):t.hasTextWidth&&(p(n,{width:"",display:"",whiteSpace:v||"nowrap"}),t.hasTextWidth=!1),t.getSpanCorrection(t.hasTextWidth?m:n.offsetWidth,f,u,g,l)),p(n,{left:s+(t.xCorr||0)+Zt,top:a+(t.yCorr||0)+Zt}),Et&&(f=n.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,n){var i={},r=Dt?"-ms-transform":Et?"-webkit-transform":Pt?"MozTransform":Mt?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(Pt?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",p(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),be(Se.prototype,{html:function(t,e,n){var i=this.createElement("span"),r=i.element,o=i.renderer,s=o.isSVG,a=function(t,e){ce(["opacity","visibility"],function(n){_e(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return i.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,i.htmlUpdateTransform()},s&&a(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:mt(e),y:mt(n)}).css({position:jt,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,s&&(i.add=function(t){var e,n,s=o.box.parentNode,l=[];if(this.parentGroup=t,t){if(e=t.div,!e){for(n=t;n;)l.push(n),n=n.parentGroup;ce(l.reverse(),function(t){var n,i=u(t.element,"class");i&&(i={className:i}),e=t.div=t.div||f(Yt,i,{position:jt,left:(t.translateX||0)+Zt,top:(t.translateY||0)+Zt,opacity:t.opacity},e||s),n=e.style,be(t,{translateXSetter:function(e,i){n.left=e+Zt,t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+Zt,t[i]=e,t.doTransform=!0}}),a(t,n)})}}else e=s;return e.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var Te,Me;if(!Lt&&!Ht){Me={init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],r=["position: ",jt,";"],o=e===Yt;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?Ut:Xt),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=f(i)),n.renderer=t},add:function(t){var e=this,n=e.renderer,i=e.element,r=n.box,o=t&&t.inverted,s=t?t.element||t:r;return t&&(this.parentGroup=t),o&&n.invertChild(i,s),s.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:R.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=_t(t*St),n=Ct(t*St);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):Kt})},getSpanCorrection:function(t,e,n,i,r){var o,s=i?_t(i*St):1,a=i?Ct(i*St):0,l=xe(this.elemHeight,this.element.offsetHeight),c=r&&"left"!==r;this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-n:n),this.yCorr-=s*e*(i?o?n:1-n:1),c&&(this.xCorr-=t*n*(s<0?-1:1),i&&(this.yCorr-=l*n*(a<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)we(t[e])?n[e]=mt(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:At?"inherit":"rect(auto)"}),i.css(n)},css:R.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&M(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),R.prototype.destroy.apply(this)},on:function(e,n){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,n(e)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,9!==n&&11!==n||(t[n-4]=t[n-2]=r(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var i,o,s,a,l,c,u,h=[],d=this.element,p=this.renderer,g=d.style,m=d.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(c=xe(t.width,3),u=(t.opacity||.15)/c,i=1;i<=3;i++)a=2*c+1-2*i,n&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=f(p.prepVML(s),null,{left:r(g.left)+xe(t.offsetX,1),top:r(g.top)+xe(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',u*i,'"/>'],f(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:Nt,setAttr:function(t,e){At?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,n){var i=n.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,n);i[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i,r=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(t,r[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled=t!==Kt,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){f(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:Nt,rotationSetter:function(t,e,n){var i=n.style;this[e]=i[e]=t,i.left=-mt(Ct(t*St)+1)+Zt,i.top=mt(_t(t*St))+Zt},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,we(t)&&(t+=Zt),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t=Xt),this.shadows&&ce(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t=t===Ut?"-999em":0,At||(n.style[e]=t?Xt:Ut),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},Me["stroke-opacitySetter"]=Me["fill-opacitySetter"],pt.VMLElement=Me=g(R,Me),Me.prototype.ySetter=Me.prototype.widthSetter=Me.prototype.heightSetter=Me.prototype.xSetter;var De={Element:Me,isIE8:Tt.indexOf("MSIE 8.0")>-1,init:function(t,e,n,i){var r,o,s,a=this;if(a.alignedObjects=[],r=a.createElement(Yt).css(be(this.getStyle(i),{position:"relative"})),o=r.element,t.appendChild(r.element),a.isVML=!0,a.box=o,a.boxWrapper=r,a.gradients={},a.cache={},a.cacheKeys=[],a.imgCount=0,a.setSize(e,n,!1),!ft.namespaces.hcv){ft.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{ft.createStyleSheet().cssText=s}catch(t){ft.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=s(t);return be(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=t.element,n=e.nodeName,i="shape"===n,r=t.inverted,o=this,s=o.top-(i?e.offsetTop:0),a=o.left,l=a+o.width,c=s+o.height,u={clip:"rect("+mt(r?a:s)+"px,"+mt(r?c:l)+"px,"+mt(r?l:c)+"px,"+mt(r?s:a)+"px)"};return!r&&At&&"DIV"===n&&be(u,{width:l+Zt,height:c+Zt}),u},updateClipping:function(){ce(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,n,i){var r,o,s,a=this,l=/^rgba/,c=Kt;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,h,d,p,g,m,v,y,b,w,x,_,C=t.linearGradient||t.radialGradient,k="",S=t.stops,T=[],M=function(){o=['<fill colors="'+T.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',k,'focus="100%" method="any" />'],f(a.prepVML(o),null,null,e)};if(x=S[0],_=S[S.length-1],x[0]>0&&S.unshift([0,x[1]]),_[0]<1&&S.push([1,_[1]]),ce(S,function(t,e){l.test(t[1])?(r=L(t[1]),u=r.get("rgb"),h=r.get("a")):(u=t[1],h=1),T.push(100*t[0]+"% "+u),e?(y=h,b=u):(v=h,w=u)}),"fill"===n)if("gradient"===s)d=C.x1||C[0]||0,p=C.y1||C[1]||0,g=C.x2||C[2]||0,m=C.y2||C[3]||0,k='angle="'+(90-180*gt.atan((m-p)/(g-d))/kt)+'"',M();else{var D,A=C.r,E=2*A,P=2*A,I=C.cx,O=C.cy,R=e.radialReference,H=function(){R&&(D=i.getBBox(),I+=(R[0]-D.x)/D.width-.5,O+=(R[1]-D.y)/D.height-.5,E*=R[2]/D.width,P*=R[2]/D.height),k='src="'+j.global.VMLRadialGradientURL+'" size="'+E+","+P+'" origin="0.5,0.5" position="'+I+","+O+'" color2="'+w+'" ',M()};i.added?H():i.onAdd=H,c=b}else c=u}else if(l.test(t)&&"IMG"!==e.tagName)r=L(t),i[n+"-opacitySetter"](r.get("a"),n,e),c=r.get("rgb");else{var z=e.getElementsByTagName(n);z.length&&(z[0].opacity=1,z[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),n?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Se.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:s(t)&&be(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return s(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e,n;return t&&(n={className:Gt+t,class:Gt+t}),e=this.createElement(Yt).attr(n)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):Se.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,i=e.style,o="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:r(i.width)-(o?r(o.top):1),top:r(i.height)-(o?r(o.left):1),rotation:-90}),ce(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o,s=r.start,a=r.end,l=r.r||n||i,c=r.innerR,u=_t(s),h=Ct(s),d=_t(a),p=Ct(a);return a-s===0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*u,e+l*h,t+l*d,e+l*p],r.open&&!c&&o.push("e",Jt,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*d,e+c*p,t+c*u,e+c*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"]},rect:function(t,e,n,i,r){return Se.prototype.symbols[c(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}};pt.VMLRenderer=Te=function(){this.init.apply(this,arguments)},Te.prototype=i(Se.prototype,De),V=Te}Se.prototype.measureSpanWidth=function(t,e){var n,i=ft.createElement("span"),r=ft.createTextNode(t);return i.appendChild(r),p(i,e),this.box.appendChild(i),n=i.offsetWidth,M(i),n};var Ae,Ee;Ht&&(pt.CanVGRenderer=Ae=function(){Ot="http://www.w3.org/1999/xhtml"},Ae.prototype.symbols={},Ee=function(){function t(){var t,n=e.length;for(t=0;t<n;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&H(i,t),e.push(n)}}}(),V=Ae),z.prototype={addLabel:function(){var t,e,n=this,r=n.axis,o=r.options,s=r.chart,a=r.categories,l=r.names,u=n.pos,h=o.labels,d=r.tickPositions,p=u===d[0],f=u===d[d.length-1],g=a?xe(a[u],l[u],u):u,m=n.label,v=d.info;r.isDatetimeAxis&&v&&(e=o.dateTimeLabelFormats[v.higherRanks[u]||v.unitName]),n.isFirst=p,n.isLast=f,t=r.labelFormatter.call({axis:r,chart:s,isFirst:p,isLast:f,dateTimeLabelFormat:e,value:r.isLog?D(r.lin2log(g)):g}),c(m)?m&&m.attr({text:t}):(n.label=m=c(t)&&h.enabled?s.renderer.text(t,0,0,h.useHTML).css(i(h.style)).add(r.labelGroup):null,n.labelLength=m&&m.getBBox().width,n.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n,i,r=this.axis,o=t.x,s=r.chart.chartWidth,a=r.chart.spacing,l=xe(r.labelLeft,wt(r.pos,a[3])),c=xe(r.labelRight,bt(r.pos+r.len,s-a[1])),u=this.label,h=this.rotation,d={left:0,center:.5,right:1}[r.labelAlign],p=u.getBBox().width,f=r.getSlotWidth(),g=f,m=d,v=1,y={};h?h<0&&o-d*p<l?i=mt(o/_t(h*St)-l):h>0&&o+d*p>c&&(i=mt((s-o)/_t(h*St))):(e=o-d*p,n=o+(1-d)*p,e<l?g=t.x+g*(1-d)-l:n>c&&(g=c-t.x+g*d,v=-1),g=wt(f,g),g<f&&"center"===r.labelAlign&&(t.x+=v*(f-g-m*(f-wt(p,g)))),(p>g||r.autoRotation&&u.styles.width)&&(i=g)),i&&(y.width=i,r.options.labels.style.textOverflow||(y.textOverflow="ellipsis"),u.css(y))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l,u=this.axis,h=u.transA,d=u.reversed,p=u.staggerLines,f=u.tickRotCorr||{x:0,y:0},g=r.y;return c(g)||(g=0===u.side?n.rotation?-8:-n.getBBox().height:2===u.side?f.y+8:_t(n.rotation*St)*(f.y-n.getBBox(!1,0).height/2)),t=t+r.x+f.x-(o&&i?o*h*(d?-1:1):0),e=e+g-(o&&!i?o*h*(d?1:-1):0),p&&(l=s/(a||1)%p,u.opposite&&(l=p-l-1),e+=l*(u.labelOffset/p)),{x:t,y:mt(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine([Jt,t,e,Qt,t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i,r,o,s=this,a=s.axis,l=a.options,c=a.chart,u=c.renderer,h=a.horiz,d=s.type,p=s.label,f=s.pos,g=l.labels,m=s.gridLine,v=d?d+"Grid":"grid",y=d?d+"Tick":"tick",b=l[v+"LineWidth"],w=l[v+"LineColor"],x=l[v+"LineDashStyle"],_=a.tickSize(y),C=l[y+"Color"],k=s.mark,S=g.step,T=!0,M=a.tickmarkOffset,D=s.getPosition(h,f,M,e),A=D.x,E=D.y,P=h&&A===a.pos+a.len||!h&&E===a.pos?-1:1;n=xe(n,1),this.isActive=!0,b&&(i=a.getPlotLinePath(f+M,b*P,e,!0),m===W&&(o={stroke:w,"stroke-width":b},x&&(o.dashstyle=x),d||(o.zIndex=1),e&&(o.opacity=0),s.gridLine=m=b?u.path(i).attr(o).add(a.gridGroup):null),!e&&m&&i&&m[s.isNew?"attr":"animate"]({d:i,opacity:n})),_&&(a.opposite&&(_[0]=-_[0]),r=s.getMarkPath(A,E,_[0],_[1]*P,h,u),k?k.animate({d:r,opacity:n}):s.mark=u.path(r).attr({stroke:C,"stroke-width":_[1],opacity:n}).add(a.axisGroup)),p&&we(A)&&(p.xy=D=s.getLabelPosition(A,E,p,h,g,M,t,S),s.isFirst&&!s.isLast&&!xe(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!xe(l.showLastLabel,1)?T=!1:!h||a.isRadial||g.step||g.rotation||e||0===n||s.handleOverflow(D),S&&t%S&&(T=!1),T&&we(D.y)?(D.opacity=n,p[s.isNew?"attr":"animate"](D),s.isNew=!1):p.attr("y",-9999))},destroy:function(){T(this,this.axis)}},pt.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},pt.PlotLineOrBand.prototype={render:function(){var t,e,n=this,r=n.axis,o=r.horiz,s=n.options,a=s.label,l=n.label,u=s.width,h=s.to,d=s.from,p=c(d)&&c(h),f=s.value,g=s.dashStyle,m=n.svgElem,v=[],y=s.color,b=xe(s.zIndex,0),w=s.events,x={},_=r.chart.renderer,C=r.log2lin;if(r.isLog&&(d=C(d),h=C(h),f=C(f)),u)v=r.getPlotLinePath(f,u),x={stroke:y,"stroke-width":u},g&&(x.dashstyle=g);else{if(!p)return;v=r.getPlotBandPath(d,h,s),y&&(x.fill=y),s.borderWidth&&(x.stroke=s.borderColor,x["stroke-width"]=s.borderWidth)}if(x.zIndex=b,m)v?(m.show(),m.animate({d:v})):(m.hide(),l&&(n.label=l=l.destroy()));else if(v&&v.length&&(n.svgElem=m=_.path(v).attr(x).add(),w)){t=function(t){m.on(t,function(e){w[t].apply(n,[e])})};for(e in w)t(e)}return a&&c(a.text)&&v&&v.length&&r.width>0&&r.height>0&&!v.flat?(a=i({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},a),this.renderLabel(a,v,p,b)):l&&l.hide(),n},renderLabel:function(t,e,n,i){var r,o,s,a,l,c=this,u=c.label,h=c.axis.chart.renderer;u||(r={align:t.textAlign||t.align,rotation:t.rotation},r.zIndex=i,c.label=u=h.text(t.text,0,0,t.useHTML).attr(r).css(t.style).add()),o=[e[1],e[4],n?e[6]:e[1]],s=[e[2],e[5],n?e[7]:e[2]],a=k(o),l=k(s),u.align(t,!1,{x:a,y:l,width:S(o)-a,height:S(s)-l}),u.show()},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,T(this)}},X={getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0);return i&&n?(i.flat=i.toString()===n.toString(),i.push(n[4],n[5],n[1],n[2])):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new pt.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();ce([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])})}};var Pe=pt.Axis=function(){this.init.apply(this,arguments)};Pe.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return pt.numberFormat(this.total,-1)},style:i(Ce.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var n=e.isX,i=this;i.chart=t,i.horiz=t.inverted?!n:n,i.isXAxis=n,i.coll=n?"xAxis":"yAxis",i.opposite=e.opposite,i.side=e.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(e);var r=this.options,o=r.type,s="datetime"===o;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.reversed=r.reversed,i.visible=r.visible!==!1,i.zoomEnabled=r.zoomEnabled!==!1,i.categories=r.categories||"category"===o,i.names=i.names||[],i.isLog="logarithmic"===o,i.isDatetimeAxis=s,i.isLinked=c(r.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.stacks={},i.oldStacks={},i.stacksTouched=0,i.max=null,i.min=null,i.crosshair=xe(r.crosshair,h(t.options.tooltip.crosshairs)[n?0:1],!1);var a,l=i.options.events;le(i,t.axes)===-1&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&n&&i.reversed===W&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in l)pe(i,a,l[a]);i.isLog&&(i.val2lin=i.log2lin,i.lin2val=i.lin2log)},setOptions:function(t){this.options=i(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],i(j[this.coll],t))},defaultLabelFormatter:function(){var t,e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,s=j.lang.numericSymbols,a=s&&s.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)e=w(l,this);else if(r)e=i;else if(o)e=$(o,i);else if(a&&c>=1e3)for(;a--&&e===W;)t=Math.pow(1e3,a+1),c>=t&&10*i%t===0&&null!==s[a]&&(e=pt.numberFormat(i/t,-1)+s[a]);return e===W&&(e=xt(i)>=1e4?pt.numberFormat(i,-1):pt.numberFormat(i,-1,W,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),ce(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i,r,o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&a<=0&&(a=null),t.isXAxis?(i=n.xData,i.length&&(r=k(i),we(r)||r instanceof Z||(i=ue(i,function(t){return we(t)}),r=k(i)),t.dataMin=wt(xe(t.dataMin,i[0]),r),t.dataMax=bt(xe(t.dataMax,i[0]),S(i)))):(n.getExtremes(),o=n.dataMax,r=n.dataMin,c(r)&&c(o)&&(t.dataMin=wt(xe(t.dataMin,r),r),t.dataMax=bt(xe(t.dataMax,o),o)),c(a)&&(t.threshold=a),s.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s,a=this.linkedParent||this,l=1,c=0,u=i?a.oldTransA:a.transA,h=i?a.oldMin:a.min,d=a.minPixelPadding,p=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val;return u||(u=a.transA),n&&(l*=-1,c=a.len),a.reversed&&(l*=-1,c-=l*(a.sector||a.len)),e?(t=t*l+c,t-=d,s=t/u+h,p&&(s=a.lin2val(s))):(p&&(t=a.val2lin(t)),"between"===o&&(o=.5),s=l*(t-h)*u+c+l*d+(we(o)?u*o*a.pointRange:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l,c,u=this,h=u.chart,d=u.left,p=u.top,f=n&&h.oldChartHeight||h.chartHeight,g=n&&h.oldChartWidth||h.chartWidth,m=u.transB,v=function(t,e,n){return(t<e||t>n)&&(i?t=wt(bt(e,t),n):c=!0),t};return r=xe(r,u.translate(t,null,null,n)),o=a=mt(r+m),s=l=mt(f-r-m),we(r)?u.horiz?(s=p,l=f-u.bottom,o=a=v(o,d,d+u.width)):(o=d,a=g-u.right,s=l=v(s,p,p+u.height)):c=!0,c&&!i?null:h.renderer.crispLine([Jt,o,s,Qt,a,l],e||1)},getLinearTickPositions:function(t,e,n){var i,r,o=D(vt(e/t)*t),s=D(yt(n/t)*t),a=[];if(e===n&&we(e))return[e];for(i=o;i<=s&&(a.push(i),i=D(i+t),i!==r);)r=i;return a},getMinorTickPositions:function(){var t,e,n,i=this,r=i.options,o=i.tickPositions,s=i.minorTickInterval,a=[],l=i.pointRangePadding||0,c=i.min-l,u=i.max+l,h=u-c;if(h&&h/s<i.len/3)if(i.isLog)for(n=o.length,e=1;e<n;e++)a=a.concat(i.getLogTickPositions(s,o[e-1],o[e],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)a=a.concat(i.getTimeTicks(i.normalizeTimeTickInterval(s),c,u,r.startOfWeek));else for(t=c+(o[0]-c)%s;t<=u;t+=s)a.push(t);return 0!==a.length&&i.trimTicks(a,r.startOnTick,r.endOnTick),a},adjustForMinRange:function(){var t,e,n,i,r,o,s,a,l,u=this,h=u.options,d=u.min,p=u.max,f=u.dataMax-u.dataMin>=u.minRange;u.isXAxis&&u.minRange===W&&!u.isLog&&(c(h.min)||c(h.max)?u.minRange=null:(ce(u.series,function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1,n=o;n>0;n--)i=r[n]-r[n-1],(e===W||i<e)&&(e=i)}),u.minRange=wt(5*e,u.dataMax-u.dataMin))),p-d<u.minRange&&(l=u.minRange,t=(l-p+d)/2,s=[d-t,xe(h.min,d-t)],f&&(s[2]=u.dataMin),d=S(s),a=[d+l,xe(h.max,d+l)],f&&(a[2]=u.dataMax),p=k(a),p-d<l&&(s[0]=p-l,s[1]=xe(h.min,p-l),d=S(s))),u.min=d,u.max=p},getClosest:function(){var t;return ce(this.series,function(e){var n=e.closestPointRange;!e.noSharedTooltip&&c(n)&&(t=c(t)?wt(t,n):n)}),t},setAxisTranslation:function(t){var e,n,i=this,r=i.max-i.min,s=i.axisPointRange||0,a=0,l=0,c=i.linkedParent,u=!!i.categories,h=i.transA,d=i.isXAxis;(d||u||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):(e=i.getClosest(),ce(i.series,function(t){var n=u?1:d?xe(t.options.pointRange,e,0):i.axisPointRange||0,r=t.options.pointPlacement;s=bt(s,n),i.single||(a=bt(a,o(r)?0:n/2),l=bt(l,"on"===r?0:n))})),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=a*=n,i.pointRangePadding=l*=n,i.pointRange=wt(s,r),d&&(i.closestPointRange=e)),t&&(i.oldTransA=h),i.translationSlope=i.transA=h=i.len/(r+l||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var n,i,r,o,s,a,l,u=this,h=u.chart,d=u.options,p=u.isLog,f=u.log2lin,g=u.isDatetimeAxis,m=u.isXAxis,v=u.isLinked,y=d.maxPadding,b=d.minPadding,w=d.tickInterval,C=d.tickPixelInterval,k=u.categories,S=u.threshold,T=u.softThreshold;g||k||v||this.getTickAmount(),a=xe(u.userMin,d.min),l=xe(u.userMax,d.max),v?(u.linkedParent=h[u.coll][d.linkedTo],i=u.linkedParent.getExtremes(),u.min=xe(i.min,i.dataMin),u.max=xe(i.max,i.dataMax),d.type!==u.linkedParent.options.type&&e(11,1)):(!T&&c(S)&&(u.dataMin>=S?(o=S,b=0):u.dataMax<=S&&(s=S,y=0)),u.min=xe(a,o,u.dataMin),u.max=xe(l,s,u.dataMax)),p&&(!t&&wt(u.min,xe(u.dataMin,u.min))<=0&&e(10,1),u.min=D(f(u.min),15),u.max=D(f(u.max),15)),u.range&&c(u.max)&&(u.userMin=u.min=a=bt(u.min,u.minFromRange()),u.userMax=l=u.max,u.range=null),ge(u,"foundExtremes"),u.beforePadding&&u.beforePadding(),u.adjustForMinRange(),k||u.axisPointRange||u.usePercentage||v||!c(u.min)||!c(u.max)||(n=u.max-u.min,n&&(!c(a)&&b&&(u.min-=n*b),!c(l)&&y&&(u.max+=n*y))),we(d.floor)&&(u.min=bt(u.min,d.floor)),we(d.ceiling)&&(u.max=wt(u.max,d.ceiling)),T&&c(u.dataMin)&&(S=S||0,!c(a)&&u.min<S&&u.dataMin>=S?u.min=S:!c(l)&&u.max>S&&u.dataMax<=S&&(u.max=S)),u.min===u.max||void 0===u.min||void 0===u.max?u.tickInterval=1:v&&!w&&C===u.linkedParent.options.tickPixelInterval?u.tickInterval=w=u.linkedParent.tickInterval:u.tickInterval=xe(w,this.tickAmount?(u.max-u.min)/bt(this.tickAmount-1,1):void 0,k?1:(u.max-u.min)*C/bt(u.len,C)),m&&!t&&ce(u.series,function(t){t.processData(u.min!==u.oldMin||u.max!==u.oldMax)}),u.setAxisTranslation(!0),u.beforeSetTickPositions&&u.beforeSetTickPositions(),u.postProcessTickInterval&&(u.tickInterval=u.postProcessTickInterval(u.tickInterval)),u.pointRange&&!w&&(u.tickInterval=bt(u.pointRange,u.tickInterval)),r=xe(d.minTickInterval,u.isDatetimeAxis&&u.closestPointRange),!w&&u.tickInterval<r&&(u.tickInterval=r),g||p||w||(u.tickInterval=_(u.tickInterval,null,x(u.tickInterval),xe(d.allowDecimals,!(u.tickInterval>.5&&u.tickInterval<5&&u.max>1e3&&u.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(u.tickInterval=u.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&c(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&c(i)&&t.push((r+i)/2)},alignToOthers:function(){var t,e={},n=this.options;return this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&ce(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,o=[r?i.left:i.top,i.width,i.height,i.pane].join(",");n.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!c(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=yt(this.len/n)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,s=i&&i.length;if(s<r){for(;i.length<r;)i.push(D(i[i.length-1]+n));this.transA*=(s-1)/(r-1),this.max=i[i.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(c(o)){for(t=e=i.length;t--;)(3===o&&t%2===1||o<=2&&t>0&&t<e-1)&&i.splice(t,1);this.finalTickAmt=W}},setScale:function(){var t,e,n=this;n.oldMin=n.min,n.oldMax=n.max,n.oldAxisLength=n.len,n.setAxisSize(),e=n.len!==n.oldAxisLength,ce(n.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax||n.alignToOthers()?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=e||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=xe(n,!0),ce(o.series,function(t){delete t.kdTree}),r=be(r,{min:t,max:e}),ge(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=wt(n,xe(r.min,n)),s=bt(i,xe(r.max,i));return this.allowZoomOutside||(c(n)&&t<=o&&(t=o),c(i)&&e>=s&&(e=s)),this.displayBtn=t!==W||e!==W,this.setExtremes(t,e,!1,W,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=e.offsetRight||0,r=this.horiz,o=xe(e.width,t.plotWidth-n+i),s=xe(e.height,t.plotHeight),a=xe(e.top,t.plotTop),l=xe(e.left,t.plotLeft+n),c=/%$/;c.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight)),c.test(a)&&(a=Math.round(parseFloat(a)/100*t.plotHeight+t.plotTop)),this.left=l,
this.top=a,this.width=o,this.height=s,this.bottom=t.chartHeight-s-a,this.right=t.chartWidth-o-l,this.len=bt(r?o:s,0),this.pos=r?l:a},getExtremes:function(){var t=this,e=t.isLog,n=t.lin2log;return{min:e?D(n(t.min)):t.min,max:e?D(n(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=e.lin2log,r=n?i(e.min):e.min,o=n?i(e.max):e.max;return null===t?t=o<0?o:r:r>t?t=r:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,n=(xe(t,0)-90*this.side+720)%360;return e=n>15&&n<165?"right":n>195&&n<345?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=xe(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=i.rotation,u=this.labelMetrics(),h=Number.MAX_VALUE,d=function(t){var e=t/(a||1);return e=e>1?yt(e):1,e*o};return r?(n=!i.staggerLines&&!i.step&&(c(l)?[l]:a<xe(i.autoRotationLimit,80)&&i.autoRotation),n&&ce(n,function(n){var i;(n===l||n&&n>=-90&&n<=90)&&(e=d(xt(u.h/Ct(St*n))),i=e+xt(n/360),i<h&&(h=i,t=n,s=e))})):i.step||(s=d(u.h)),this.autoRotation=n,this.labelRotation=xe(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,r,s=this.chart,a=s.renderer,l=this.tickPositions,c=this.ticks,u=this.options.labels,h=this.horiz,d=this.getSlotWidth(),p=bt(1,mt(d-2*(u.padding||5))),f={},g=this.labelMetrics(),m=u.style.textOverflow,v=0;if(o(u.rotation)||(f.rotation=u.rotation||0),this.autoRotation)ce(l,function(t){t=c[t],t&&t.labelLength>v&&(v=t.labelLength)}),v>p&&v>g.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t={width:p+Zt},!m))for(t.textOverflow="clip",n=l.length;!h&&n--;)r=l[n],e=c[r].label,e&&("ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):c[r].labelLength>d&&e.css({width:d+"px"}),e.getBBox().height>this.len/l.length-(g.h-g.f)&&(e.specCss={textOverflow:"ellipsis"}));f.rotation&&(t={width:(v>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+Zt},m||(t.textOverflow="ellipsis")),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(f.align=this.labelAlign),ce(l,function(e){var n=c[e],r=n&&n.label;r&&(r.attr(f),t&&r.css(i(t,r.specCss)),delete r.specCss,n.rotation=f.rotation)}),this.tickRotCorr=a.rotCorr(g.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r,o,s,a,l=this,u=l.chart,h=u.renderer,d=l.options,p=l.tickPositions,f=l.ticks,g=l.horiz,m=l.side,v=u.inverted?[1,0,3,2][m]:m,y=0,b=0,w=d.title,x=d.labels,_=0,C=l.opposite,k=u.axisOffset,S=u.clipOffset,T=[-1,1,1,-1][m],M=l.axisParent,D=this.tickSize("tick");if(t=l.hasData(),l.showAxis=e=t||xe(d.showEmpty,!0),l.staggerLines=l.horiz&&x.staggerLines,l.axisGroup||(l.gridGroup=h.g("grid").attr({zIndex:d.gridZIndex||1}).add(M),l.axisGroup=h.g("axis").attr({zIndex:d.zIndex||2}).add(M),l.labelGroup=h.g("axis-labels").attr({zIndex:x.zIndex||7}).addClass(Gt+l.coll.toLowerCase()+"-labels").add(M)),t||l.isLinked)ce(p,function(t){f[t]?f[t].addLabel():f[t]=new z(l,t)}),l.renderUnsquish(),x.reserveSpace===!1||0!==m&&2!==m&&{1:"left",3:"right"}[m]!==l.labelAlign&&"center"!==l.labelAlign||ce(p,function(t){_=bt(f[t].getLabelSize(),_)}),l.staggerLines&&(_*=l.staggerLines,l.labelOffset=_*(l.opposite?-1:1));else for(o in f)f[o].destroy(),delete f[o];w&&w.text&&w.enabled!==!1&&(l.axisTitle||(s=w.textAlign,s||(s=(g?{low:"left",middle:"center",high:"right"}:{low:C?"right":"left",middle:"center",high:C?"left":"right"})[w.align]),l.axisTitle=h.text(w.text,0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:s}).addClass(Gt+this.coll.toLowerCase()+"-title").css(w.style).add(l.axisGroup),l.axisTitle.isNew=!0),e&&(y=l.axisTitle.getBBox()[g?"height":"width"],n=w.offset,b=c(n)?0:xe(w.margin,g?5:10)),l.axisTitle[e?"show":"hide"](!0)),l.offset=T*xe(d.offset,k[m]),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},a=0===m?-l.labelMetrics().h:2===m?l.tickRotCorr.y:0,i=Math.abs(_)+b,_&&(i-=a,i+=T*(g?xe(x.y,l.tickRotCorr.y+8*T):x.x)),l.axisTitleMargin=xe(n,i),k[m]=bt(k[m],l.axisTitleMargin+y+T*l.offset,i,t&&p.length&&D?D[0]:0),r=d.offset?0:2*vt(d.lineWidth/2),S[v]=bt(S[v],r)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,s=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine([Jt,r?this.left:o,r?s:this.top,Qt,r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,o=this.options.title,s=t?e:n,a=this.opposite,l=this.offset,c=o.x||0,u=o.y||0,h=r(o.style.fontSize||12),d={low:s+(t?0:i),middle:s+i/2,high:s+(t?i:0)}[o.align],p=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?d+c:p+(a?this.width:0)+l+c,y:t?p+u-(a?this.height:0)+l:d+u}},render:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.isLog,l=i.lin2log,c=i.isLinked,u=i.tickPositions,h=i.axisTitle,p=i.ticks,f=i.minorTicks,g=i.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=i.tickmarkOffset,b=s.lineWidth,w=r.hasRendered,x=w&&we(i.oldMin),_=i.showAxis,C=E(o.globalAnimation);i.labelEdge.length=0,i.overlap=!1,ce([p,f,g],function(t){var e;for(e in t)t[e].isActive=!1}),(i.hasData()||c)&&(i.minorTickInterval&&!i.categories&&ce(i.getMinorTickPositions(),function(t){f[t]||(f[t]=new z(i,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),u.length&&(ce(u,function(t,e){(!c||t>=i.min&&t<=i.max)&&(p[t]||(p[t]=new z(i,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),y&&(0===i.min||i.single)&&(p[-1]||(p[-1]=new z(i,(-1),null,(!0))),p[-1].render(-1))),v&&ce(u,function(t,o){n=u[o+1]!==W?u[o+1]+y:i.max-y,o%2===0&&t<i.max&&n<=i.max+(r.polar?-y:y)&&(g[t]||(g[t]=new pt.PlotLineOrBand(i)),e=t+y,g[t].options={from:a?l(e):e,to:a?l(n):n,color:v},g[t].render(),g[t].isActive=!0)}),i._addedPlotLB||(ce((s.plotLines||[]).concat(s.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),ce([p,f,g],function(t){var e,n,i=[],o=C.duration,s=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));d(s,t!==g&&r.hasRendered&&o?o:0)}),b&&(t=i.getLinePath(b),i.axisLine?i.axisLine.animate({d:t}):i.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(i.axisGroup),i.axisLine[_?"show":"hide"](!0)),h&&_&&(h[h.isNew?"attr":"animate"](i.getTitlePosition()),h.isNew=!1),m&&m.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),ce(this.plotLinesAndBands,function(t){t.render()})),ce(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;t||fe(i);for(e in r)T(r[e]),r[e]=null;for(ce([i.ticks,i.minorTicks,i.alternateBands],function(t){T(t)}),n=o.length;n--;)o[n].destroy();ce(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var n,i,r,o,s,a=this.crosshair;if(this.crosshair&&(c(e)||!xe(a.snap,!0))!==!1){if(xe(a.snap,!0)?c(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:xe(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===n)return void this.hideCrosshair();o=this.categories&&!this.isRadial,s=xe(a.width,o?this.transA:1),this.cross?this.cross.attr({d:n,visibility:"visible","stroke-width":s}):(r={"pointer-events":"none","stroke-width":s,stroke:a.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:xe(a.zIndex,2)},a.dashStyle&&(r.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add())}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},be(Pe.prototype,X),Pe.prototype.getTimeTicks=function(t,e,n,i){var r,o,s=[],a={},l=j.global.useUTC,u=new Z(e-y(e)),h=t.unitRange,d=t.count;if(c(e)){u[st](h>=G.second?0:d*vt(u.getMilliseconds()/d)),h>=G.second&&u[at](h>=G.minute?0:d*vt(u.getSeconds()/d)),h>=G.minute&&u[lt](h>=G.hour?0:d*vt(u[tt]()/d)),h>=G.hour&&u[ct](h>=G.day?0:d*vt(u[et]()/d)),h>=G.day&&u[ut](h>=G.month?1:d*vt(u[it]()/d)),h>=G.month&&(u[ht](h>=G.year?0:d*vt(u[rt]()/d)),o=u[ot]()),h>=G.year&&(o-=o%d,u[dt](o)),h===G.week&&u[ut](u[it]()-u[nt]()+xe(i,1)),r=1,(J||Q)&&(u=u.getTime(),u=new Z(u+y(u))),o=u[ot]();for(var p=u.getTime(),f=u[rt](),g=u[it](),m=!l||!!Q,v=(G.day+(l?y(u):60*u.getTimezoneOffset()*1e3))%G.day;p<n;)s.push(p),h===G.year?p=K(o+r*d,0):h===G.month?p=K(o,f+r*d):!m||h!==G.day&&h!==G.week?p+=h*d:p=K(o,f,g+r*d*(h===G.day?1:7)),r++;s.push(p),ce(ue(s,function(t){return h<=G.hour&&t%G.day===v}),function(t){a[t]="day"})}return s.info=be(t,{higherRanks:a,totalRange:h*d}),s},Pe.prototype.normalizeTimeTickInterval=function(t,e){var n,i,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=r[r.length-1],s=G[o[0]],a=o[1];for(i=0;i<r.length;i++)if(o=r[i],s=G[o[0]],a=o[1],r[i+1]){var l=(s*a[a.length-1]+G[r[i+1][0]])/2;if(t<=l)break}return s===G.year&&t<5*s&&(a=[1,2,5]),n=_(t/s,a,"year"===o[0]?bt(x(t/s),1):1),{unitRange:s,count:n,unitName:o[0]}},Pe.prototype.getLogTickPositions=function(t,e,n,i){var r=this,o=r.options,s=r.len,a=r.lin2log,l=r.log2lin,c=[];if(i||(r._minorAutoInterval=null),t>=.5)t=mt(t),c=r.getLinearTickPositions(t,e,n);else if(t>=.08){var u,h,d,p,f,g,m,v=vt(e);for(u=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=v;h<n+1&&!m;h++)for(p=u.length,d=0;d<p&&!m;d++)f=l(a(h)*u[d]),f>e&&(!i||g<=n)&&g!==W&&c.push(g),g>n&&(m=!0),g=f}else{var y=a(e),b=a(n),w=o[i?"minorTickInterval":"tickInterval"],C="auto"===w?null:w,k=o.tickPixelInterval/(i?5:1),S=i?s/r.tickPositions.length:s;t=xe(C,r._minorAutoInterval,(b-y)*k/(S||1)),t=_(t,null,x(t)),c=de(r.getLinearTickPositions(t,y,b),l),i||(r._minorAutoInterval=t/5)}return i||(r.tickInterval=t),c},Pe.prototype.log2lin=function(t){return gt.log(t)/gt.LN10},Pe.prototype.lin2log=function(t){return gt.pow(10,t)};var Ie=pt.Tooltip=function(){this.init.apply(this,arguments)};Ie.prototype={init:function(t,e){var n=e.borderWidth,i=e.style,o=r(i.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),Ht||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(xt(t-o.x)>1||xt(e-o.y)>1),a=r.followPointer||r.len>1;be(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?W:s?(2*o.anchorX+n)/3:n,anchorY:a?W:s?(o.anchorY+i)/2:i}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=xe(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,c=0,u=0;return t=h(t),n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===W&&(e=o.pointer.normalize(e)),n=[e.chartX-o.plotLeft,e.chartY-a]),n||(ce(t,function(t){i=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-a:0)}),c/=t.length,u/=t.length,n=[s?o.plotWidth-u:c,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-c:u]),de(n,mt)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,l=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],u=!this.followPointer&&xe(n.ttBelow,!r.inverted==!!n.negative),h=function(t,e,n,i,r,l){var c=n<i-o,h=i+o+n<e,d=i-o-n,p=i+o;if(u&&h)s[t]=p;else if(!u&&c)s[t]=d;else if(c)s[t]=wt(l-n,d-a<0?d:d-a);else{if(!h)return!1;s[t]=bt(r,p+a+n>e?p:p+a)}},d=function(t,e,n,i){var r;return i<o||i>e-o?r=!1:i<n/2?s[t]=1:i>e-n/2?s[t]=e-n-2:s[t]=i-n/2,r},p=function(t){var e=l;l=c,c=e,i=t},f=function(){h.apply(0,l)!==!1?d.apply(0,c)!==!1||i||(p(!0),f()):i?s.x=s.y=0:(p(!0),f())};return(r.inverted||this.len>1)&&p(),f(),s},defaultFormatter:function(t){var e,n=this.points||h(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e.join("")},refresh:function(t,e){var n,i,r,o,s,a,l=this,c=l.chart,u=l.label,d=l.options,p={},f=[],g=d.formatter||l.defaultFormatter,m=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=h(t)[0].series.tooltipOptions.followPointer,r=l.getAnchor(t,e),n=r[0],i=r[1],!v||t.series&&t.series.noSharedTooltip?p=t.getLabelConfig():(c.hoverPoints=t,m&&ce(m,function(t){t.setState()}),ce(t,function(t){t.setState(ne),f.push(t.getLabelConfig())}),p={x:t[0].category,y:t[0].y},p.points=f,this.len=f.length,t=t[0]),o=g.call(p,l),a=t.series,this.distance=xe(a.tooltipOptions.distance,16),o===!1?this.hide():(l.isHidden&&(ve(u),u.attr("opacity",1).show()),u.attr({text:o}),s=d.borderColor||t.color||a.color||"#606060",u.attr({stroke:s}),l.updatePosition({plotX:n,plotY:i,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0}),this.isHidden=!1),ge(c,"tooltipRefresh",{text:o,x:n+c.plotLeft,y:i+c.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(mt(i.x),mt(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i,r,o,s=e.dateTimeLabelFormats,a=n&&n.closestPointRange,l="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";if(a){o=$("%m-%d %H:%M:%S.%L",t.x);for(r in G){if(a===G.week&&+$("%w",t.x)===n.options.startOfWeek&&o.substr(6)===l.substr(6)){r="week";break}if(G[r]>a){r=u;break}if(c[r]&&o.substr(c[r])!==l.substr(c[r]))break;"week"!==r&&(u=r)}r&&(i=s[r])}else i=s.day;return i||s.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=t.series,r=i.tooltipOptions,o=r.xDateFormat,s=i.xAxis,a=s&&"datetime"===s.options.type&&we(t.key),l=r[n+"Format"];return a&&!o&&(o=this.getXDateFormat(t,r,s)),a&&o&&(l=l.replace("{point.key}","{point.key:"+o+"}")),w(l,{point:t,series:i})},bodyFormatter:function(t){return de(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var Oe;q=ft&&ft.documentElement.ontouchstart!==W;var Le=pt.Pointer=function(t,e){this.init(t,e)};if(Le.prototype={init:function(t,e){var n,i,r=e.chart,o=r.events,s=Ht?"":r.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=n&&!a||i&&a,this.zoomVert=i&&!a||n&&a,this.hasZoom=n||i,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},pt.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Ie(t,e.tooltip),this.followTouchMove=xe(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,n){var i,r,o;return e=e||t.event,e.target||(e.target=e.srcElement),o=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,n||(this.chartPosition=n=he(this.chart.container)),o.pageX===W?(i=bt(e.x,e.clientX-n.left),r=e.y):(i=o.pageX-n.left,r=o.pageY-n.top),be(e,{chartX:mt(i),chartY:mt(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ce(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,n,i,r,o,s,a,l=this,c=l.chart,u=c.series,h=c.tooltip,d=!!h&&h.shared,p=c.hoverPoint,f=c.hoverSeries,g=[Number.MAX_VALUE,Number.MAX_VALUE],m=[],v=[];if(!d&&!f)for(n=0;n<u.length;n++)!u[n].directTouch&&u[n].options.stickyTracking||(u=[]);if(o=f&&(d?f.noSharedTooltip:f.directTouch),o&&p?v=[p]:(ce(u,function(e){r=e.noSharedTooltip&&d,s=!d&&e.directTouch,e.visible&&!r&&!s&&xe(e.options.enableMouseTracking,!0)&&(a=e.searchPoint(t,!r&&1===e.kdDimensions),a&&m.push(a))}),ce(m,function(t){t&&ce(["dist","distX"],function(e,n){if(we(t[e])){var i=t[e]<g[n],r=t[e]===g[n]&&t.series.group.zIndex>=v[n].series.group.zIndex;(i||r)&&(g[n]=t[e],v[n]=t)}})})),d)for(n=m.length;n--;)(m[n].clientX!==v[1].clientX||m[n].series.noSharedTooltip)&&m.splice(n,1);v[0]&&(v[0]!==this.prevKDPoint||h&&h.isHidden)?d&&!v[0].series.noSharedTooltip?(m.length&&h&&h.refresh(m,t),ce(m,function(e){e.onMouseOver(t,e!==(f&&f.directTouch&&p||v[0]))}),this.prevKDPoint=v[1]):(h&&h.refresh(v[0],t),f&&f.directTouch||v[0].onMouseOver(t),this.prevKDPoint=v[0]):(e=f&&f.tooltipOptions.followPointer,h&&e&&!h.isHidden&&(i=h.getAnchor([{}],t),h.updatePosition({plotX:i[0],plotY:i[1]}))),l._onDocumentMouseMove||(l._onDocumentMouseMove=function(t){Bt[Oe]&&Bt[Oe].pointer.onDocumentMouseMove(t)},pe(ft,"mousemove",l._onDocumentMouseMove)),ce(d?m:[xe(p,v[1])],function(e){ce(c.axes,function(n){e&&e.series[n.coll]!==n||n.drawCrosshair(t,e)})})},reset:function(t,e){var n=this,i=n.chart,r=i.hoverSeries,o=i.hoverPoint,s=i.hoverPoints,a=i.tooltip,l=a&&a.shared?s:o;t&&l&&ce(h(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&l&&(a.refresh(l),o&&(o.setState(o.state,!0),ce(i.axes,function(t){xe(t.crosshair&&t.crosshair.snap,!0)?t.drawCrosshair(null,o):t.hideCrosshair()}))):(o&&o.onMouseOut(),s&&ce(s,function(t){t.setState()}),r&&r.onMouseOut(),a&&a.hide(e),n._onDocumentMouseMove&&(fe(ft,"mousemove",n._onDocumentMouseMove),n._onDocumentMouseMove=null),ce(i.axes,function(t){t.hideCrosshair()}),n.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;ce(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,r=i.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=i.plotLeft,u=i.plotTop,h=i.plotWidth,d=i.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=r.panKey&&t[r.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+h&&(o=c+h),s<u?s=u:s>u+d&&(s=u+d),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(f-c,g-u),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&(p||(this.selectionMarker=p=i.renderer.rect(c,u,a?1:h,l?1:d,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),p&&a&&(n=o-f,p.attr({width:xt(n),x:(n>0?0:n)+f})),p&&l&&(n=s-g,p.attr({height:xt(n),y:(n>0?0:n)+g})),e&&!p&&r.panning&&i.pan(t,r.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,u=s.attr?s.attr("width"):s.width,h=s.attr?s.attr("height"):s.height;(this.hasDragged||i)&&(ce(n.axes,function(n){if(n.zoomEnabled&&c(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,d="touchend"===t.type?n.minPixelPadding:0,p=n.toValue((s?a:l)+d),f=n.toValue((s?a+u:l+h)-d);o[n.coll].push({axis:n,min:wt(p,f),max:bt(p,f)}),r=!0}}),r&&ge(n,"selection",o,function(t){n.zoom(be(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Bt[Oe]&&Bt[Oe].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=Bt[Oe];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;c(Oe)&&Bt[Oe]&&Bt[Oe].mouseIsDown||(Oe=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=u(t,"class")){if(n.indexOf(e)!==-1)return!0;if(n.indexOf(Gt+"container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement;!e||!n||e.options.stickyTracking||this.inClass(n,Gt+"tooltip")||this.inClass(n,Gt+"series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,Gt+"tracker")?(ge(n.series,"click",be(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(be(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&ge(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},pe(e,"mouseleave",t.onContainerMouseLeave),1===Wt&&pe(ft,"mouseup",t.onDocumentMouseUp),q&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Wt&&pe(ft,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;fe(this.chart.container,"mouseleave",this.onContainerMouseLeave),Wt||(fe(ft,"mouseup",this.onDocumentMouseUp),fe(ft,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},be(pt.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,p,f=this.chart,g=t?"x":"y",m=t?"X":"Y",v="chart"+m,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],w=a||1,x=f.inverted,_=f.bounds[t?"h":"v"],C=1===e.length,k=e[0][v],S=n[0][v],T=!C&&e[1][v],M=!C&&n[1][v],D=function(){!C&&xt(k-T)>20&&(w=a||xt(S-M)/xt(k-T)),u=(b-S)/w+k,l=f["plot"+(t?"Width":"Height")]/w};D(),c=u,c<_.min?(c=_.min,h=!0):c+l>_.max&&(c=_.max-l,h=!0),h?(S-=.8*(S-s[g][0]),C||(M-=.8*(M-s[g][1])),D()):s[g]=[S,M],x||(o[g]=u-b,o[y]=l),p=x?t?"scaleY":"scaleX":"scale"+m,d=x?1/w:w,r[y]=l,r[g]=c,i[p]=w,i["translate"+m]=d*b+(S-d*k)},pinch:function(t){var e=this,n=e.chart,i=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},u=1===o&&(e.inClass(t.target,Gt+"tracker")&&n.runTrackerClick||e.runChartClick),h={};o>1&&(e.initiated=!0),a&&e.initiated&&!u&&t.preventDefault(),de(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(ce(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],ce(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(xe(t.options.min,t.dataMin)),o=t.toPixels(xe(t.options.max,t.dataMax)),s=wt(r,o),a=bt(r,o);e.min=wt(t.pos,s-i),e.max=bt(t.pos+t.len,a+i)}}),e.res=!0):i.length&&(l||(e.selectionMarker=l=be({destroy:Nt,touch:!0},n.plotBox)),e.pinchTranslate(i,r,c,l,h,s),e.hasPinched=a,e.scaleGroups(c,h),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var n,i,r=this.chart;Oe=r.index,1===t.touches.length?(t=this.normalize(t),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop)&&!r.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=this.pinchDown,n=!!i[0]&&Math.sqrt(Math.pow(i[0].chartX-t.chartX,2)+Math.pow(i[0].chartY-t.chartY,2))>=4),xe(n,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Bt[Oe]&&Bt[Oe].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var Re={},He=!!t.PointerEvent,ze=function(){var t,e=[];e.item=function(t){return this[t]};for(t in Re)Re.hasOwnProperty(t)&&e.push({pageX:Re[t].pageX,pageY:Re[t].pageY,target:Re[t].target});return e},Fe=function(t,e,n,i){var r;"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Bt[Oe]||(i(t),r=Bt[Oe].pointer,r[e]({type:n,target:t.currentTarget,preventDefault:Nt,touches:ze()}))};be(Le.prototype,{onContainerPointerDown:function(t){Fe(t,"onContainerTouchStart","touchstart",function(t){Re[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){Fe(t,"onContainerTouchMove","touchmove",function(t){Re[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Re[t.pointerId].target||(Re[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){Fe(t,"onDocumentTouchEnd","touchend",function(t){delete Re[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,He?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,He?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(ft,He?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),_e(Le.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&p(e.container,{"-ms-touch-action":Kt,"touch-action":Kt})}),_e(Le.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(pe)}),_e(Le.prototype,"destroy",function(t){this.batchMSEvents(fe),t.call(this)})}var Ne=pt.Legend=function(t,e){this.init(t,e)};Ne.prototype={init:function(t,e){var n,r=this,o=e.itemStyle,s=e.itemMarginTop||0;this.options=e,e.enabled&&(r.itemStyle=o,r.itemHiddenStyle=i(o,e.itemHiddenStyle),r.itemMarginTop=s,r.padding=n=xe(e.padding,8),r.initialItemX=n,r.initialItemY=n-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=xe(e.symbolWidth,16),r.pages=[],r.render(),pe(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i,r=this,o=r.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,c=r.itemHiddenStyle.color,u=e?o.itemStyle.color:c,h=e?t.legendColor||t.color||"#CCC":c,d=t.options&&t.options.marker,p={fill:h};if(s&&s.css({fill:u,color:u}),a&&a.attr({stroke:h}),l){if(d&&l.isMarker){p.stroke=h,d=t.convertAttribs(d);for(n in d)i=d[n],i!==W&&(p[n]=i)}l.attr(p)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox,c=t.legendGroup;c&&c.element&&c.translate(r?s:e.legendWidth-s-2*i-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;ce(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&M(t.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;n&&(e=n.translateY,ce(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+r+a.y+(t||0)+3,p(a,{left:n.translateX+o.checkboxOffset+a.x-20+Zt,top:s+Zt,display:s>e-6&&s<e+i-6?"":Kt}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?w(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e,n,r,o=this,s=o.chart,a=s.renderer,l=o.options,c="horizontal"===l.layout,u=o.symbolWidth,h=l.symbolPadding,d=o.itemStyle,p=o.itemHiddenStyle,f=o.padding,g=c?xe(l.itemDistance,20):0,m=!l.rtl,v=l.width,y=l.itemMarginBottom||0,b=o.itemMarginTop,w=o.initialItemX,x=t.legendItem,_=t.series&&t.series.drawLegendSymbol?t.series:t,C=_.options,k=o.createCheckboxForItem&&C&&C.showCheckbox,S=l.useHTML;x||(t.legendGroup=a.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),t.legendItem=x=a.text("",m?u+h:-h,o.baseline||0,S).css(i(t.visible?d:p)).attr({align:m?"left":"right",zIndex:2}).add(t.legendGroup),o.baseline||(o.fontMetrics=a.fontMetrics(d.fontSize,x),o.baseline=o.fontMetrics.f+3+b,x.attr("y",o.baseline)),_.drawLegendSymbol(o,t),o.setItemEvents&&o.setItemEvents(t,x,S,d,p),k&&o.createCheckboxForItem(t)),o.colorizeItem(t,t.visible),o.setText(t),n=x.getBBox(),r=t.checkboxOffset=l.itemWidth||t.legendItemWidth||u+h+n.width+g+(k?20:0),o.itemHeight=e=mt(t.legendItemHeight||n.height),c&&o.itemX-w+r>(v||s.chartWidth-2*f-w-l.x)&&(o.itemX=w,o.itemY+=b+o.lastLineHeight+y,o.lastLineHeight=0),o.maxItemWidth=bt(o.maxItemWidth,r),o.lastItemY=b+o.itemY+y,o.lastLineHeight=bt(e,o.lastLineHeight),t._legendItemPos=[o.itemX,o.itemY],c?o.itemX+=r:(o.itemY+=b+e+y,o.lastLineHeight=e),o.offsetWidth=v||bt((c?o.itemX-w-g:r)+f,o.offsetWidth)},getAllItems:function(){var t=[];return ce(this.chart.series,function(e){var n=e.options;xe(n.showInLegend,!c(n.linkedTo)&&W,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);this.display&&!i.floating&&ce([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!c(t[s])&&(n[re[s]]=bt(n[re[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+xe(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,c=r.options,u=r.padding,h=c.borderWidth,d=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),C(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,ce(t,function(t){r.renderItem(t)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,(h||d)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=s.rect(0,0,n,i,c.borderRadius,h||0).attr({stroke:c.borderColor,"stroke-width":h||0,fill:d||Kt}).add(a).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,ce(t,function(t){r.positionItem(t)}),e&&a.align(be({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,c=r.spacingBox.height+(l?-a:a)-this.padding,u=s.maxHeight,h=this.clipRect,d=s.navigation,p=xe(d.animation,!0),f=d.arrowSize||12,g=this.nav,m=this.pages,v=this.padding,y=this.allItems,b=function(t){
h.attr({height:t}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+v+"px,9999px,"+(v+t)+"px,0)")};return"horizontal"===s.layout&&(c/=2),u&&(c=wt(c,u)),m.length=0,t>c&&d.enabled!==!1?(this.clipHeight=e=bt(c-20-this.titleHeight-v,0),this.currentPage=xe(this.currentPage,1),this.fullHeight=t,ce(y,function(t,i){var r=t._legendItemPos[1],o=mt(t.legendItem.getBBox().height),s=m.length;(!s||r-m[s-1]>e&&(n||r)!==m[s-1])&&(m.push(n||r),s++),i===y.length-1&&r+o-m[s-1]>e&&m.push(r),r!==n&&(n=r)}),h||(h=i.clipRect=o.clipRect(0,v,9999,0),i.contentGroup.clip(h)),b(e),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).css(d.style).add(g),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=c):g&&(b(r.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pages,r=i.length,o=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,c=a.inactiveColor,u=this.pager,h=this.padding;o>r&&(o=r),o>0&&(e!==W&&A(e,this.chart),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:Xt}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),u.attr({text:o+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===r?c:l}).css({cursor:o===r?"default":"pointer"}),n=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}};var Be=pt.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-n+1,t.symbolWidth,n,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i,r=this.options,o=r.marker,s=t.symbolWidth,a=this.chart.renderer,l=this.legendGroup,c=t.baseline-mt(.3*t.fontMetrics.b);r.lineWidth&&(i={"stroke-width":r.lineWidth},r.dashStyle&&(i.dashstyle=r.dashStyle),this.legendLine=a.path([Jt,0,c,Qt,s,c]).attr(i).add(l)),o&&o.enabled!==!1&&(e=o.radius,this.legendSymbol=n=a.symbol(this.symbol,s/2-e,c-e,2*e,2*e,o).add(l),n.isMarker=!0)}};(/Trident\/7\.0/.test(Tt)||Pt)&&_e(Ne.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)});var We=pt.Chart=function(){this.getArgs.apply(this,arguments)};pt.chart=function(t,e,n){return new We(t,e,n)},We.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(o(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var n,r=t.series;t.series=null,n=i(j,t),n.series=t.series=r,this.userOptions=t;var o=n.chart;this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var s=o.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,l=this;if(l.index=Bt.length,Bt.push(l),Wt++,o.reflow!==!1&&pe(l,"load",function(){l.initReflow()}),s)for(a in s)pe(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=!Ht&&xe(o.animation,!0),l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(t){var n,i=this,r=i.options.chart,o=t.type||r.type||r.defaultSeriesType,s=se[o];return s||e(17,!0),n=new s,n.init(this,t),n},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(t){var e,n,i,r=this,o=r.axes,s=r.series,a=r.pointer,l=r.legend,c=r.isDirtyLegend,u=r.hasCartesianSeries,h=r.isDirtyBox,d=s.length,p=d,f=r.renderer,g=f.isHidden(),m=[];for(A(t,r),g&&r.cloneRenderTo(),r.layOutTitles();p--;)if(i=s[p],i.options.stacking&&(e=!0,i.isDirty)){n=!0;break}if(n)for(p=d;p--;)i=s[p],i.options.stacking&&(i.isDirty=!0);ce(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&ge(t,"updatedData")}),c&&l.options.enabled&&(l.render(),r.isDirtyLegend=!1),e&&r.getStacks(),u&&(r.isResizing||(r.maxTicks=null,ce(o,function(t){t.setScale()}))),r.getMargins(),u&&(ce(o,function(t){t.isDirty&&(h=!0)}),ce(o,function(t){var n=t.min+","+t.max;t.extKey!==n&&(t.extKey=n,m.push(function(){ge(t,"afterSetExtremes",be(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&r.drawChartBox(),ce(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),f.draw(),ge(r,"redraw"),g&&r.cloneRenderTo(!0),ce(m,function(t){t.call()})},get:function(t){var e,n,i,r=this,o=r.axes,s=r.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e=this,n=this.options,i=n.xAxis=h(n.xAxis||{}),r=n.yAxis=h(n.yAxis||{});ce(i,function(t,e){t.index=e,t.isX=!0}),ce(r,function(t,e){t.index=e}),t=i.concat(r),ce(t,function(t){new Pe(e,t)})},getSelectedPoints:function(){var t=[];return ce(this.series,function(e){t=t.concat(ue(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return ue(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var r,o,s=this,a=s.options;r=a.title=i(a.title,t),o=a.subtitle=i(a.subtitle,e),ce([["title",t,r],["subtitle",e,o]],function(t){var e=t[0],n=s[e],i=t[1],r=t[2];n&&i&&(s[e]=n=n.destroy()),r&&r.text&&!n&&(s[e]=s.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:Gt+e,zIndex:r.zIndex||4}).css(r.style).add())}),s.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.title,r=this.subtitle,o=this.options,s=o.title,a=o.subtitle,l=this.renderer,c=this.spacingBox;i&&(i.css({width:(s.width||c.width+s.widthAdjust)+Zt}).align(be({y:l.fontMetrics(s.style.fontSize,i).b-3},s),!1,c),s.floating||s.verticalAlign||(n=i.getBBox().height)),r&&(r.css({width:(a.width||c.width+a.widthAdjust)+Zt}).align(be({y:n+(s.margin-13)+l.fontMetrics(a.style.fontSize,i).b},a),!1,c),a.floating||a.verticalAlign||(n=yt(n+r.getBBox().height))),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&xe(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,n=e.width,i=e.height,r=t.renderToClone||t.renderTo;c(n)||(t.containerWidth=ae(r,"width")),c(i)||(t.containerHeight=ae(r,"height")),t.chartWidth=bt(0,n||t.containerWidth||600),t.chartHeight=bt(0,xe(i,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),M(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:jt,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),ft.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var t,n,i,s,a,l=this,c=l.options,h=c.chart,d=l.renderTo,p="data-highcharts-chart",g="highcharts-"+Ft++;d||(l.renderTo=d=h.renderTo),o(d)&&(l.renderTo=d=ft.getElementById(d)),d||e(13,!0),s=r(u(d,p)),we(s)&&Bt[s]&&Bt[s].hasRendered&&Bt[s].destroy(),u(d,p,l.index),d.innerHTML="",h.skipClone||d.offsetWidth||l.cloneRenderTo(),l.getChartSize(),n=l.chartWidth,i=l.chartHeight,l.container=t=f(Yt,{className:Gt+"container"+(h.className?" "+h.className:""),id:g},be({position:$t,overflow:Ut,width:n+Zt,height:i+Zt,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),l.renderToClone||d),l._cursor=t.style.cursor,a=pt[h.renderer]||V,l.renderer=new a(t,n,i,h.style,h.forExport,c.exporting&&c.exporting.allowHTML),Ht&&l.renderer.create(l,t,n,i),l.renderer.chartIndex=l.index},getMargins:function(t){var e=this,n=e.spacing,i=e.margin,r=e.titleOffset;e.resetMargins(),r&&!c(i[0])&&(e.plotTop=bt(e.plotTop,r+e.options.title.margin+n[0])),e.legend.adjustMargins(i,n),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&ce(t.axes,function(t){t.visible&&t.getOffset()}),ce(re,function(i,r){c(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,o=i.width||ae(r,"width"),s=i.height||ae(r,"height"),a=e?e.target:t;n.hasUserSize||n.isPrinting||!o||!s||a!==t&&a!==ft||(o===n.containerWidth&&s===n.containerHeight||(clearTimeout(n.reflowTimeout),n.reflowTimeout=d(function(){n.container&&(n.setSize(o,s,!1),n.hasUserSize=null)},e?100:0)),n.containerWidth=o,n.containerHeight=s)},initReflow:function(){var e=this,n=function(t){e.reflow(t)};pe(t,"resize",n),pe(e,"destroy",function(){fe(t,"resize",n)})},setSize:function(t,e,n){var i,r,o,s=this,a=s.renderer;s.isResizing+=1,A(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,c(t)&&(s.chartWidth=i=bt(0,mt(t)),s.hasUserSize=!!i),c(e)&&(s.chartHeight=r=bt(0,mt(e))),o=a.globalAnimation,(o?me:p)(s.container,{width:i+Zt,height:r+Zt},o),s.setChartSize(!0),a.setSize(i,r,n),s.maxTicks=null,ce(s.axes,function(t){t.isDirty=!0,t.setScale()}),ce(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(n),s.oldChartHeight=null,ge(s,"resize"),d(function(){s&&ge(s,"endResize",null,function(){s.isResizing-=1})},E(o).duration)},setChartSize:function(t){var e,n,i,r,o,s,a,l=this,c=l.inverted,u=l.renderer,h=l.chartWidth,d=l.chartHeight,p=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=i=mt(l.plotLeft),l.plotTop=r=mt(l.plotTop),l.plotWidth=o=bt(0,mt(h-i-l.marginRight)),l.plotHeight=s=bt(0,mt(d-r-l.marginBottom)),l.plotSizeX=c?s:o,l.plotSizeY=c?o:s,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:f[3],y:f[0],width:h-f[3]-f[1],height:d-f[0]-f[2]},l.plotBox=u.plotBox={x:i,y:r,width:o,height:s},a=2*vt(l.plotBorderWidth/2),e=yt(bt(a,g[3])/2),n=yt(bt(a,g[0])/2),l.clipBox={x:e,y:n,width:vt(l.plotSizeX-bt(a,g[1])/2-e),height:bt(0,vt(l.plotSizeY-bt(a,g[2])/2-n))},t||ce(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;ce(re,function(e,n){t[e]=xe(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this,i=n.options.chart,r=n.renderer,o=n.chartWidth,s=n.chartHeight,a=n.chartBackground,l=n.plotBackground,c=n.plotBorder,u=n.plotBGImage,h=i.borderWidth||0,d=i.backgroundColor,p=i.plotBackgroundColor,f=i.plotBackgroundImage,g=i.plotBorderWidth||0,m=n.plotLeft,v=n.plotTop,y=n.plotWidth,b=n.plotHeight,w=n.plotBox,x=n.clipRect,_=n.clipBox;t=h+(i.shadow?8:0),(h||d)&&(a?a.animate(a.crisp({width:o-t,height:s-t})):(e={fill:d||Kt},h&&(e.stroke=i.borderColor,e["stroke-width"]=h),n.chartBackground=r.rect(t/2,t/2,o-t,s-t,i.borderRadius,h).attr(e).addClass(Gt+"background").add().shadow(i.shadow))),p&&(l?l.animate(w):n.plotBackground=r.rect(m,v,y,b,0).attr({fill:p}).add().shadow(i.plotShadow)),f&&(u?u.animate(w):n.plotBGImage=r.image(f,m,v,y,b).add()),x?x.animate({width:_.width,height:_.height}):n.clipRect=r.clipRect(_),g&&(c?(c.strokeWidth=-g,c.animate(c.crisp({x:m,y:v,width:y,height:b}))):n.plotBorder=r.rect(m,v,y,b,0,-g).attr({stroke:i.plotBorderColor,"stroke-width":g,fill:Kt,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;ce(["inverted","angular","polar"],function(s){for(t=se[r.type||r.defaultSeriesType],n=i[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)t=se[o[e].type],t&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;ce(e,function(t){t.linkedSeries.length=0}),ce(e,function(e){var n=e.options.linkedTo;o(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=xe(e.options.visible,n.options.visible,e.visible)))})},renderSeries:function(){ce(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&ce(e.items,function(n){var i=be(e.style,n.style),o=r(i.left)+t.plotLeft,s=r(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,o,s).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i,r=this,o=r.axes,s=r.renderer,a=r.options;r.setTitle(),r.legend=new Ne(r,a.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=r.plotHeight-21,ce(o,function(t){t.setScale()}),r.getAxisMargins(),n=t/r.plotWidth>1.1,i=e/r.plotHeight>1.05,(n||i)&&(r.maxTicks=null,ce(o,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&ce(o,function(t){t.visible&&t.render()}),r.seriesGroup||(r.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.showCredits(a.credits),r.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(ge(e,"destroy"),Bt[e.index]=W,Wt--,e.renderTo.removeAttribute("data-highcharts-chart"),fe(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();ce(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",fe(r),o&&M(r));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!(!Lt&&t==t.top&&"complete"!==ft.readyState||Ht&&!t.canvg)||(Ht?Ee.push(function(){e.firstRender()},e.options.global.canvasToolsURL):ft.attachEvent("onreadystatechange",function(){ft.detachEvent("onreadystatechange",e.firstRender),"complete"===ft.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),ge(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ce(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),ge(t,"beforeRender"),pt.Pointer&&(t.pointer=new Le(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;ce([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),ge(t,"load"),this.onload=null},splashArray:function(t,e){var n=e[t],i=s(n)?n:[n,n,n,n];return[xe(e[t+"Top"],i[0]),xe(e[t+"Right"],i[1]),xe(e[t+"Bottom"],i[2]),xe(e[t+"Left"],i[3])]}};var Ve=pt.CenteredSeriesMixin={getCenter:function(){var t,e,n,i=this.options,r=this.chart,o=2*(i.slicedOffset||0),s=r.plotWidth-2*o,a=r.plotHeight-2*o,l=i.center,c=[xe(l[0],"50%"),xe(l[1],"50%"),i.size||"100%",i.innerSize||0],u=wt(s,a);for(e=0;e<4;++e)n=c[e],t=e<2||2===e&&/%$/.test(n),c[e]=v(n,[s,a,u,c[2]][e])+(t?o:0);return c[3]>c[2]&&(c[3]=c[2]),c}},qe=function(){};qe.prototype={init:function(t,e,n){var i,r=this;return r.series=t,r.color=t.color,r.applyOptions(e,n),r.pointAttr={},t.options.colorByPoint&&(i=t.options.colors||t.chart.options.colors,r.color=r.color||i[t.colorCounter++],t.colorCounter===i.length&&(t.colorCounter=0)),t.chart.pointCount++,r},applyOptions:function(t,e){var n=this,i=n.series,r=i.options.pointValKey||i.pointValKey;return t=qe.prototype.optionsToObject.call(this,t),be(n,t),n.options=n.options?be(n.options,t):t,r&&(n.y=n[r]),n.isNull=null===n.x||null===n.y,void 0===n.x&&i&&(n.x=void 0===e?i.autoIncrement():e),n},optionsToObject:function(t){var e,n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,l=0,c=0;if(we(t)||null===t)n[o[0]]=t;else if(a(t))for(!r&&t.length>s&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),l++);c<s;)r&&void 0===t[l]||(n[o[c]]=t[l]),l++,c++;else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var t,e=this,n=e.series,i=n.chart,r=i.hoverPoints;i.pointCount--,r&&(e.setState(),l(r,e),r.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(fe(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=xe(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return ce(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),w(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),ge(this,t,e,n)},visible:!0};var Ye=pt.Series=function(){};Ye.prototype={isCartesian:!0,type:"line",pointClass:qe,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var n,i,r=this,o=t.series,s=function(t,e){return xe(t.options.index,t._i)-xe(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),be(r,{name:e.name,state:ee,pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Ht&&(e.animation=!1),i=e.events;for(n in i)pe(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),ce(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,C(o,s),this.yAxis&&C(this.yAxis.series,s),ce(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,n=this,i=n.options,r=n.chart;ce(n.axisTypes||[],function(o){ce(r[o],function(e){t=e.options,(i[o]===t.index||i[o]!==W&&i[o]===t.id||i[o]===W&&0===t.index)&&(e.series.push(n),n[o]=e,e.isDirty=!0)}),n[o]||n.optionalAxis===o||e(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=we(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};ce(n.parallelArrays,r)},autoIncrement:function(){var t,e,n=this.options,i=this.xIncrement,r=n.pointIntervalUnit;return i=xe(i,n.pointStart,0),this.pointInterval=e=xe(this.pointInterval,n.pointInterval,1),r&&(t=new Z(i),"day"===r?t=+t[ut](t[it]()+e):"month"===r?t=+t[ht](t[rt]()+e):"year"===r&&(t=+t[dt](t[ot]()+e)),e=t-i),this.xIncrement=i+e,i},setOptions:function(t){var e,n,r=this.chart,o=r.options,s=o.plotOptions,a=r.userOptions||{},l=a.plotOptions||{},u=s[this.type];return this.userOptions=t,e=i(u,s.series,t),this.tooltipOptions=i(j.tooltip,j.plotOptions[this.type].tooltip,a.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,t.tooltip),null===u.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,n=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||n.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,color:e.negativeColor,fillColor:e.negativeFillColor}),n.length&&c(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,n){var i,r=this.userOptions,o="_"+t+"Index",s=t+"Counter";e||(c(r[o])?i=r[o]:(r[o]=i=this.chart[s]%n.length,this.chart[s]+=1),e=n[i]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Ce[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Be.drawLineMarker,setData:function(t,n,i,r){var s,l,u,h=this,d=h.points,p=d&&d.length||0,f=h.options,g=h.chart,m=null,v=h.xAxis,y=v&&!!v.categories,b=f.turboThreshold,w=this.xData,x=this.yData,_=h.pointArrayMap,C=_&&_.length;if(t=t||[],s=t.length,n=xe(n,!0),r!==!1&&s&&p===s&&!h.cropped&&!h.hasGroupedData&&h.visible)ce(t,function(t,e){d[e].update&&t!==f.data[e]&&d[e].update(t,!1,null,!1)});else{if(h.xIncrement=null,h.colorCounter=0,ce(this.parallelArrays,function(t){h[t+"Data"].length=0}),b&&s>b){for(l=0;null===m&&l<s;)m=t[l],l++;if(we(m)){var k=xe(f.pointStart,0),S=xe(f.pointInterval,1);for(l=0;l<s;l++)w[l]=k,x[l]=t[l],k+=S;h.xIncrement=k}else if(a(m))if(C)for(l=0;l<s;l++)u=t[l],w[l]=u[0],x[l]=u.slice(1,C+1);else for(l=0;l<s;l++)u=t[l],w[l]=u[0],x[l]=u[1];else e(12)}else for(l=0;l<s;l++)t[l]!==W&&(u={series:h},h.pointClass.prototype.applyOptions.apply(u,[t[l]]),h.updateParallelArrays(u,l),y&&c(u.name)&&(v.names[u.x]=u.name));for(o(x[0])&&e(14,!0),h.data=[],h.options.data=h.userOptions.data=t,l=p;l--;)d[l]&&d[l].destroy&&d[l].destroy();v&&(v.minRange=v.userMinRange),h.isDirty=h.isDirtyData=g.isDirtyBox=!0,i=!1}"point"===f.legendType&&(this.processData(),this.generatePoints()),n&&g.redraw(i)},processData:function(t){var n,i,r,o,s,a,l,c,u=this,h=u.xData,d=u.yData,p=h.length,f=0,g=u.xAxis,m=u.options,v=m.cropThreshold,y=u.getExtremesFromAll||m.getExtremesFromAll,b=u.isCartesian,w=g&&g.val2lin,x=g&&g.isLog;if(b&&!u.isDirty&&!g.isDirty&&!u.yAxis.isDirty&&!t)return!1;for(g&&(a=g.getExtremes(),l=a.min,c=a.max),b&&u.sorted&&!y&&(!v||p>v||u.forceCrop)&&(h[p-1]<l||h[0]>c?(h=[],d=[]):(h[0]<l||h[p-1]>c)&&(n=this.cropData(u.xData,u.yData,l,c),h=n.xData,d=n.yData,f=n.start,i=!0)),s=h.length||1;--s;)r=x?w(h[s])-w(h[s-1]):h[s]-h[s-1],r>0&&(o===W||r<o)?o=r:r<0&&u.requireSorting&&e(15);u.cropped=i,u.cropStart=f,u.processedXData=h,u.processedYData=d,u.closestPointRange=o},cropData:function(t,e,n,i){var r,o,s=t.length,a=0,l=s,c=xe(this.cropShoulder,1);for(r=0;r<s;r++)if(t[r]>=n){a=bt(0,r-c);break}for(o=r;o<s;o++)if(t[o]>i){l=o+c;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,c=r.processedYData,u=r.pointClass,d=l.length,p=r.cropStart||0,f=r.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=s.length,a=r.data=m}for(i=0;i<d;i++)e=p+i,f?(g[i]=(new u).init(r,[l[i]].concat(h(c[i]))),g[i].dataGroup=r.groupMap[i]):(a[e]?n=a[e]:s[e]!==W&&(a[e]=n=(new u).init(r,s[e],l[i])),g[i]=n),g[i].index=e;if(a&&(d!==(t=a.length)||f))for(i=0;i<t;i++)i!==p||f||(i+=d),a[i]&&(a[i].destroyElements(),a[i].plotX=W);r.data=a,r.points=g},getExtremes:function(t){var e,n,i,r,o,s,a,l=this.xAxis,c=this.yAxis,u=this.processedXData,h=[],d=0,p=l.getExtremes(),f=p.min,g=p.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,s=0;s<e;s++)if(r=u[s],o=t[s],n=null!==o&&o!==W&&(!c.isLog||o.length||o>0),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[s+1]||r)>=f&&(u[s-1]||r)<=g,n&&i)if(a=o.length)for(;a--;)null!==o[a]&&(h[d++]=o[a]);else h[d++]=o;this.dataMin=k(h),this.dataMax=S(h)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,n,i,r,o,s=this,a=s.options,l=a.stacking,u=s.xAxis,h=u.categories,d=s.yAxis,p=s.points,f=p.length,g=!!s.modifyValue,m=a.pointPlacement,v="between"===m||we(m),y=a.threshold,b=a.startFromThreshold?y:0,w=Number.MAX_VALUE;for(t=0;t<f;t++){var x,_,C=p[t],k=C.x,S=C.y,T=C.low,M=l&&d.stacks[(s.negStacks&&S<(b?0:y)?"-":"")+s.stackKey];d.isLog&&null!==S&&S<=0&&(C.y=S=null,e(10)),C.plotX=n=D(wt(bt(-1e5,u.translate(k,0,0,0,1,m,"flags"===this.type)),1e5)),l&&s.visible&&!C.isNull&&M&&M[k]&&(o=s.getStackIndicator(o,k,s.index),x=M[k],_=x.points[o.key],T=_[0],S=_[1],T===b&&(T=xe(y,d.min)),d.isLog&&T<=0&&(T=null),C.total=C.stackTotal=x.total,C.percentage=x.total&&C.y/x.total*100,C.stackY=S,x.setOffset(s.pointXOffset||0,s.barW||0)),C.yBottom=c(T)?d.translate(T,0,1,0,1):null,g&&(S=s.modifyValue(S,C)),C.plotY=i="number"==typeof S&&S!==1/0?wt(bt(-1e5,d.translate(S,0,1,0,1)),1e5):W,C.isInside=i!==W&&i>=0&&i<=d.len&&n>=0&&n<=u.len,C.clientX=v?u.translate(k,0,0,0,1):n,C.negative=C.y<(y||0),C.category=h&&h[C.x]!==W?h[C.x]:C.x,C.isNull||(void 0!==r&&(w=wt(w,xt(n-r))),r=n)}s.closestPointRangePx=w},getValidPoints:function(t,e){var n=this.chart;return ue(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(","),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=c=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s)),t&&(l.count+=1),n.clip!==!1&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n,i=this,r=i.chart,o=i.options.animation;o&&!s(o)&&(o=Ce[i.type].animation),t?i.setClip(o):(n=this.sharedClipKey,e=r[n],e&&e.animate({width:r.plotSizeX},o),r[n+"m"]&&r[n+"m"].animate({width:r.plotSizeX+99},o),i.animate=null)},afterAnimate:function(){this.setClip(),ge(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this,f=p.points,g=p.chart,m=p.options,v=m.marker,y=p.pointAttr[""],b=p.markerGroup,w=p.xAxis,x=xe(v.enabled,w.isRadial,p.closestPointRangePx>2*v.radius);if(v.enabled!==!1||p._hasPointMarkers)for(i=f.length;i--;)r=f[i],e=vt(r.plotX),n=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,h=x&&c.enabled===W||c.enabled,d=r.isInside,h&&we(n)&&null!==r.y?(t=r.pointAttr[r.selected?ie:ee]||y,o=t.r,s=xe(c.symbol,p.symbol),a=0===s.indexOf("url"),l?l[d?"show":"hide"](!0).attr(t).animate(be({x:e-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||a)&&(r.graphic=l=g.renderer.symbol(s,e-o,n-o,2*o,2*o,u?c:v).attr(t).add(b))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,n,i){var r,o,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=xe(t[o],e[r],n[r],i[r]);return a},getAttribs:function(){var t,e,n,i,r,o,s,a,l,u=this,h=u.options,d=Ce[u.type].marker?h.marker:h,p=d.states,f=p[ne],g=u.color,m=u.options.negativeColor,v={stroke:g,fill:g},y=u.points||[],b=[],w=u.pointAttrToOptions,x=u.hasPointSpecificOptions,_=d.lineColor,C=d.fillColor,k=h.turboThreshold,S=u.zones,T=u.zoneAxis||"y";if(h.marker?(f.radius=f.radius||d.radius+f.radiusPlus,f.lineWidth=f.lineWidth||d.lineWidth+f.lineWidthPlus):(f.color=f.color||L(f.color||g).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||L(f.negativeColor||m).brighten(f.brightness).get()),b[ee]=u.convertAttribs(d,v),ce([ne,ie],function(t){b[t]=u.convertAttribs(p[t],b[ee])}),u.pointAttr=b,e=y.length,!k||e<k||x)for(;e--;){if(r=y[e],d=r.options&&r.options.marker||r.options,d&&d.enabled===!1&&(d.radius=0),s=null,S.length){for(n=0,i=S[n];r[T]>=i.value;)i=S[++n];r.color=r.fillColor=s=xe(i.color,u.color)}if(x=h.colorByPoint||r.color,r.options)for(l in w)c(d[w[l]])&&(x=!0);x?(d=d||{},o=[],p=d.states||{},t=p[ne]=p[ne]||{},h.marker&&(!r.negative||t.fillColor||f.fillColor)||(t[u.pointAttrToOptions.fill]=t.color||!r.options.color&&f[r.negative&&m?"negativeColor":"color"]||L(r.color).brighten(t.brightness||f.brightness).get()),a={color:r.color},C||(a.fillColor=r.color),_||(a.lineColor=r.color),d.hasOwnProperty("color")&&!d.color&&delete d.color,s&&!f.fillColor&&(t.fillColor=s),o[ee]=u.convertAttribs(be(a,d),b[ee]),o[ne]=u.convertAttribs(p[ne],b[ne],o[ee]),o[ie]=u.convertAttribs(p[ie],b[ie],o[ee])):o=b,r.pointAttr=o}},destroy:function(){var t,e,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(Tt),c=o.data||[];for(ge(o,"destroy"),fe(o),ce(o.axisTypes||[],function(t){r=o[t],r&&(l(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=c.length;e--;)n=c[e],n&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout);for(i in o)o[i]instanceof R&&!o[i].survive&&(t=a&&"group"===i?"hide":"destroy",o[i][t]());s.hoverSeries===o&&(s.hoverSeries=null),l(s.series,o);for(i in o)delete o[i]},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,l=[];return t=t||o.points,i=t.reversed,i&&t.reverse(),a={right:1,center:2}[a]||a&&3,a&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),ce(t,function(i,u){var h,d=i.plotX,p=i.plotY,f=t[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!c(e)&&u>0?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===u||r?h=[Jt,i.plotX,i.plotY]:o.getPointSpline?h=o.getPointSpline(t,i,u):a?(h=1===a?[Qt,f.plotX,p]:2===a?[Qt,(f.plotX+d)/2,f.plotY,Qt,(f.plotX+d)/2,p]:[Qt,d,f.plotY],h.push(Qt,d,p)):h=[Qt,d,p],l.push.apply(l,h),r=!1)}),o.graphPath=l,l},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color,e.dashStyle]],i=e.lineWidth,r="square"!==e.linecap,o=(this.gappedPath||this.getGraphPath).call(this),s=this.fillGraph&&this.color||Kt,a=this.zones;ce(a,function(i,r){n.push(["zoneGraph"+r,i.color||t.color,i.dashStyle||e.dashStyle])}),ce(n,function(n,a){var l,c=n[0],u=t[c];u?u.animate({d:o}):(i||s)&&o.length&&(l={stroke:n[1],"stroke-width":i,fill:s,zIndex:1},n[2]?l.dashstyle=n[2]:r&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(o).attr(l).add(t.group).shadow(a<2&&e.shadow))})},applyZones:function(){var t,e,n,i,r,o,s,a=this,l=this.chart,c=l.renderer,u=this.zones,h=this.clips||[],d=this.graph,p=this.area,f=bt(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,v=l.inverted,y=g.horiz,b=!1;u.length&&(d||p)&&g.min!==W&&(d&&d.hide(),p&&p.hide(),i=g.getExtremes(),ce(u,function(u,w){t=m?y?l.plotWidth:0:y?0:g.toPixels(i.min),t=wt(bt(xe(e,t),0),f),e=wt(bt(mt(g.toPixels(xe(u.value,i.max),!0)),0),f),b&&(t=e=g.toPixels(i.max)),r=Math.abs(t-e),o=wt(t,e),s=bt(t,e),g.isXAxis?(n={x:v?s:o,y:0,width:r,height:f},y||(n.x=l.plotHeight-n.x)):(n={x:0,y:v?s:o,width:f,height:r},y&&(n.y=l.plotWidth-n.y)),l.inverted&&c.isVML&&(n=g.isXAxis?{x:0,y:m?o:s,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),h[w]?h[w].animate(n):(h[w]=c.clipRect(n),d&&a["zoneGraph"+w].clip(h[w]),p&&a["zoneArea"+w].clip(h[w])),b=u.value>i.max}),this.clips=h)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ce(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(pe(n,"resize",t),pe(e,"destroy",function(){fe(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=!!e.animate&&n.renderer.isSVG&&E(i.animation).duration,o=e.visible?"inherit":"hidden",s=i.zIndex,a=e.hasRendered,l=n.seriesGroup;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&n.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),ce(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i.clip===!1||e.sharedClipKey||a||t.clip(n.clipRect),
r&&e.animate(),a||(e.animationTimeout=d(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirty||t.isDirtyData,i=t.group,r=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:xe(r&&r.left,e.plotLeft),translateY:xe(o&&o.top,e.plotTop)})),t.translate(),t.render(),n&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this,i=n.xAxis,r=n.yAxis,o=n.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,i,r){var o,s,a=e&&e.length;if(a)return o=n.kdAxisArray[i%r],e.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(a/2),{point:e[s],left:t(e.slice(0,s),i+1,r),right:t(e.slice(s+1),i+1,r)}}function e(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,d(e,n.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e){var n=c(t[o])&&c(e[o])?Math.pow(t[o]-e[o],2):null,i=c(t[s])&&c(e[s])?Math.pow(t[s]-e[s],2):null,r=(n||0)+(i||0);e.dist=c(r)?Math.sqrt(r):Number.MAX_VALUE,e.distX=c(n)?Math.sqrt(n):Number.MAX_VALUE}function i(t,e,o,s){var l,c,u,h,d,p=e.point,f=r.kdAxisArray[o%s],g=p;return n(t,p),l=t[f]-p[f],c=l<0?"left":"right",u=l<0?"right":"left",e[c]&&(h=i(t,e[c],o+1,s),g=h[a]<g[a]?h:p),e[u]&&Math.sqrt(l*l)<g[a]&&(d=i(t,e[u],o+1,s),g=d[a]<g[a]?d:g),g}var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},F.prototype={destroy:function(){T(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?w(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:Ut}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,o=r.chart,s=o.inverted,a=r.reversed,l=this.isNegative&&!a||!this.isNegative&&a,c=r.translate(r.usePercentage?100:this.total,0,0,0,1),u=r.translate(0),h=xt(c-u),d=o.xAxis[0].translate(this.x)+t,p=o.plotHeight,f={x:s?l?c:c-h:d,y:s?p-d-e:l?p-c-h:p-c,width:s?h:e,height:s?e:h},g=this.label;g&&(g.align(this.alignOptions,null,f),n=g.alignAttr,g[this.options.crop===!1||o.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},We.prototype.getStacks=function(){var t=this;ce(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ce(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+xe(e.options.stack,""))})},Pe.prototype.buildStacks=function(){var t,e,n=this.series,i=xe(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)t=n[i?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)n[e].setPercentStacks()}},Pe.prototype.renderStackTotals=function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.stacks,a=i.stackTotalGroup;a||(i.stackTotalGroup=a=o.g("stack-labels").attr({visibility:Xt,zIndex:6}).add()),a.translate(r.plotLeft,r.plotTop);for(t in s){e=s[t];for(n in e)e[n].render(a)}},Pe.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},Pe.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(n in t[e])t[e][n].cum=t[e][n].total}},Ye.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,o,s,a,l,c=this,u=c.processedXData,h=c.processedYData,d=[],p=h.length,f=c.options,g=f.threshold,m=f.startFromThreshold?g:0,v=f.stack,y=f.stacking,b=c.stackKey,w="-"+b,x=c.negStacks,_=c.yAxis,C=_.stacks,k=_.oldStacks;for(_.stacksTouched+=1,s=0;s<p;s++)a=u[s],l=h[s],t=c.getStackIndicator(t,a,c.index),o=t.key,e=x&&l<(m?0:g),r=e?w:b,C[r]||(C[r]={}),C[r][a]||(k[r]&&k[r][a]?(C[r][a]=k[r][a],C[r][a].total=null):C[r][a]=new F(_,_.options.stackLabels,e,a,v)),n=C[r][a],null!==l&&(n.points[o]=n.points[c.index]=[xe(n.cum,m)],n.touched=_.stacksTouched,t.index>0&&c.singleStacks===!1&&(n.points[o][0]=n.points[c.index+","+a+",0"][0])),"percent"===y?(i=e?b:w,x&&C[i]&&C[i][a]?(i=C[i][a],n.total=i.total=bt(i.total,n.total)+xt(l)||0):n.total=D(n.total+(xt(l)||0))):n.total=D(n.total+(l||0)),n.cum=xe(n.cum,m)+(l||0),null!==l&&(n.points[o].push(n.cum),d[s]=n.cum);"percent"===y&&(_.usePercentage=!0),this.stackedYData=d,_.oldStacks={}}},Ye.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData;ce([n,"-"+n],function(n){for(var o,s,a,l,c=r.length;c--;)o=r[c],t=e.getStackIndicator(t,o,e.index),s=i[n]&&i[n][o],a=s&&s.points[t.key],a&&(l=s.total?100/s.total:0,a[0]=D(a[0]*l),a[1]=D(a[1]*l),e.stackedYData[c]=a[1])})},Ye.prototype.getStackIndicator=function(t,e,n){return c(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[n,e,t.index].join(","),t},be(We.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=xe(e,!0),ge(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options,a=i(t,{index:this[o].length,isX:e});new Pe(this,a),s[o]=h(s[o]||{}),s[o].push(a),xe(n,!0)&&this.redraw(r)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,o=function(){i&&p(i,{left:e.plotLeft+Zt,top:e.plotTop+Zt,width:e.plotWidth+Zt,height:e.plotHeight+Zt})};i||(e.loadingDiv=i=f(Yt,{className:Gt+"loading"},be(r.style,{zIndex:10,display:Kt}),e.container),e.loadingSpan=f("span",null,r.labelStyle,i),pe(e,"redraw",o)),e.loadingSpan.innerHTML=t||n.lang.loading,e.loadingShown||(p(i,{opacity:0,display:""}),me(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&me(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:Kt})}}),this.loadingShown=!1}}),be(qe.prototype,{update:function(t,e,n,i){function r(){l.applyOptions(t),null===l.y&&u&&(l.graphic=u.destroy()),s(t)&&!a(t)&&(l.redraw=function(){u&&u.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=u.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),o=l.index,c.updateParallelArrays(l,o),p&&l.name&&(p[l.x]=l.name),d.data[o]=s(d.data[o])&&!a(d.data[o])?l.options:t,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===d.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(n)}var o,l=this,c=l.series,u=l.graphic,h=c.chart,d=c.options,p=c.xAxis&&c.xAxis.names;e=xe(e,!0),i===!1?r():l.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(le(this,this.series.data),t,e)}}),be(Ye.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this,c=l.options,u=l.data,h=l.graph,d=l.area,p=l.chart,f=l.xAxis&&l.xAxis.names,g=h&&h.shift||0,m=["graph","area"],v=c.data,y=l.xData;if(A(i,p),n){for(s=l.zones.length;s--;)m.push("zoneGraph"+s,"zoneArea"+s);ce(m,function(t){l[t]&&(l[t].shift=g+(c.step?2:1))})}if(d&&(d.isArea=!0),e=xe(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=y.length,l.requireSorting&&a<y[s-1])for(o=!0;s&&y[s-1]>a;)s--;l.updateParallelArrays(r,"splice",s,0,0),l.updateParallelArrays(r,s),f&&r.name&&(f[a]=r.name),v.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};A(n,a),e=xe(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var n=this,i=n.chart;ge(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),xe(t,!0)&&i.redraw(e)})},update:function(t,e){var n,r=this,o=this.chart,s=this.userOptions,a=this.type,l=se[a].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(c.length=0),ce(c,function(t){c[t]=r[t],delete r[t]}),t=i(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(n in l)this[n]=W;be(this,se[t.type||a].prototype),ce(c,function(t){r[t]=c[t]}),this.init(o,t),o.linkSeries(),xe(e,!0)&&o.redraw(!1)}}),be(Pe.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=i(this.userOptions,t),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=W,this.init(n,be(t,{events:W})),n.isDirtyBox=!0,xe(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),ce(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,xe(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var je=g(Ye);se.line=je,Ce.area=i(ke,{softThreshold:!1,threshold:0});var $e=g(Ye,{type:"area",singleStacks:!1,getStackPoints:function(){var t,e,n,i=this,r=[],o=[],s=this.xAxis,a=this.yAxis,l=a.stacks[this.stackKey],c={},u=this.points,h=i.index,d=a.series,p=d.length,f=xe(a.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<u.length;e++)c[u[e].x]=u[e];for(n in l)null!==l[n].total&&o.push(n);o.sort(function(t,e){return t-e}),t=de(d,function(){return this.visible}),ce(o,function(n,i){var u,d,g=0;if(c[n]&&!c[n].isNull)r.push(c[n]),ce([-1,1],function(r){var s=1===r?"rightNull":"leftNull",a=1===r?"rightCliff":"leftCliff",g=0,m=l[o[i+r]];if(m)for(e=h;e>=0&&e<p;)u=m.points[e],u||(e===h?c[n][s]=!0:t[e]&&(d=l[n].points[e],d&&(g-=d[1]-d[0]))),e+=f;c[n][a]=g});else{for(e=h;e>=0&&e<p;){if(u=l[n].points[e]){g=u[1];break}e+=f}g=a.toPixels(g,!0),r.push({isNull:!0,plotX:s.toPixels(n,!0),plotY:g,yBottom:g})}})}return r},getGraphPath:function(t){var e,n,i,r,o,s,a,l,c=Ye.prototype.getGraphPath,u=this.options,h=u.stacking,d=this.yAxis,p=[],f=[],g=this.index,m=d.stacks[this.stackKey],v=u.threshold,y=d.getThreshold(u.threshold),b=u.connectNulls||"percent"===h,w=function(e,n,i){var r,o,a=t[e],l=h&&m[a.x].points[g],c=a[i+"Null"]||0,u=a[i+"Cliff"]||0,b=!0;u||c?(r=(c?l[0]:l[1])+u,o=l[0]+u,b=!!c):!h&&t[n]&&t[n].isNull&&(r=o=v),void 0!==r&&(f.push({plotX:s,plotY:null===r?y:d.getThreshold(r),isNull:b}),p.push({plotX:s,plotY:null===o?y:d.getThreshold(o)}))};for(t=t||this.points,h&&(t=this.getStackPoints()),r=0;r<t.length;r++)a=t[r].isNull,s=xe(t[r].rectPlotX,t[r].plotX),l=xe(t[r].yBottom,y),a&&!b||(b||w(r,r-1,"left"),a&&!h&&b||(f.push(t[r]),p.push({x:r,plotX:s,plotY:l})),b||w(r,r+1,"right"));return n=c.call(this,f,!0,!0),p.reversed=!0,i=c.call(this,p,!0,!0),i.length&&(i[0]=Qt),o=n.concat(i),e=c.call(this,f,!1,b),this.areaPath=o,e},drawGraph:function(){this.areaPath=[],Ye.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=this.zones,r=[["area",this.color,n.fillColor]];ce(i,function(e,i){r.push(["zoneArea"+i,e.color||t.color,e.fillColor||n.fillColor])}),ce(r,function(i){var r,o=i[0],s=t[o];s?s.animate({d:e}):(r={fill:i[2]||i[1],zIndex:0},i[2]||(r["fill-opacity"]=xe(n.fillOpacity,.75)),t[o]=t.chart.renderer.path(e).attr(r).add(t.group))})},drawLegendSymbol:Be.drawRectangle});se.area=$e,Ce.spline=i(ke);var Ue=g(Ye,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a,l=1.5,c=l+1,u=e.plotX,h=e.plotY,d=t[n-1],p=t[n+1];if(d&&!d.isNull&&p&&!p.isNull){var f=d.plotX,g=d.plotY,m=p.plotX,v=p.plotY,y=0;i=(l*u+f)/c,r=(l*h+g)/c,o=(l*u+m)/c,s=(l*h+v)/c,o!==i&&(y=(s-r)*(o-u)/(o-i)+h-s),r+=y,s+=y,r>g&&r>h?(r=bt(g,h),s=2*h-r):r<g&&r<h&&(r=wt(g,h),s=2*h-r),s>v&&s>h?(s=bt(v,h),r=2*h-s):s<v&&s<h&&(s=wt(v,h),r=2*h-s),e.rightContX=o,e.rightContY=s}return a=["C",xe(d.rightContX,d.plotX),xe(d.rightContY,d.plotY),xe(i,u),xe(r,h),u,h],d.rightContX=d.rightContY=null,a}});se.spline=Ue,Ce.areaspline=i(Ce.area);var Ge=$e.prototype,Xe=g(Ue,{type:"areaspline",getStackPoints:Ge.getStackPoints,getGraphPath:Ge.getGraphPath,setStackCliffs:Ge.setStackCliffs,drawGraph:Ge.drawGraph,drawLegendSymbol:Be.drawRectangle});se.areaspline=Xe,Ce.column=i(ke,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});var Ze=g(Ye,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ye.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ce(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,i=e.xAxis,r=e.yAxis,o=i.reversed,s={},a=0;n.grouping===!1?a=1:ce(e.chart.series,function(n){var i,o=n.options,l=n.yAxis;n.type===e.type&&n.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(t=n.stackKey,s[t]===W&&(s[t]=a++),i=s[t]):o.grouping!==!1&&(i=a++),n.columnIndex=i)});var l=wt(xt(i.transA)*(i.ordinalSlope||n.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*n.groupPadding,u=l-2*c,h=u/a,d=wt(n.maxPointWidth||i.len,xe(n.pointWidth,h*(1-2*n.pointPadding))),p=(h-d)/2,f=(e.columnIndex||0)+(o?1:0),g=p+(c+f*h-l/2)*(o?-1:1);return e.columnMetrics={width:d,offset:g},e.columnMetrics},crispCol:function(t,e,n,i){var r,o,s,a=this.chart,l=this.borderWidth,c=-(l%2?.5:0),u=l%2?.5:1;return a.inverted&&a.renderer.isVML&&(u+=1),r=Math.round(t+n)+c,t=Math.round(t)+c,n=r-t,o=Math.round(e+i)+u,s=xt(e)<=.5&&o>.5,e=Math.round(e)+u,i=o-e,s&&i&&(e-=1,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.borderWidth=xe(n.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=n.threshold,s=t.translatedThreshold=r.getThreshold(o),a=xe(n.minPointLength,5),l=t.getColumnMetrics(),c=l.width,u=t.barW=bt(c,1+2*i),h=t.pointXOffset=l.offset;e.inverted&&(s-=.5),n.pointPadding&&(u=yt(u)),Ye.prototype.translate.apply(t),ce(t.points,function(n){var i,o=wt(xe(n.yBottom,s),9e4),l=999+xt(o),d=wt(bt(-l,n.plotY),r.len+l),p=n.plotX+h,f=u,g=wt(d,o),m=bt(d,o)-g;xt(m)<a&&a&&(m=a,i=!r.reversed&&!n.negative||r.reversed&&n.negative,g=xt(g-s)>a?o-a:s-(i?a:0)),n.barX=p,n.pointWidth=c,n.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-d,t.xAxis.len-p-f/2,m]:[p+f/2,d+r.pos-e.plotTop,m],n.shapeType="rect",n.shapeArgs=t.crispCol(p,g,f,m)})},getSymbol:Nt,drawLegendSymbol:Be.drawRectangle,drawGraph:Nt,drawPoints:function(){var t,e,n=this,r=this.chart,o=n.options,s=r.renderer,a=o.animationLimit||250;ce(n.points,function(l){var u,h=l.plotY,d=l.graphic;we(h)&&null!==l.y?(t=l.shapeArgs,u=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},e=l.pointAttr[l.selected?ie:ee]||n.pointAttr[ee],d?(ve(d),d.attr(u).attr(e)[r.pointCount<a?"animate":"attr"](i(t))):l.graphic=d=s[l.shapeType](t).attr(u).attr(e).add(l.group||n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):d&&(l.graphic=d.destroy())})},animate:function(t){var e,n=this,i=this.yAxis,r=n.options,o=this.chart.inverted,s={};Lt&&(t?(s.scaleY=.001,e=wt(i.pos+i.len,bt(i.pos,i.toPixels(r.threshold))),o?s.translateX=e-i.len:s.translateY=e,n.group.attr(s)):(s[o?"translateX":"translateY"]=i.pos,n.group.animate(s,be(E(n.options.animation),{step:function(t,e){n.group.attr({scaleY:bt(.001,e.pos)})}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ce(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ye.prototype.remove.apply(t,arguments)}});se.column=Ze,Ce.bar=i(Ce.column);var Ke=g(Ze,{type:"bar",inverted:!0});se.bar=Ke,Ce.scatter=i(ke,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Je=g(Ye,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Ye.prototype.drawGraph.call(this)}});se.scatter=Je,Ce.pie=i(ke,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Qe=g(qe,{init:function(){qe.prototype.init.apply(this,arguments);var t,e=this;return e.name=xe(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},pe(e,"select",t),pe(e,"unselect",t),e},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;e=xe(e,o),t!==n.visible&&(n.visible=n.options.visible=t=t===W?!n.visible:t,i.options.data[le(n,i.data)]=n.options,ce(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var i,r=this,o=r.series,s=o.chart;A(n,s),e=xe(e,!0),r.sliced=r.options.sliced=t=c(t)?t:!r.sliced,o.options.data[le(r,o.data)]=r.options,i=t?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)},haloPath:function(t){var e=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+e.x,n.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),tn={type:"pie",isCartesian:!1,pointClass:Qe,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(ce(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=n>0&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){Ye.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s,a,l=this,c=0,u=1e3,h=l.options,d=h.slicedOffset,p=d+h.borderWidth,f=h.startAngle||0,g=l.startAngleRad=kt/180*(f-90),m=l.endAngleRad=kt/180*(xe(h.endAngle,f+360)-90),v=m-g,y=l.points,b=h.dataLabels.distance,w=h.ignoreHiddenPoint,x=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,n){return i=gt.asin(wt((e-t[1])/(t[2]/2+b),1)),t[0]+(n?-1:1)*(_t(i)*(t[2]/2+b))},s=0;s<x;s++)a=y[s],e=g+c*v,w&&!a.visible||(c+=a.percentage/100),n=g+c*v,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:mt(e*u)/u,end:mt(n*u)/u},i=(n+e)/2,i>1.5*kt?i-=2*kt:i<-kt/2&&(i+=2*kt),a.slicedTranslation={translateX:mt(_t(i)*d),translateY:mt(Ct(i)*d)},r=_t(i)*t[2]/2,o=Ct(i)*t[2]/2,a.tooltipPos=[t[0]+.7*r,t[1]+.7*o],a.half=i<-kt/2||i>kt/2?1:0,a.angle=i,p=wt(p,b/2),a.labelPos=[t[0]+r+_t(i)*b,t[1]+o+Ct(i)*b,t[0]+r+_t(i)*p,t[1]+o+Ct(i)*p,t[0]+r,t[1]+o,b<0?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,r,o,s=this,a=s.chart,l=a.renderer,c=s.options.shadow;c&&!s.shadowGroup&&(s.shadowGroup=l.g("shadow").add(s.group)),ce(s.points,function(a){null!==a.y&&(e=a.graphic,r=a.shapeArgs,n=a.shadowGroup,i=a.pointAttr[a.selected?ie:ee],i.stroke||(i.stroke=i.fill),c&&!n&&(n=a.shadowGroup=l.g("shadow").add(s.shadowGroup)),t=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),e?e.setRadialReference(s.center).attr(i).animate(be(r,t)):(o={"stroke-linejoin":"round"},a.visible||(o.visibility="hidden"),a.graphic=e=l[a.shapeType](r).setRadialReference(s.center).attr(i).attr(o).attr(t).add(s.group).shadow(c,n)))})},searchPoint:Nt,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:Be.drawRectangle,getCenter:Ve.getCenter,getSymbol:Nt};tn=g(Ye,tn),se.pie=tn,Ye.prototype.drawDataLabels=function(){var t,e,n,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,u=o.points,h=o.hasRendered||0,d=xe(l.defer,!0),p=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",d&&!h?"hidden":"visible",l.zIndex||6),d&&(r.attr({opacity:+h}),h||pe(o,"afterAnimate",function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,ce(u,function(u){var h,d,f,g,m,v,y=u.dataLabel,b=u.connector,x=!0,_={};if(t=u.dlOptions||u.options&&u.options.dataLabels,h=xe(t&&t.enabled,e.enabled)&&null!==u.y,y&&!h)u.dataLabel=y.destroy();else if(h){if(l=i(e,t),v=l.style,m=l.rotation,d=u.getLabelConfig(),n=l.format?w(l.format,d):l.formatter.call(d,l),v.color=xe(l.color,v.color,o.color,"black"),y)c(n)?(y.attr({text:n}),x=!1):(u.dataLabel=y=y.destroy(),b&&(u.connector=b.destroy()));else if(c(n)){f={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:m,padding:l.padding,zIndex:1},"contrast"===v.color&&(_.color=l.inside||l.distance<0||s.stacking?p.getContrast(u.color||o.color):"#000000"),a&&(_.cursor=a);for(g in f)f[g]===W&&delete f[g];y=u.dataLabel=p[m?"text":"label"](n,0,-9999,l.shape,null,null,l.useHTML).attr(f).css(be(v,_)).add(r).shadow(l.shadow)}y&&o.alignDataLabel(u,y,l,null,x)}}))},Ye.prototype.alignDataLabel=function(t,e,n,i,r){var o,s,a,l,c=this.chart,u=c.inverted,h=xe(t.plotX,-9999),d=xe(t.plotY,-9999),p=e.getBBox(),f=c.renderer.fontMetrics(n.style.fontSize).b,g=n.rotation,m=n.align,v=this.visible&&(t.series.forceDL||c.isInsidePlot(h,mt(d),u)||i&&c.isInsidePlot(h,u?i.x+1:i.y+i.height-1,u)),y="justify"===xe(n.overflow,"justify");v&&(i=be({x:u?c.plotWidth-d:h,y:mt(u?c.plotHeight-h:d),width:0,height:0},i),be(n,{width:p.width,height:p.height}),g?(y=!1,a=c.renderer.rotCorr(f,g),l={x:i.x+n.x+i.width/2+a.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](l).attr({align:m}),o=(g+720)%360,s=o>180&&o<360,"left"===m?l.y-=s?p.height:0:"center"===m?(l.x-=p.width/2,l.y-=p.height/2):"right"===m&&(l.x-=p.width,l.y-=s?0:p.height)):(e.align(n,null,i),l=e.alignAttr),y?this.justifyDataLabel(e,n,l,p,i,r):xe(n.crop,!0)&&(v=c.isInsidePlot(l.x,l.y)&&c.isInsidePlot(l.x+p.width,l.y+p.height)),n.shape&&!g&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),v||(ve(e),e.attr({y:-9999}),e.placed=!1)},Ye.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;s=n.x+h,s<0&&("right"===c?e.align="left":e.x=-s,a=!0),s=n.x+i.width-h,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+h,s<0&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-h,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},se.pie&&(se.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this,f=p.data,g=p.chart,m=p.options.dataLabels,v=xe(m.connectorPadding,10),y=xe(m.connectorWidth,1),b=g.plotWidth,w=g.plotHeight,x=xe(m.softConnector,!0),_=m.distance,C=p.center,k=C[2]/2,T=C[1],M=_>0,D=[[],[]],A=[0,0,0,0],E=function(t,e){return e.y-t.y};if(p.visible&&(m.enabled||p._hasPointLabels)){for(Ye.prototype.drawDataLabels.apply(p),ce(f,function(t){t.dataLabel&&t.visible&&(D[t.half].push(t),t.dataLabel._pos=null)}),h=2;h--;){var P,I,O,L,R=[],H=[],z=D[h],F=z.length;if(F){for(p.sortByAngle(z,h-.5),d=s=0;!s&&z[d];)s=z[d]&&z[d].dataLabel&&(z[d].dataLabel.getBBox().height||21),d++;if(_>0){for(O=wt(T+k+_,g.plotHeight),I=bt(0,T-k-_);I<=O;I+=s)R.push(I);if(P=R.length,F>P){for(u=[].concat(z),u.sort(E),d=F;d--;)u[d].rank=d;for(d=F;d--;)z[d].rank>=P&&z.splice(d,1);F=z.length}for(d=0;d<F;d++){t=z[d],o=t.labelPos;var N,B,W=9999;for(B=0;B<P;B++)N=xt(R[B]-o[1]),N<W&&(W=N,L=B);if(L<d&&null!==R[d])L=d;else if(P<F-d+L&&null!==R[d])for(L=P-F+d;null===R[L];)L++;else for(;null===R[L];)L++;H.push({i:L,y:R[L]}),R[L]=null}H.sort(E)}for(d=0;d<F;d++){var V,q;t=z[d],o=t.labelPos,i=t.dataLabel,c=t.visible===!1?Ut:"inherit",q=o[1],_>0?(V=H.pop(),L=V.i,l=V.y,(q>l&&null!==R[L+1]||q<l&&null!==R[L-1])&&(l=wt(bt(0,q),g.plotHeight))):l=q,a=m.justify?C[0]+(h?-1:1)*(k+_):p.getX(l===T-k-_||l===T+k+_?q:l,h),i._attr={visibility:c,align:o[6]},i._pos={x:a+m.x+({left:v,right:-v}[o[6]]||0),y:l+m.y-10},i.connX=a,i.connY=l,null===this.options.size&&(r=i.width,a-r<v?A[3]=bt(mt(r-a+v),A[3]):a+r>b-v&&(A[1]=bt(mt(a+r-b+v),A[1])),l-s/2<0?A[0]=bt(mt(-l+s/2),A[0]):l+s/2>w&&(A[2]=bt(mt(l+s/2-w),A[2])))}}}(0===S(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),M&&y&&ce(this.points,function(t){e=t.connector,o=t.labelPos,i=t.dataLabel,i&&i._pos&&t.visible?(c=i._attr.visibility,a=i.connX,l=i.connY,n=x?[Jt,a+("left"===o[6]?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Qt,o[4],o[5]]:[Jt,a+("left"===o[6]?5:-5),l,Qt,o[2],o[3],Qt,o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(n).attr({"stroke-width":y,stroke:m.connectorColor||t.color||"#606060",visibility:c}).add(p.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},se.pie.prototype.placeDataLabels=function(){ce(this.points,function(t){var e,n=t.dataLabel;n&&t.visible&&(e=n._pos,e?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999}))})},se.pie.prototype.alignDataLabel=Nt,se.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=o;return null!==r[0]?s=bt(n[2]-bt(t[1],t[3]),o):(s=bt(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?s=bt(wt(s,n[2]-bt(t[0],t[2])),o):(s=bt(wt(s,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),s<n[2]?(n[2]=s,n[3]=Math.min(v(i.innerSize||0,s),s),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),se.column&&(se.column.prototype.alignDataLabel=function(t,e,n,r,o){var s,a=this.chart.inverted,l=t.series,c=t.dlBox||t.shapeArgs,u=xe(t.below,t.plotY>xe(this.translatedThreshold,l.yAxis.len)),h=xe(n.inside,!!this.options.stacking);c&&(r=i(c),r.y<0&&(r.height+=r.y,r.y=0),s=r.y+r.height-l.yAxis.len,s>0&&(r.height-=s),a&&(r={x:l.yAxis.len-r.y-r.height,y:l.xAxis.len-r.x-r.width,width:r.height,height:r.width}),h||(a?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),n.align=xe(n.align,!a||h?"center":u?"right":"left"),n.verticalAlign=xe(n.verticalAlign,a||h?"middle":u?"top":"bottom"),Ye.prototype.alignDataLabel.call(this,t,e,n,r,o)}),function(t){var e=t.Chart,n=t.each,i=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(o,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l,c,u,h,d,p=t.length,f=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(i=0;i<p;i++)e=t[i],e&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<p;i++)for(o=t[i],r=i+1;r<p;++r)s=t[r],o&&s&&o.placed&&s.placed&&0!==o.newOpacity&&0!==s.newOpacity&&(l=o.alignAttr,c=s.alignAttr,u=o.parentGroup,h=s.parentGroup,d=2*(o.box?0:o.padding),a=f(l.x+u.translateX,l.y+u.translateY,o.width-d,o.height-d,c.x+h.translateX,c.y+h.translateY,s.width-d,s.height-d),a&&((o.labelrank<s.labelrank?o:s).newOpacity=0));n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(pt);var en=pt.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},o=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;n!==W&&n!==e.hoverPoint&&n.onMouseOver(t)};ce(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ce(t.trackerGroups,function(e){t[e]&&(t[e].addClass(Gt+"tracker").on("mouseover",o).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),q&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=e.tracker,h=n.cursor,d=h&&{cursor:h},p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(Lt?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)r[t]===Jt&&r.splice(t+1,0,r[t+1]-c,r[t+2],Qt),(t&&r[t]===Jt||t===o)&&r.splice(t,0,Qt,r[t-2]+c,r[t-1]);u?u.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?Xt:Ut,stroke:f,fill:i?f:Kt,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).add(e.group),ce([e.tracker,e.markerGroup],function(t){t.addClass(Gt+"tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),q&&t.on("touchstart",p)}))}};se.column&&(Ze.prototype.drawTracker=en.drawTrackerPoint),se.pie&&(se.pie.prototype.drawTracker=en.drawTrackerPoint),se.scatter&&(Je.prototype.drawTracker=en.drawTrackerPoint),be(Ne.prototype,{setItemEvents:function(t,e,n,i,r){var o=this;(n?e:t.legendGroup).on("mouseover",function(){t.setState(ne),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i:r),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):ge(t,n,e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),pe(t.checkbox,"click",function(e){var n=e.target;ge(t.series||t,"checkboxClick",{checked:n.checked,item:t},function(){t.select()})})}}),j.legend.itemStyle.cursor="pointer",be(We.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=j.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;ge(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,o=!1;!t||t.resetSelection?ce(i.axes,function(t){e=t.zoom()}):ce(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(o=!0))}),n=i.resetZoomButton,o&&!n?i.showResetZoom():!o&&s(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(xe(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&ce(r,function(t){t.setState()}),ce("xy"===e?[1,0]:[1],function(e){var r=i[e?"xAxis":"yAxis"][0],o=r.horiz,s=t[o?"chartX":"chartY"],a=o?"mouseDownX":"mouseDownY",l=i[a],c=(r.pointRange||0)/2,u=r.getExtremes(),h=r.toValue(l-s,!0)+c,d=r.toValue(l+r.len-s,!0)-c,p=l>s;
r.series.length&&(p||h>wt(u.dataMin,u.min))&&(!p||d<bt(u.dataMax,u.max))&&(r.setExtremes(h,d,!1,!1,{trigger:"pan"}),n=!0),i[a]=s}),n&&i.redraw(!1),p(i.container,{cursor:"move"})}}),be(qe.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=xe(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[le(n,i.data)]=n.options,n.setState(t&&ie),e||ce(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[le(t,i.data)]=t.options,t.setState(ee),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this,i=n.series,r=i.chart,o=r.tooltip,s=r.hoverPoint;r.hoverSeries!==i&&i.onMouseOver(),s&&s!==n&&s.onMouseOut(),n.series&&(n.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(n,t),n.setState(ne),e||(r.hoverPoint=n))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&le(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,n=i(e.series.options.point,e.options),r=n.events;e.events=r;for(t in r)pe(e,t,r[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,r,o,s,a=this,l=vt(a.plotX),c=a.plotY,u=a.series,h=u.options.states,d=Ce[u.type].marker&&u.options.marker,p=d&&!d.enabled,f=d&&d.states[t],g=f&&f.enabled===!1,m=u.stateMarkerGraphic,v=a.marker||{},y=u.chart,b=u.halo;t=t||ee,s=a.pointAttr[t]||u.pointAttr[t],t===a.state&&!e||a.selected&&t!==ie||h[t]&&h[t].enabled===!1||t&&(g||p&&f.enabled===!1)||t&&v.states&&v.states[t]&&v.states[t].enabled===!1||(a.graphic?(n=d&&a.graphic.symbolName&&s.r,a.graphic.attr(i(s,n?{x:l-n,y:c-n,width:2*n,height:2*n}:{})),m&&m.hide()):(t&&f&&(n=f.radius,o=v.symbol||u.symbol,m&&m.currentSymbol!==o&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:l-n,y:c-n}):o&&(u.stateMarkerGraphic=m=y.renderer.symbol(o,l-n,c-n,2*n,2*n).attr(s).add(u.markerGroup),m.currentSymbol=o)),m&&(m[t&&y.isInsidePlot(l,c,y.inverted)?"show":"hide"](),m.element.point=a)),r=h[t]&&h[t].halo,r&&r.size?(b||(u.halo=b=y.renderer.path().add(y.seriesGroup)),b.attr(be({fill:a.color||u.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))[e?"animate":"attr"]({d:a.haloPath(r.size)})):b&&b.attr({d:[]}),a.state=t)},haloPath:function(t){var e=this.series,n=e.chart,i=e.getPlotBox(),r=n.inverted,o=Math.floor(this.plotX);return n.renderer.symbols.circle(i.translateX+(r?e.yAxis.len-this.plotY:o)-t,i.translateY+(r?e.xAxis.len-o:this.plotY)-t,2*t,2*t)}}),be(Ye.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&ge(t,"mouseOver"),t.setState(ne),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;n.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&ge(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState()},setState:function(t){var e,n=this,i=n.options,r=n.graph,o=i.states,s=i.lineWidth,a=0;if(t=t||ee,n.state!==t){if(n.state=t,o[t]&&o[t].enabled===!1)return;if(t&&(s=o[t].lineWidth||s+(o[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":s},r.attr(e);n["zoneGraph"+a];)n["zoneGraph"+a].attr(e),a+=1}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;i.visible=t=i.userOptions.visible=t===W?!a:t,n=t?"show":"hide",ce(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&ce(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ce(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),ge(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===W?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),ge(e,t?"select":"unselect")},drawTracker:en.drawTrackerGraph}),_e(Ye.prototype,"init",function(t){var e,n=this;t.apply(this,Array.prototype.slice.call(arguments,1)),e=n.xAxis,e&&e.options.ordinal&&pe(n,"updatedData",function(){delete e.ordinalIndex})}),_e(Pe.prototype,"getTimeTicks",function(t,e,n,i,r,o,s,a){var l,u,h,d,p,f,g=0,m={},v=[],y=-Number.MAX_VALUE,b=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!o||o.length<3||n===W)return t.call(this,e,n,i,r);for(p=o.length,l=0;l<p;l++){if(f=l&&o[l-1]>i,o[l]<n&&(g=l),l===p-1||o[l+1]-o[l]>5*s||f){if(o[l]>y){for(u=t.call(this,e,o[g],o[l],r);u.length&&u[0]<=y;)u.shift();u.length&&(y=u[u.length-1]),v=v.concat(u)}g=l+1}if(f)break}if(d=u.info,a&&d.unitRange<=G.hour){for(l=v.length-1,g=1;g<l;g++)$("%d",v[g])!==$("%d",v[g-1])&&(m[v[g]]="day",h=!0);h&&(m[v[0]]="day"),d.higherRanks=m}if(v.info=d,a&&c(b)){for(var w,x,_,C,k,S=v.length,T=S,M=[],D=[];T--;)x=this.translate(v[T]),_&&(D[T]=_-x),M[T]=_=x;for(D.sort(),C=D[vt(D.length/2)],C<.6*b&&(C=null),T=v[S-1]>i?S-1:S,_=void 0;T--;)x=M[T],k=_-x,_&&k<.8*b&&(null===C||k<.8*C)?(m[v[T]]&&!m[v[T+1]]?(w=T+1,_=x):w=T,v.splice(w,1)):_=x}return v}),be(Pe.prototype,{beforeSetTickPositions:function(){var t,e,n,i,r,o,s=this,a=[],l=!1,c=s.getExtremes(),u=c.min,h=c.max,d=s.isXAxis&&!!s.options.breaks,p=s.options.ordinal;if(p||d){if(ce(s.series,function(e,n){if(e.visible!==!1&&(e.takeOrdinalPosition!==!1||d)&&(a=a.concat(e.processedXData),t=a.length,a.sort(function(t,e){return t-e}),t))for(n=t-1;n--;)a[n]===a[n+1]&&a.splice(n,1)}),t=a.length,t>2){for(e=a[1]-a[0],o=t-1;o--&&!l;)a[o+1]-a[o]!==e&&(l=!0);!s.options.keepOrdinalPadding&&(a[0]-u>e||h-a[a.length-1]>e)&&(l=!0)}l?(s.ordinalPositions=a,n=s.val2lin(bt(u,a[0]),!0),i=bt(s.val2lin(wt(h,a[a.length-1]),!0),1),s.ordinalSlope=r=(h-u)/(i-n),s.ordinalOffset=u-n*r):s.ordinalPositions=s.ordinalSlope=s.ordinalOffset=W}s.isOrdinal=p&&l,s.groupIntervalFactor=null},val2lin:function(t,e){var n,i=this,r=i.ordinalPositions;if(r){var o,s,a,l=r.length;for(o=l;o--;)if(r[o]===t){a=o;break}for(o=l-1;o--;)if(t>r[o]||0===o){s=(t-r[o])/(r[o+1]-r[o]),a=o+s;break}n=e?a:i.ordinalSlope*(a||0)+i.ordinalOffset}else n=t;return n},lin2val:function(t,e){var n,i=this,r=i.ordinalPositions;if(r){var o,s,a,l=i.ordinalSlope,c=i.ordinalOffset,u=r.length-1;if(e)t<0?t=r[0]:t>u?t=r[u]:(u=vt(t),a=t-u);else for(;u--;)if(o=l*u+c,t>=o){s=l*(u+1)+c,a=(t-o)/(s-o);break}n=a!==W&&r[u]!==W?r[u]+(a?a*(r[u+1]-r[u]):0):t}else n=t;return n},getExtendedPositions:function(){var t,e,n=this,i=n.chart,r=n.series[0].currentDataGrouping,o=n.ordinalIndex,s=r?r.count+r.unitName:"raw",a=n.getExtremes();return o||(o=n.ordinalIndex={}),o[s]||(t={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:Pe.prototype.val2lin},ce(n.series,function(n){e={xAxis:t,xData:n.xData,chart:i,destroyGroupedData:Nt},e.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},n.processData.apply(e),t.series.push(e)}),n.beforeSetTickPositions.apply(t),o[s]=t.ordinalPositions),o[s]},getGroupIntervalFactor:function(t,e,n){var i,r,o=n.processedXData,s=o.length,a=[],l=this.groupIntervalFactor;if(!l){for(i=0;i<s-1;i++)a[i]=o[i+1]-o[i];a.sort(function(t,e){return t-e}),r=a[vt(s/2)],t=bt(t,o[0]),e=wt(e,o[s-1]),this.groupIntervalFactor=l=s*r/(e-t)}return l},postProcessTickInterval:function(t){var e,n=this.ordinalSlope;return e=n?this.options.breaks?this.closestPointRange:t/(n/this.closestPointRange):t}}),_e(We.prototype,"pan",function(t,e){var n=this,i=n.xAxis[0],r=e.chartX,o=!1;if(i.options.ordinal&&i.series.length){var s,a,l,c,u=n.mouseDownX,h=i.getExtremes(),d=h.dataMax,f=h.min,g=h.max,m=n.hoverPoints,v=i.closestPointRange,y=i.translationSlope*(i.ordinalSlope||v),b=(u-r)/y,w={ordinalPositions:i.getExtendedPositions()},x=i.lin2val,_=i.val2lin;w.ordinalPositions?xt(b)>1&&(m&&ce(m,function(t){t.setState()}),b<0?(l=w,c=i.ordinalPositions?i:w):(l=i.ordinalPositions?i:w,c=w),a=c.ordinalPositions,d>a[a.length-1]&&a.push(d),n.fixedRange=g-f,s=i.toFixedRange(null,null,x.apply(l,[_.apply(l,[f,!0])+b,!0]),x.apply(c,[_.apply(c,[g,!0])+b,!0])),s.min>=wt(h.dataMin,f)&&s.max<=bt(d,g)&&i.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),n.mouseDownX=r,p(n.container,{cursor:"move"})):o=!0}else o=!0;o&&t.apply(this,Array.prototype.slice.call(arguments,1))}),Ye.prototype.gappedPath=function(){var t=this.options.gapSize,e=this.points.slice(),n=e.length-1;if(t&&n>0)for(;n--;)e[n+1].x-e[n].x>this.closestPointRange*t&&e.splice(n+1,0,{isNull:!0});return this.getGraphPath(e)},function(t){t(pt)}(function(t){"use strict";function e(){return Array.prototype.slice.call(arguments,1)}function n(t){t.apply(this),this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,i(this.pointArrayMap,["y"]))}var i=t.pick,r=t.wrap,o=t.each,s=t.extend,a=t.fireEvent,l=t.Axis,c=t.Series;s(l.prototype,{isInBreak:function(t,e){var n,i=t.repeat||1/0,r=t.from,o=t.to-t.from,s=e>=r?(e-r)%i:i-(r-e)%i;return n=t.inclusive?s<=o:s<o&&0!==s},isInAnyBreak:function(t,e){var n,r,o,s=this.options.breaks,a=s&&s.length;if(a){for(;a--;)this.isInBreak(s[a],t)&&(n=!0,r||(r=i(s[a].showPoints,!this.isXAxis)));o=n&&e?n&&!r:n}return o}}),r(l.prototype,"setTickPositions",function(t){if(t.apply(this,Array.prototype.slice.call(arguments,1)),this.options.breaks){var e,n=this,i=this.tickPositions,r=this.tickPositions.info,o=[];for(e=0;e<i.length;e++)n.isInAnyBreak(i[e])||o.push(i[e]);this.tickPositions=o,this.tickPositions.info=r}}),r(l.prototype,"init",function(t,e,n){if(n.breaks&&n.breaks.length&&(n.ordinal=!1),t.call(this,e,n),this.options.breaks){var i=this;i.isBroken=!0,this.val2lin=function(t){var e,n,r=t;for(n=0;n<i.breakArray.length;n++)if(e=i.breakArray[n],e.to<=t)r-=e.len;else{if(e.from>=t)break;if(i.isInBreak(e,t)){r-=t-e.from;break}}return r},this.lin2val=function(t){var e,n,r=t;for(n=0;n<i.breakArray.length&&(e=i.breakArray[n],!(e.from>=r));n++)e.to<r?r+=e.len:i.isInBreak(e,r)&&(r+=e.len);return r},this.setExtremes=function(t,e,n,i,r){for(;this.isInAnyBreak(t);)t-=this.closestPointRange;for(;this.isInAnyBreak(e);)e-=this.closestPointRange;l.prototype.setExtremes.call(this,t,e,n,i,r)},this.setAxisTranslation=function(t){l.prototype.setAxisTranslation.call(this,t);var e,n,r,o,s,c,u=i.options.breaks,h=[],d=[],p=0,f=i.userMin||i.min,g=i.userMax||i.max;for(s in u)r=u[s],n=r.repeat||1/0,i.isInBreak(r,f)&&(f+=r.to%n-f%n),i.isInBreak(r,g)&&(g-=g%n-r.from%n);for(s in u){for(r=u[s],o=r.from,n=r.repeat||1/0;o-n>f;)o-=n;for(;o<f;)o+=n;for(c=o;c<g;c+=n)h.push({value:c,move:"in"}),h.push({value:c+(r.to-r.from),move:"out",size:r.breakSize})}h.sort(function(t,e){var n;return n=t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,o=f;for(s in h)r=h[s],e+="in"===r.move?1:-1,1===e&&"in"===r.move&&(o=r.value),0===e&&(d.push({from:o,to:r.value,len:r.value-o-(r.size||0)}),p+=r.value-o-(r.size||0));i.breakArray=d,a(i,"afterBreaks"),i.transA*=(g-i.min)/(g-f-p),i.min=f,i.max=g}}}),r(c.prototype,"generatePoints",function(t){t.apply(this,e(arguments));var n,i,r=this,o=r.xAxis,s=r.yAxis,a=r.points,l=a.length,c=r.options.connectNulls;if(o&&s&&(o.options.breaks||s.options.breaks))for(;l--;)n=a[l],i=null===n.y&&c===!1,i||!o.isInAnyBreak(n.x,!0)&&!s.isInAnyBreak(n.y,!0)||(a.splice(l,1),this.data[l]&&this.data[l].destroyElements())}),t.Series.prototype.drawBreaks=function(t,e){var n,r,s,l,c=this,u=c.points;o(e,function(e){n=t.breakArray||[],r=t.isXAxis?t.min:i(c.options.threshold,t.min),o(u,function(c){l=i(c["stack"+e.toUpperCase()],c[e]),o(n,function(e){s=!1,r<e.from&&l>e.to||r>e.from&&l<e.from?s="pointBreak":(r<e.from&&l>e.from&&l<e.to||r>e.from&&l>e.to&&l<e.from)&&(s="pointInBreak"),s&&a(t,s,{point:c,brk:e})})})})},r(t.seriesTypes.column.prototype,"drawPoints",n),r(t.Series.prototype,"drawPoints",n)});var nn="dataGrouping",rn=Ye.prototype,on=rn.processData,sn=rn.generatePoints,an=rn.destroy,ln={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cn={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},un=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],hn={sum:function(t){var e,n=t.length;if(!n&&t.hasNulls)e=null;else if(n)for(e=0;n--;)e+=t[n];return e},average:function(t){var e=t.length,n=hn.sum(t);return we(n)&&e&&(n/=e),n},open:function(t){return t.length?t[0]:t.hasNulls?null:W},high:function(t){return t.length?S(t):t.hasNulls?null:W},low:function(t){return t.length?k(t):t.hasNulls?null:W},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:W},ohlc:function(t,e,n,i){if(t=hn.open(t),e=hn.high(e),n=hn.low(n),i=hn.close(i),we(t)||we(e)||we(n)||we(i))return[t,e,n,i]},range:function(t,e){if(t=hn.low(t),e=hn.high(e),we(t)||we(e))return[t,e]}};rn.groupData=function(t,e,n,i){var r,o,s,a,l=this,c=l.data,u=l.options.data,h=[],d=[],p=[],f=t.length,g=!!e,m=[[],[],[],[]],v="function"==typeof i?i:hn[i],y=l.pointArrayMap,b=y&&y.length,w=0;for(a=0;a<=f&&!(t[a]>=n[0]);a++);for(a;a<=f;a++){for(;(n[1]!==W&&t[a]>=n[1]||a===f)&&(r=n.shift(),s=v.apply(0,m),s!==W&&(h.push(r),d.push(s),p.push({start:w,length:m[0].length})),w=a,m[0]=[],m[1]=[],m[2]=[],m[3]=[],a!==f););if(a===f)break;if(y){var x,_,C=l.cropStart+a,k=c&&c[C]||l.pointClass.prototype.applyOptions.apply({series:l},[u[C]]);for(x=0;x<b;x++)_=k[y[x]],we(_)?m[x].push(_):null===_&&(m[x].hasNulls=!0)}else o=g?e[a]:null,we(o)?m[0].push(o):null===o&&(m[0].hasNulls=!0)}return[h,d,p]},rn.processData=function(){var t,e,n=this,i=n.chart,r=n.options,o=r[nn],s=n.allowDG!==!1&&o&&xe(o.enabled,i.options._stock);if(n.forceCrop=s,n.groupPixelWidth=null,n.hasProcessed=!0,e=on.apply(n,arguments)===!1||!s,!e){n.destroyGroupedData();var a,l=n.processedXData,u=n.processedYData,h=i.plotSizeX,d=n.xAxis,p=d.options.ordinal,f=n.groupPixelWidth=d.getGroupPixelWidth&&d.getGroupPixelWidth();if(f){t=!0,n.points=null;var g=d.getExtremes(),m=g.min,v=g.max,y=p&&d.getGroupIntervalFactor(m,v,n)||1,b=f*(v-m)/h*y,w=d.getTimeTicks(d.normalizeTimeTickInterval(b,o.units||un),Math.min(m,l[0]),Math.max(v,l[l.length-1]),d.options.startOfWeek,l,n.closestPointRange),x=rn.groupData.apply(n,[l,u,w,o.approximation]),_=x[0],C=x[1];if(o.smoothed){for(a=_.length-1,_[a]=Math.min(_[a],v);a--&&a>0;)_[a]+=b/2;_[0]=Math.max(_[0],m)}n.currentDataGrouping=w.info,n.closestPointRange=w.info.totalRange,n.groupMap=x[2],c(_[0])&&_[0]<d.dataMin&&(d.min===d.dataMin&&(d.min=_[0]),d.dataMin=_[0]),n.processedXData=_,n.processedYData=C}else n.currentDataGrouping=n.groupMap=null;n.hasGroupedData=t}},rn.destroyGroupedData=function(){var t=this.groupedData;ce(t||[],function(e,n){e&&(t[n]=e.destroy?e.destroy():null)}),this.groupedData=null},rn.generatePoints=function(){sn.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},_e(Ie.prototype,"tooltipFooterHeaderFormatter",function(t,e,n){var i,r,o,s,a,l=this,c=e.series,u=c.options,h=c.tooltipOptions,d=u.dataGrouping,p=h.xDateFormat,f=c.xAxis;return f&&"datetime"===f.options.type&&d&&we(e.key)?(r=c.currentDataGrouping,o=d.dateTimeLabelFormats,r?(s=o[r.unitName],1===r.count?p=s[0]:(p=s[1],i=s[2])):!p&&o&&(p=l.getXDateFormat(e,h,f)),a=$(p,e.key),i&&(a+=$(i,e.key+r.totalRange-1)),w(h[(n?"footer":"header")+"Format"],{point:be(e,{key:a}),series:c})):t.call(l,e,n)}),rn.destroy=function(){for(var t=this,e=t.groupedData||[],n=e.length;n--;)e[n]&&e[n].destroy();an.apply(t)},_e(rn,"setOptions",function(t,e){var n=t.call(this,e),r=this.type,o=this.chart.options.plotOptions,s=Ce[r].dataGrouping;return cn[r]&&(s||(s=i(ln,cn[r])),n.dataGrouping=i(s,o.series&&o.series.dataGrouping,o[r].dataGrouping,e.dataGrouping)),this.chart.options._stock&&(this.requireSorting=!0),n}),_e(Pe.prototype,"setScale",function(t){t.call(this),ce(this.series,function(t){t.hasProcessed=!1})}),Pe.prototype.getGroupPixelWidth=function(){var t,e,n,i=this.series,r=i.length,o=0,s=!1;for(t=r;t--;)n=i[t].options.dataGrouping,n&&(o=bt(o,n.groupPixelWidth));for(t=r;t--;)n=i[t].options.dataGrouping,n&&i[t].hasProcessed&&(e=(i[t].processedXData||i[t].data).length,(i[t].groupPixelWidth||e>this.chart.plotSizeX/o||e&&n.forced)&&(s=!0));return s?o:0},Pe.prototype.setDataGrouping=function(t,e){var n;if(e=xe(e,!0),t||(t={forced:!1,units:null}),this instanceof Pe)for(n=this.series.length;n--;)this.series[n].update({dataGrouping:t},!1);else ce(this.chart.options.series,function(e){e.dataGrouping=t},!1);e&&this.chart.redraw()},Ce.ohlc=i(Ce.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var dn=g(se.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){se.column.prototype.getAttribs.apply(this,arguments);var t=this,e=t.options,n=e.states,r=e.upColor||t.color,o=i(t.pointAttr),s=t.upColorProp;o[""][s]=r,o.hover[s]=n.hover.upColor||r,o.select[s]=n.select.upColor||r,ce(t.points,function(t){t.open<t.close&&!t.options.color&&(t.pointAttr=o)})},translate:function(){var t=this,e=t.yAxis;se.column.prototype.translate.apply(t),ce(t.points,function(t){null!==t.open&&(t.plotOpen=e.translate(t.open,0,1,0,1)),null!==t.close&&(t.plotClose=e.translate(t.close,0,1,0,1))})},drawPoints:function(){var t,e,n,i,r,o,s,a,l=this,c=l.points,u=l.chart;ce(c,function(c){c.plotY!==W&&(s=c.graphic,t=c.pointAttr[c.selected?"selected":""]||l.pointAttr[ee],i=t["stroke-width"]%2/2,a=mt(c.plotX)-i,r=mt(c.shapeArgs.width/2),o=["M",a,mt(c.yBottom),"L",a,mt(c.plotY)],null!==c.open&&(e=mt(c.plotOpen)+i,o.push("M",a,e,"L",a-r,e)),null!==c.close&&(n=mt(c.plotClose)+i,o.push("M",a,n,"L",a+r,n)),s?s.attr(t).animate({d:o}):c.graphic=u.renderer.path(o).attr(t).add(l.group))})},animate:null});se.ohlc=dn,Ce.candlestick=i(Ce.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:Ce.ohlc.tooltip,threshold:null,upColor:"white"});var pn=g(dn,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){se.ohlc.prototype.getAttribs.apply(this,arguments);var t=this,e=t.options,n=e.states,r=e.upLineColor||e.lineColor,o=n.hover.upLineColor||r,s=n.select.upLineColor||r;ce(t.points,function(t){t.open<t.close&&(t.lineColor&&(t.pointAttr=i(t.pointAttr),r=t.lineColor),t.pointAttr[""].stroke=r,t.pointAttr.hover.stroke=o,t.pointAttr.select.stroke=s)})},drawPoints:function(){var t,e,n,i,r,o,s,a,l,c,u,h,d=this,p=d.points,f=d.chart,g=d.pointAttr[""];ce(p,function(p){c=p.graphic,p.plotY!==W&&(t=p.pointAttr[p.selected?"selected":""]||g,a=t["stroke-width"]%2/2,l=mt(p.plotX)-a,e=p.plotOpen,n=p.plotClose,i=gt.min(e,n),r=gt.max(e,n),h=mt(p.shapeArgs.width/2),o=mt(i)!==mt(p.plotY),s=r!==p.yBottom,i=mt(i)+a,r=mt(r)+a,u=[],u.push("M",l-h,r,"L",l-h,i,"L",l+h,i,"L",l+h,r,"Z","M",l,i,"L",l,o?mt(p.plotY):i,"M",l,r,"L",l,s?mt(p.yBottom):r),c?c.attr(t).animate({d:u}):p.graphic=f.renderer.path(u).attr(t).add(d.group).shadow(d.options.shadow))})}});se.candlestick=pn;var fn=Se.prototype.symbols;Ce.flags=i(Ce.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30}),se.flags=g(se.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:Ye.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){se.column.prototype.translate.apply(this);var t,e,n,i,r,o,s=this,a=s.options,l=s.chart,c=s.points,u=c.length-1,h=a.onSeries,d=h&&l.get(h),p=a.onKey||"y",f=d&&d.options.step,g=d&&d.points,m=g&&g.length,v=s.xAxis,y=v.getExtremes();if(d&&d.visible&&m)for(o=d.currentDataGrouping,i=g[m-1].x+(o?o.totalRange:0),c.sort(function(t,e){return t.x-e.x}),p="plot"+p[0].toUpperCase()+p.substr(1);m--&&c[u]&&(t=c[u],n=g[m],!(n.x<=t.x&&void 0!==n[p]&&(t.x<=i&&(t.plotY=n[p],n.x<t.x&&!f&&(r=g[m+1],r&&r[p]!==W&&(t.plotY+=(t.x-n.x)/(r.x-n.x)*(r[p]-n[p])))),u--,m++,u<0))););ce(c,function(t,n){var i;t.plotY===W&&(t.x>=y.min&&t.x<=y.max?t.plotY=l.chartHeight-v.bottom-(v.opposite?v.height:0)+v.offset-l.plotTop:t.shapeArgs={}),e=c[n-1],e&&e.plotX===t.plotX&&(e.stackIndex===W&&(e.stackIndex=0),i=e.stackIndex+1),t.stackIndex=i})},drawPoints:function(){var t,e,n,r,o,s,a,l,c,u,h,d=this,p=d.pointAttr[""],f=d.points,g=d.chart,m=g.renderer,v=d.options,y=v.y,b=d.yAxis;for(o=f.length;o--;)s=f[o],h=s.plotX>d.xAxis.len,e=s.plotX,e>0&&(e-=xe(s.lineWidth,v.lineWidth)%2),l=s.stackIndex,r=s.options.shape||v.shape,n=s.plotY,n!==W&&(n=s.plotY+y-(l!==W&&l*v.stackDistance)),c=l?W:s.plotX,u=l?W:s.plotY,a=s.graphic,n!==W&&e>=0&&!h?(t=s.pointAttr[s.selected?"select":""]||p,a?a.attr({x:e,y:n,r:t.r,anchorX:c,anchorY:u}):a=s.graphic=m.label(s.options.title||v.title||"A",e,n,r,c,u,v.useHTML).css(i(v.style,s.style)).attr(t).attr({align:"flag"===r?"left":"center",width:v.width,height:v.height}).add(d.markerGroup).shadow(v.shadow),s.tooltipPos=g.inverted?[b.len+b.pos-g.plotLeft-n,d.xAxis.len-e]:[e,n]):a&&(s.graphic=a.destroy())},drawTracker:function(){var t=this,e=t.points;en.drawTrackerPoint.apply(this),ce(e,function(t){var n=t.graphic;n&&pe(n.element,"mouseover",function(){t.stackIndex>0&&!t.raised&&(t._y=n.y,n.attr({y:t._y-8}),t.raised=!0),ce(e,function(e){e!==t&&e.raised&&e.graphic&&(e.graphic.attr({y:e._y}),e.raised=!1)})})})},animate:Nt,buildKDTree:Nt,setClip:Nt}),fn.flag=function(t,e,n,i,r){var o=r&&r.anchorX||t,s=r&&r.anchorY||e;return["M",o,s,"L",t,e+i,t,e,t+n,e,t+n,e+i,t,e+i,"Z"]},ce(["circle","square"],function(t){fn[t+"pin"]=function(e,n,i,r,o){var s,a,l=o&&o.anchorX,c=o&&o.anchorY;return"circle"===t&&r>i&&(e-=mt((r-i)/2),i=r),s=fn[t](e,n,i,r),l&&c&&(a=n>c?n:n+r,s.push("M",l,a,"L",l,c)),s}}),V===pt.VMLRenderer&&ce(["flag","circlepin","squarepin"],function(t){Te.prototype.symbols[t]=fn[t]});var gn,mn=[].concat(un),vn=function(t){var e=ue(arguments,function(t){return we(t)});if(e.length)return Math[t].apply(0,e)};mn[4]=["day",[1,2,3,4]],mn[5]=["week",[1,2,3]],gn=se.areaspline===W?"line":"areaspline",be(j,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:gn,color:"#4572A7",compare:null,fillOpacity:.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:mn},dataLabels:{enabled:!1,zIndex:2},id:Gt+"navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:It?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:Lt&&!It}}),N.prototype={drawHandle:function(t,e){var n,i=this,r=i.chart,o=r.renderer,s=i.elementsToDestroy,a=i.handles,l=i.navigatorOptions.handles,c={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":1};i.rendered||(a[e]=o.g("navigator-handle-"+["left","right"][e]).css({cursor:"ew-resize"}).attr({zIndex:10-e}).add(),n=o.rect(-4.5,0,9,16,0,1).attr(c).add(a[e]),s.push(n),n=o.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(c).add(a[e]),s.push(n)),a[e][i.rendered?"animate":"attr"]({translateX:i.scrollerLeft+i.scrollbarHeight+parseInt(t,10),translateY:i.top+i.height/2-8})},drawScrollbarButton:function(t){var e,n=this,i=n.chart,r=i.renderer,o=n.elementsToDestroy,s=n.scrollbarButtons,a=n.scrollbarHeight,l=n.scrollbarOptions;n.rendered||(s[t]=r.g().add(n.scrollbarGroup),e=r.rect(-.5,-.5,a+1,a+1,l.buttonBorderRadius,l.buttonBorderWidth).attr({stroke:l.buttonBorderColor,"stroke-width":l.buttonBorderWidth,fill:l.buttonBackgroundColor}).add(s[t]),o.push(e),e=r.path(["M",a/2+(t?-1:1),a/2-3,"L",a/2+(t?-1:1),a/2+3,a/2+(t?2:-2),a/2]).attr({fill:l.buttonArrowColor}).add(s[t]),o.push(e)),t&&s[t].attr({translateX:n.scrollerWidth-a})},render:function(t,e,n,i){var r,o,s,a,l,u,h,d,p,f,g,m,v=this,y=v.chart,b=y.renderer,w=v.scrollbarGroup,x=v.navigatorGroup,_=v.scrollbar,C=v.xAxis,k=v.scrollbarTrack,S=v.scrollbarHeight,T=v.scrollbarEnabled,M=v.navigatorOptions,D=v.scrollbarOptions,A=D.minWidth,E=v.height,P=v.top,I=v.navigatorEnabled,O=M.outlineWidth,L=O/2,R=0,H=v.outlineHeight,z=D.barBorderRadius,F=D.barBorderWidth,N=P+L,B=v.rendered;we(t)&&we(e)&&(!v.hasDragged||c(n))&&(v.navigatorLeft=r=xe(C.left,y.plotLeft+S),v.navigatorWidth=o=xe(C.len,y.plotWidth-2*S),v.scrollerLeft=s=r-S,v.scrollerWidth=a=a=o+2*S,n=xe(n,C.translate(t)),i=xe(i,C.translate(e)),we(n)&&xt(n)!==1/0||(n=0,i=a),C.translate(i,!0)-C.translate(n,!0)<y.xAxis[0].minRange||(v.zoomedMax=wt(bt(n,i,0),o),v.zoomedMin=wt(bt(v.fixedWidth?v.zoomedMax-v.fixedWidth:wt(n,i),0),o),v.range=v.zoomedMax-v.zoomedMin,u=mt(v.zoomedMax),l=mt(v.zoomedMin),h=u-l,B||(I&&(v.navigatorGroup=x=b.g("navigator").attr({zIndex:3}).add(),v.leftShade=b.rect().attr({fill:M.maskFill}).add(x),M.maskInside?v.leftShade.css({cursor:"ew-resize"}):v.rightShade=b.rect().attr({fill:M.maskFill}).add(x),v.outline=b.path().attr({"stroke-width":O,stroke:M.outlineColor}).add(x)),T&&(v.scrollbarGroup=w=b.g("scrollbar").add(),f=D.trackBorderWidth,v.scrollbarTrack=k=b.rect().attr({x:0,y:-f%2/2,fill:D.trackBackgroundColor,stroke:D.trackBorderColor,"stroke-width":f,r:D.trackBorderRadius||0,height:S}).add(w),v.scrollbar=_=b.rect().attr({y:-F%2/2,height:S,fill:D.barBackgroundColor,stroke:D.barBorderColor,"stroke-width":F,r:z}).add(w),v.scrollbarRifles=b.path().attr({stroke:D.rifleColor,"stroke-width":1}).add(w))),m=B?"animate":"attr",I&&(v.leftShade[m](M.maskInside?{x:r+l,y:P,width:u-l,height:E}:{x:r,y:P,width:l,height:E}),v.rightShade&&v.rightShade[m]({x:r+u,y:P,width:o-u,height:E}),v.outline[m]({d:[Jt,s,N,Qt,r+l-L,N,r+l-L,N+H,Qt,r+u-L,N+H,Qt,r+u-L,N,s+a,N].concat(M.maskInside?[Jt,r+l+L,N,Qt,r+u-L,N]:[])}),v.drawHandle(l+L,0),v.drawHandle(u+L,1)),T&&w&&(v.drawScrollbarButton(0),v.drawScrollbarButton(1),w[m]({translateX:s,translateY:mt(N+E)}),k[m]({width:a}),d=S+l,p=h-F,p<A&&(R=(A-p)/2,p=A,d-=R),v.scrollbarPad=R,_[m]({x:vt(d)+F%2/2,width:p}),g=S+l+h/2-.5,v.scrollbarRifles.attr({visibility:h>12?Xt:Ut})[m]({d:[Jt,g-3,S/4,Qt,g-3,2*S/3,Jt,g,S/4,Qt,g,2*S/3,Jt,g+3,S/4,Qt,g+3,2*S/3]})),v.scrollbarPad=R,v.rendered=!0))},addEvents:function(){var t,e=this.chart,n=e.container,i=this.mouseDownHandler,r=this.mouseMoveHandler,o=this.mouseUpHandler;t=[[n,"mousedown",i],[n,"mousemove",r],[ft,"mouseup",o]],q&&t.push([n,"touchstart",i],[n,"touchmove",r],[ft,"touchend",o]),ce(t,function(t){pe.apply(null,t)}),this._events=t,this.series&&pe(this.series.xAxis,"foundExtremes",function(){e.scroller.modifyNavigatorAxisExtremes()}),pe(e,"redraw",function(){var t,e=this.scroller;e&&(t=e.baseSeries.xAxis,t&&e.render(t.min,t.max))})},removeEvents:function(){ce(this._events,function(t){fe.apply(null,t)}),this._events=W,this.navigatorEnabled&&this.baseSeries&&fe(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var t,e,n,r=this,o=r.chart,s=r.scrollbarHeight,a=r.navigatorOptions,l=r.height,u=r.top,h=r.baseSeries;r.mouseDownHandler=function(e){e=o.pointer.normalize(e);var i,s,a,c,u=r.zoomedMin,h=r.zoomedMax,d=r.top,p=r.scrollbarHeight,f=r.scrollerLeft,g=r.scrollerWidth,m=r.navigatorLeft,v=r.navigatorWidth,y=r.scrollbarPad,b=r.range,w=e.chartX,x=e.chartY,_=o.xAxis[0],C=It?10:7;x>d&&x<d+l+p&&(c=!r.scrollbarEnabled||x<d+l,c&&gt.abs(w-u-m)<C?(r.grabbedLeft=!0,r.otherHandlePos=h,r.fixedExtreme=_.max,o.fixedRange=null):c&&gt.abs(w-h-m)<C?(r.grabbedRight=!0,r.otherHandlePos=u,r.fixedExtreme=_.min,o.fixedRange=null):w>m+u-y&&w<m+h+y?(r.grabbedCenter=w,r.fixedWidth=b,n=w-u):w>f&&w<f+g&&(a=c?w-m-b/2:w<m?u-.2*b:w>f+g-p?u+.2*b:w<m+u?u-b:h,a<0?a=0:a+b>=v&&(a=v-b,i=r.getUnionExtremes().dataMax),a!==u&&(r.fixedWidth=b,s=t.toFixedRange(a,a+b,null,i),_.setExtremes(s.min,s.max,!0,!1,{trigger:"navigator"}))))},r.mouseMoveHandler=function(t){var e,i,s=r.scrollbarHeight,a=r.navigatorLeft,l=r.navigatorWidth,c=r.scrollerLeft,u=r.scrollerWidth,h=r.range;t.touches&&0===t.touches[0].pageX||(t=o.pointer.normalize(t),e=t.chartX,e<a?e=a:e>c+u-s&&(e=c+u-s),r.grabbedLeft?(i=!0,r.render(0,0,e-a,r.otherHandlePos)):r.grabbedRight?(i=!0,r.render(0,0,r.otherHandlePos,e-a)):r.grabbedCenter&&(i=!0,e<n?e=n:e>l+n-h&&(e=l+n-h),r.render(0,0,e-n,e-n+h)),i&&r.scrollbarOptions.liveRedraw&&setTimeout(function(){r.mouseUpHandler(t)},0),r.hasDragged=i)},r.mouseUpHandler=function(e){var i,s,a;r.hasDragged&&(r.zoomedMin===r.otherHandlePos?s=r.fixedExtreme:r.zoomedMax===r.otherHandlePos&&(a=r.fixedExtreme),r.zoomedMax===r.navigatorWidth&&(a=r.getUnionExtremes().dataMax),i=t.toFixedRange(r.zoomedMin,r.zoomedMax,s,a),c(i.min)&&o.xAxis[0].setExtremes(i.min,i.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})),"mousemove"!==e.type&&(r.grabbedLeft=r.grabbedRight=r.grabbedCenter=r.fixedWidth=r.fixedExtreme=r.otherHandlePos=r.hasDragged=n=null)};var d=o.xAxis.length,p=o.yAxis.length;o.extraBottomMargin=r.outlineHeight+a.margin,r.navigatorEnabled?(r.xAxis=t=new Pe(o,i({breaks:h&&h.xAxis.options.breaks,ordinal:h&&h.xAxis.options.ordinal},a.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:d,height:l,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),r.yAxis=e=new Pe(o,i(a.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:l,offset:0,index:p,zoomEnabled:!1})),h||a.series.data?r.addBaseSeries():0===o.series.length&&_e(o,"redraw",function(t,e){o.series.length>0&&!r.series&&(r.setBaseSeries(),o.redraw=t),t.call(o,e)})):r.xAxis=t={translate:function(t,e){var n=o.xAxis[0],i=n.getExtremes(),r=o.plotWidth-2*s,a=vn("min",n.options.min,i.dataMin),l=vn("max",n.options.max,i.dataMax)-a;return e?t*l/r+a:r*(t-a)/l},toFixedRange:Pe.prototype.toFixedRange},h&&h.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1&&(pe(h,"updatedData",this.updatedDataHandler),pe(h.xAxis,"foundExtremes",function(){h.xAxis&&this.chart.scroller.modifyBaseAxisExtremes()}),h.userOptions.events=be(h.userOptions.event,{updatedData:this.updatedDataHandler})),_e(o,"getMargins",function(n){var i=this.legend,o=i.options;n.apply(this,[].slice.call(arguments,1)),r.top=u=r.navigatorOptions.top||this.chartHeight-r.height-r.scrollbarHeight-this.spacing[2]-("bottom"===o.verticalAlign&&o.enabled&&!o.floating?i.legendHeight+xe(o.margin,10):0),t&&e&&(t.options.top=e.options.top=u,t.setAxisSize(),e.setAxisSize())}),r.addEvents()},getUnionExtremes:function(t){var e,n=this.chart.xAxis[0],i=this.xAxis,r=i.options,o=n.options;
return t&&null===n.dataMin||(e={dataMin:xe(r&&r.min,vn("min",o.min,n.dataMin,i.dataMin,i.min)),dataMax:xe(r&&r.max,vn("max",o.max,n.dataMax,i.dataMax,i.max))}),e},setBaseSeries:function(t){var e=this.chart;t=t||e.options.navigator.baseSeries,this.series&&this.series.remove(),this.baseSeries=e.series[t]||"string"==typeof t&&e.get(t)||e.series[0],this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var t,e,n=this.baseSeries,r=n?n.options:{},o=r.data,s=this.navigatorOptions.series;e=s.data,this.hasNavigatorData=!!e,t=i(r,s,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0}),t.data=e||o.slice(0),this.series=this.chart.initSeries(t)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;e.getExtremes&&(t=this.getUnionExtremes(!0),!t||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,n=this.baseSeries,i=n.xAxis,r=i.getExtremes(),o=r.min,s=r.max,a=r.dataMin,l=r.dataMax,c=s-o,u=this.stickToMin,h=this.stickToMax,d=this.series,p=!!i.setExtremes;u&&(e=a,t=e+c),h&&(t=l,u||(e=bt(t-c,d?d.xData[0]:-Number.MAX_VALUE))),p&&(u||h)&&we(e)&&(i.min=i.userMin=e,i.max=i.userMax=t),this.stickToMin=this.stickToMax=null},updatedDataHandler:function(){var t=this.chart.scroller,e=t.baseSeries,n=t.series;t.stickToMin=e.xAxis.min<=e.xData[0],t.stickToMax=t.zoomedMax>=t.navigatorWidth,n&&!t.hasNavigatorData&&(n.options.pointStart=e.xData[0],n.setData(e.options.data,!1),n.graph&&e.graph&&(n.graph.shift=e.graph.shift))},destroy:function(){var t=this;t.removeEvents(),ce([t.xAxis,t.yAxis,t.leftShade,t.rightShade,t.outline,t.scrollbarTrack,t.scrollbarRifles,t.scrollbarGroup,t.scrollbar],function(t){t&&t.destroy&&t.destroy()}),t.xAxis=t.yAxis=t.leftShade=t.rightShade=t.outline=t.scrollbarTrack=t.scrollbarRifles=t.scrollbarGroup=t.scrollbar=null,ce([t.scrollbarButtons,t.handles,t.elementsToDestroy],function(t){T(t)})}},pt.Scroller=N,_e(Pe.prototype,"zoom",function(t,e,n){var i,r,o=this.chart,s=o.options,a=s.chart.zoomType,l=s.navigator,u=s.rangeSelector;return this.isXAxis&&(l&&l.enabled||u&&u.enabled)&&("x"===a?o.resetZoomButton="blocked":"y"===a?r=!1:"xy"===a&&(i=this.previousZoom,c(e)?this.previousZoom=[this.min,this.max]:i&&(e=i[0],n=i[1],delete this.previousZoom))),r!==W?r:t.call(this,e,n)}),_e(We.prototype,"init",function(t,e,n){pe(this,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=new N(this))}),t.call(this,e,n)}),_e(Ye.prototype,"addPoint",function(t,n,i,r,o){var l=this.options.turboThreshold;l&&this.xData.length>l&&s(n)&&!a(n)&&this.chart.scroller&&e(20,!0),t.call(this,n,i,r,o)}),be(j,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}}),j.lang=i(j.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),B.prototype={clickButton:function(t,e){var n,i,r,o,s,a,l,c,u=this,h=u.selected,d=u.chart,p=u.buttons,f=u.buttonOptions[t],g=d.xAxis[0],m=d.scroller&&d.scroller.getUnionExtremes()||g||{},v=m.dataMin,y=m.dataMax,b=g&&mt(wt(g.max,xe(y,g.max))),w=f.type,x=f._range,_=f.dataGrouping;if(null!==v&&null!==y&&t!==u.selected){if(d.fixedRange=x,_&&(this.forcedDataGrouping=!0,Pe.prototype.setDataGrouping.call(g||{chart:this.chart},_,!1)),"month"===w||"year"===w)g?(c={range:f,max:b,dataMin:v,dataMax:y},n=g.minFromRange.call(c),we(c.newMax)&&(b=c.newMax)):x=f;else if(x)n=bt(b-x,v),b=wt(n+x,y);else if("ytd"===w){if(!g)return void pe(d,"beforeRender",function(){u.clickButton(t)});y===W&&(v=Number.MAX_VALUE,y=Number.MIN_VALUE,ce(d.series,function(t){var e=t.xData;v=wt(e[0],v),y=bt(e[e.length-1],y)}),e=!1),i=new Z(y),s=i.getFullYear(),n=o=bt(v||0,Z.UTC(s,0,1)),i=i.getTime(),b=wt(y||i,i)}else"all"===w&&g&&(n=v,b=y);p[h]&&p[h].setState(0),p[t]&&(p[t].setState(2),u.lastSelected=t),g?(g.setExtremes(n,b,xe(e,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:f}),u.setSelected(t)):(r=d.options.xAxis[0],l=r.range,r.range=x,a=r.min,r.min=o,u.setSelected(t),pe(d,"load",function(){r.range=l,r.min=a}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var e=this,n=t.options.rangeSelector,i=n.buttons||[].concat(e.defaultButtons),r=n.selected,o=e.blurInputs=function(){var t=e.minInput,n=e.maxInput;t&&t.blur&&ge(t,"blur"),n&&n.blur&&ge(n,"blur")};e.chart=t,e.options=n,e.buttons=[],t.extraTopMargin=n.height,e.buttonOptions=i,pe(t.container,"mousedown",o),pe(t,"resize",o),ce(i,e.computeButtonRange),r!==W&&i[r]&&this.clickButton(r,!1),pe(t,"load",function(){pe(t.xAxis[0],"setExtremes",function(n){this.max-this.min!==t.fixedRange&&"rangeSelectorButton"!==n.trigger&&"updatedData"!==n.trigger&&e.forcedDataGrouping&&this.setDataGrouping(!1,!1)}),pe(t.xAxis[0],"afterSetExtremes",function(){e.updateButtonStates(!0)})})},updateButtonStates:function(t){var e=this,n=this.chart,i=n.xAxis[0],r=n.scroller&&n.scroller.getUnionExtremes()||i,o=r.dataMin,s=r.dataMax,a=e.selected,l=e.options.allButtonsEnabled,c=e.buttons;t&&n.fixedRange!==mt(i.max-i.min)&&(c[a]&&c[a].setState(0),e.setSelected(null)),ce(e.buttonOptions,function(t,r){var u=mt(i.max-i.min),h=t._range,d=t.type,p=t.count||1,f=h>s-o,g=h<i.minRange,m="all"===t.type&&i.max-i.min>=s-o&&2!==c[r].state,v="ytd"===t.type&&$("%Y",o)===$("%Y",s),y=n.renderer.forExport&&r===a,b=h===u,w=!i.hasVisibleSeries;("month"===d||"year"===d)&&u>=24*{month:28,year:365}[d]*36e5*p&&u<=24*{month:31,year:366}[d]*36e5*p&&(b=!0),y||b&&r!==a&&r===e.lastSelected?(e.setSelected(r),c[r].setState(2)):!l&&(f||g||m||v||w)?c[r].setState(3):3===c[r].state&&c[r].setState(0)})},computeButtonRange:function(t){var e=t.type,n=t.count||1,i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};i[e]?t._range=i[e]*n:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*n)},setInputValue:function(t,e){var n=this.chart.options.rangeSelector;c(e)&&(this[t+"Input"].HCTime=e),this[t+"Input"].value=$(n.inputEditDateFormat||"%Y-%m-%d",this[t+"Input"].HCTime),this[t+"DateBox"].attr({text:$(n.inputDateFormat||"%b %e, %Y",this[t+"Input"].HCTime)})},showInput:function(t){var e=this.inputGroup,n=this[t+"DateBox"];p(this[t+"Input"],{left:e.translateX+n.x+Zt,top:e.translateY+Zt,width:n.width-2+Zt,height:n.height-2+Zt,border:"2px solid silver"})},hideInput:function(t){p(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=n.value,e=(h.inputDateParser||Z.parse)(t),i=l.xAxis[0],o=i.dataMin,s=i.dataMax;e!==n.previousValue&&(n.previousValue=e,we(e)||(e=t.split("-"),e=Z.UTC(r(e[0]),r(e[1])-1,r(e[2]))),we(e)&&(j.global.useUTC||(e+=60*(new Z).getTimezoneOffset()*1e3),g?e>a.maxInput.HCTime?e=W:e<o&&(e=o):e<a.minInput.HCTime?e=W:e>s&&(e=s),e!==W&&l.xAxis[0].setExtremes(g?e:i.min,g?i.max:e,W,W,{trigger:"rangeSelectorInput"})))}var n,o,s,a=this,l=a.chart,c=l.renderer.style,u=l.renderer,h=l.options.rangeSelector,d=j.lang,p=a.div,g="min"===t,m=this.inputGroup;this[t+"Label"]=o=u.label(d[g?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(i(c,h.labelStyle)).add(m),m.offset+=o.width+5,this[t+"DateBox"]=s=u.label("",m.offset).attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,stroke:h.inputBoxBorderColor||"silver","stroke-width":1}).css(i({textAlign:"center",color:"#444"},c,h.inputStyle)).on("click",function(){a.showInput(t),a[t+"Input"].focus()}).add(m),m.offset+=s.width+(g?10:0),this[t+"Input"]=n=f("input",{name:t,className:Gt+"range-selector",type:"text"},be({position:jt,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:c.fontSize,fontFamily:c.fontFamily,left:"-9em",top:l.plotTop+Zt},h.inputStyle),p),n.onfocus=function(){a.showInput(t)},n.onblur=function(){a.hideInput(t)},n.onchange=e,n.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,n=xe((e.buttonPosition||{}).y,t.plotTop-t.axisOffset[0]-e.height);return{buttonTop:n,inputTop:n-10}},render:function(t,e){var n,i,r=this,o=r.chart,s=o.renderer,a=o.container,l=o.options,u=l.exporting&&l.exporting.enabled!==!1&&l.navigation&&l.navigation.buttonOptions,h=l.rangeSelector,d=r.buttons,p=j.lang,g=r.div,m=r.inputGroup,v=h.buttonTheme,y=h.buttonPosition||{},b=h.inputEnabled,w=v&&v.states,x=o.plotLeft,_=this.getPosition(),C=r.group,k=r.rendered;k||(r.group=C=s.g("range-selector-buttons").add(),r.zoomText=s.text(p.rangeSelectorZoom,xe(y.x,x),15).css(h.labelStyle).add(C),n=xe(y.x,x)+r.zoomText.getBBox().width+5,ce(r.buttonOptions,function(t,e){d[e]=s.button(t.text,n,0,function(){r.clickButton(e),r.isActive=!0},v,w&&w.hover,w&&w.select,w&&w.disabled).css({textAlign:"center"}).add(C),n+=d[e].width+xe(h.buttonSpacing,5),r.selected===e&&d[e].setState(2)}),r.updateButtonStates(),b!==!1&&(r.div=g=f("div",null,{position:"relative",height:0,zIndex:1}),a.parentNode.insertBefore(g,a),r.inputGroup=m=s.g("input-group").add(),m.offset=0,r.drawInput("min"),r.drawInput("max"))),C[k?"animate":"attr"]({translateY:_.buttonTop}),b!==!1&&(m.align(be({y:_.inputTop,width:m.offset,x:u&&_.inputTop<(u.y||0)+u.height-o.spacing[0]?-40:0},h.inputPosition),!0,o.spacingBox),c(b)||(i=C.getBBox(),m[m.translateX<i.x+i.width+10?"hide":"show"]()),r.setInputValue("min",t),r.setInputValue("max",e)),r.rendered=!0},destroy:function(){var t,e=this.minInput,n=this.maxInput,i=this.chart,r=this.blurInputs;fe(i.container,"mousedown",r),fe(i,"resize",r),T(this.buttons),e&&(e.onfocus=e.onblur=e.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null);for(t in this)this[t]&&"chart"!==t&&(this[t].destroy?this[t].destroy():this[t].nodeType&&M(this[t])),this[t]=null}},Pe.prototype.toFixedRange=function(t,e,n,i){var r=this.chart&&this.chart.fixedRange,o=xe(n,this.translate(t,!0)),s=xe(i,this.translate(e,!0)),a=r&&(s-o)/r;return a>.7&&a<1.3&&(i?o=s-r:s=o+r),we(o)||(o=s=void 0),{min:o,max:s}},Pe.prototype.minFromRange=function(){var t,e,n,i=this.range,r=i.type,o={month:"Month",year:"FullYear"}[r],s=this.max,a=function(t,e){var n=new Z(t);return n["set"+o](n["get"+o]()+e),n.getTime()-t};return we(i)?(t=this.max-i,n=i):t=s+a(s,-i.count),e=xe(this.dataMin,Number.MIN_VALUE),we(t)||(t=e),t<=e&&(t=e,void 0===n&&(n=a(t,i.count)),this.newMax=wt(t+n,this.dataMax)),we(s)||(t=void 0),t},_e(We.prototype,"init",function(t,e,n){pe(this,"init",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new B(this))}),t.call(this,e,n)}),pt.RangeSelector=B,We.prototype.callbacks.push(function(t){function e(){r=t.xAxis[0].getExtremes(),we(r.min)&&s.render(r.min,r.max)}function n(t){s.render(t.min,t.max)}function i(){s&&(fe(t,"resize",e),fe(t.xAxis[0],"afterSetExtremes",n))}var r,o=t.scroller,s=t.rangeSelector;o&&(r=t.xAxis[0].getExtremes(),o.render(r.min,r.max)),s&&(pe(t.xAxis[0],"afterSetExtremes",n),pe(t,"resize",e),e()),pe(t,"destroy",i)}),pt.StockChart=pt.stockChart=function(t,e,n){var r,s=o(t)||t.nodeName,a=arguments[s?1:0],l=a.series,c=xe(a.navigator&&a.navigator.enabled,!0),u=c?{startOnTick:!1,endOnTick:!1}:null,d={marker:{enabled:!1,radius:2}},p={shadow:!1,borderWidth:0};return a.xAxis=de(h(a.xAxis||{}),function(t){return i({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},t,{type:"datetime",categories:null},u)}),a.yAxis=de(h(a.yAxis||{}),function(t){return r=xe(t.opposite,!0),i({labels:{y:-2},opposite:r,showLastLabel:!1,title:{text:null}},t)}),a.series=null,a=i({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:d,spline:d,area:d,areaspline:d,arearange:d,areasplinerange:d,column:p,columnrange:p,candlestick:p,ohlc:p}},a,{_stock:!0,chart:{inverted:!1}}),a.series=l,s?new We(t,a,n):new We(a,e)},_e(Le.prototype,"init",function(t,e,n){var i=n.chart.pinchType||"";t.call(this,e,n),this.pinchX=this.pinchHor=i.indexOf("x")!==-1,this.pinchY=this.pinchVert=i.indexOf("y")!==-1,this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert}),_e(Pe.prototype,"autoLabelAlign",function(t){var e,n=this.chart,i=this.options,r=n._labelPanes=n._labelPanes||{},o=this.options.labels;return this.chart.options._stock&&"yAxis"===this.coll&&(e=i.top+","+i.height,!r[e]&&o.enabled)?(15===o.x&&(o.x=0),void 0===o.align&&(o.align="right"),r[e]=1,"right"):t.call(this,[].slice.call(arguments,1))}),_e(Pe.prototype,"getPlotLinePath",function(t,e,n,i,r,o){var s,a,l,u,h,d,p,f=this,g=this.isLinked&&!this.series?this.linkedParent.series:this.series,m=f.chart,v=m.renderer,y=f.left,b=f.top,w=[],x=[];return"colorAxis"===f.coll?t.apply(this,[].slice.call(arguments,1)):(x=f.isXAxis?c(f.options.yAxis)?[m.yAxis[f.options.yAxis]]:de(g,function(t){return t.yAxis}):c(f.options.xAxis)?[m.xAxis[f.options.xAxis]]:de(g,function(t){return t.xAxis}),h=f.isXAxis?m.yAxis:m.xAxis,ce(h,function(t){if(!c(t.options.id)||t.options.id.indexOf("navigator")===-1){var e=t.isXAxis?"yAxis":"xAxis",n=c(t.options[e])?m[e][t.options[e]]:m[e][0];f===n&&x.push(t)}}),d=x.length?[]:[f.isXAxis?m.yAxis[0]:m.xAxis[0]],ce(x,function(t){le(t,d)===-1&&d.push(t)}),p=xe(o,f.translate(e,null,null,i)),we(p)&&(f.horiz?ce(d,function(t){var e;a=t.pos,u=a+t.len,s=l=mt(p+f.transB),(s<y||s>y+f.width)&&(r?s=l=wt(bt(y,s),y+f.width):e=!0),e||w.push("M",s,a,"L",l,u)}):ce(d,function(t){var e;s=t.pos,l=s+t.len,a=u=mt(b+f.height-p),(a<b||a>b+f.height)&&(r?a=u=wt(bt(b,a),f.top+f.height):e=!0),e||w.push("M",s,a,"L",l,u)})),w.length>0?v.crispPolyLine(w,n||1):null)}),Pe.prototype.getPlotBandPath=function(t,e){var n,i=this.getPlotLinePath(e,null,null,!0),r=this.getPlotLinePath(t,null,null,!0),o=[];if(r&&i&&r.toString()!==i.toString())for(n=0;n<r.length;n+=6)o.push("M",r[n+1],r[n+2],"L",r[n+4],r[n+5],i[n+4],i[n+5],i[n+1],i[n+2]);else o=null;return o},Se.prototype.crispPolyLine=function(t,e){var n;for(n=0;n<t.length;n+=6)t[n+1]===t[n+4]&&(t[n+1]=t[n+4]=mt(t[n+1])-e%2/2),t[n+2]===t[n+5]&&(t[n+2]=t[n+5]=mt(t[n+2])+e%2/2);return t},V===pt.VMLRenderer&&(Te.prototype.crispPolyLine=Se.prototype.crispPolyLine),_e(Pe.prototype,"hideCrosshair",function(t,e){t.call(this,e),this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),_e(Pe.prototype,"drawCrosshair",function(t,e,n){if(t.call(this,e,n),c(this.crosshair.label)&&this.crosshair.label.enabled){var i,r,o,s,a,l,u=this.chart,h=this.options.crosshair.label,d=this.horiz,p=this.opposite,f=this.left,g=this.top,m=this.crossLabel,v=h.format,y="",b="inside"===this.options.tickPosition,x=this.crosshair.snap!==!1;a=d?"center":p?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",m||(m=this.crossLabel=u.renderer.label(null,null,null,h.shape||"callout").attr({align:h.align||a,zIndex:12,fill:h.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:xe(h.padding,8),stroke:h.borderColor||"","stroke-width":h.borderWidth||0,r:xe(h.borderRadius,3)}).css(be({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},h.style)).add()),d?(i=x?n.plotX+f:e.chartX,r=g+(p?0:this.height)):(i=p?this.width+f:0,r=x?n.plotY+g:e.chartY),v||h.formatter||(this.isDatetimeAxis&&(y="%b %d, %Y"),v="{value"+(y?":"+y:"")+"}"),l=x?n[this.isXAxis?"x":"y"]:this.toValue(d?e.chartX:e.chartY),m.attr({text:v?w(v,{value:l}):h.formatter.call(this,l),anchorX:d?i:this.opposite?0:u.chartWidth,anchorY:d?this.opposite?u.chartHeight:0:r,x:i,y:r,visibility:Xt}),o=m.getBBox(),d?(b&&!p||!b&&p)&&(r=m.y-o.height):r=m.y-o.height/2,s=d?{left:f-o.x,right:f+this.width-o.x}:{left:"left"===this.labelAlign?f:0,right:"right"===this.labelAlign?f+this.width:u.chartWidth},m.translateX<s.left&&(i+=s.left-m.translateX),m.translateX+o.width>=s.right&&(i-=m.translateX+o.width-s.right),m.attr({x:i,y:r,visibility:"visible"})}});var yn=rn.init,bn=rn.processData,wn=qe.prototype.tooltipFormatter;return rn.init=function(){yn.apply(this,arguments),this.setCompare(this.options.compare)},rn.setCompare=function(t){this.modifyValue="value"===t||"percent"===t?function(e,n){var i=this.compareValue;return e!==W&&(e="value"===t?e-i:e=100*(e/i)-100,n&&(n.change=e)),e}:null,this.chart.hasRendered&&(this.isDirty=!0)},rn.processData=function(){var t,e,n,i,r,o=this,s=-1;if(bn.apply(this,arguments),o.xAxis&&o.processedYData)for(e=o.processedXData,n=o.processedYData,i=n.length,o.pointArrayMap&&(s=le(o.pointValKey||"y",o.pointArrayMap)),t=0;t<i;t++)if(r=s>-1?n[t][s]:n[t],we(r)&&e[t]>=o.xAxis.min&&0!==r){o.compareValue=r;break}},_e(rn,"getExtremes",function(t){var e;t.apply(this,[].slice.call(arguments,1)),this.modifyValue&&(e=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=k(e),this.dataMax=S(e))}),Pe.prototype.setCompare=function(t,e){this.isXAxis||(ce(this.series,function(e){e.setCompare(t)}),xe(e,!0)&&this.chart.redraw())},qe.prototype.tooltipFormatter=function(t){var e=this;return t=t.replace("{point.change}",(e.change>0?"+":"")+pt.numberFormat(e.change,xe(e.series.tooltipOptions.changeDecimals,2))),wn.apply(this,[t])},_e(Ye.prototype,"render",function(t){this.chart.options._stock&&this.xAxis&&(!this.clipBox&&this.animate?(this.clipBox=i(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(ve(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))),t.call(this)}),be(pt,{Color:L,Point:qe,Tick:z,Renderer:V,SVGElement:R,SVGRenderer:Se,arrayMin:k,arrayMax:S,charts:Bt,correctFloat:D,dateFormat:$,error:e,format:w,pathAnim:U,getOptions:O,hasBidiBug:Rt,isTouchDevice:It,setOptions:I,addEvent:pe,removeEvent:fe,createElement:f,discardElement:M,css:p,each:ce,map:de,merge:i,splat:h,stableSort:C,extendClass:g,pInt:r,svg:Lt,canvas:Ht,vml:!Lt&&!Ht,product:Vt,version:qt}),pt})},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m,v,y,b=function(t,e){function n(){this.constructor=t}for(var i in e)w.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},w={}.hasOwnProperty;l=n(7),c=n(8),m=n(9),o=n(11),p=n(13),f=n(14),s=n(30),a=n(32),h=n(34),u=n(36),d=n(59),y=n(158),i=n(167),v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.url="/api/user",e.prototype.defaults={firstname:"",lastname:"",email:"",height:0,gender:0,auth:1},e}(o.Model),g=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.el="body",e.prototype.regions={header:"#header",loader:"#loader",content:"#content",index:"#index",footer:"#footer",navigator:"#navigator",drawer:"#drawer"},e}(p.LayoutView),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return b(e,t),e.prototype.trackAnalytics=function(t){o.Radio.channel("root").request("clear:navigation",t),"login"===t||"signup"===t||"index"===t||"about"===t||"feedback"===t?$("#navigator").hide():$("#navigator").show(),this.googleAnalytics.send(t),"signup"===t&&this.googleTrackingConversion.send()},e.prototype.onStart=function(){var t,e,n,r,s;this.googleAnalytics=new l,this.googleTrackingConversion=new c,r=new v,n=new g,s=o.Radio.channel("user"),e=o.Radio.channel("root"),t=o.Radio.channel("nav"),s.reply({user:function(){return r},auth:function(){return r.get("auth")},isOwner:function(){return 1===parseInt(r.get("auth"),10)}}),e.reply({"get:route":function(t){return function(){return t.route}}(this),navigate:function(t){return function(e,n){o.history.navigate(e,{trigger:!1}),t.trackAnalytics(e)}}(this),rootview:function(){return n},"message:error":function(t){return e.request("spin:page:loader",!1),m.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-full-width",preventDuplicates:!1,onclick:null,showDuration:"10000",hideDuration:"10000",timeOut:"10000",extendedTimeOut:"10000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},m.error(t.responseText,"Error: "+t.status+" "+t.statusText)},"spin:page:loader":function(t){t?n.showChildView("loader",new h.View):n.getRegion("loader").empty()}}),t.reply({"nav:index":function(){e.request("drawer:close"),n.showChildView("header",new f.Index),n.showChildView("drawer",new f.Drawer)},"nav:basic":function(){e.request("drawer:close"),n.showChildView("header",new f.Basic),n.showChildView("drawer",new f.Drawer)},"nav:main":function(){e.request("drawer:close"),n.getRegion("index").empty(),r.fetch({success:function(t){n.showChildView("header",new f.Main({model:r})),n.showChildView("drawer",new f.Drawer)},error:function(t,n){e.request("message:error",n)}})}}),n.footer.show(new a),new u({mode:"auto",trailingSlash:"ignore"}),new d({mode:"auto",trailingSlash:"ignore"}),new y({mode:"auto",trailingSlash:"ignore"}),new i({mode:"auto",trailingSlash:"ignore"}),o.history.on("route",function(t){return function(e,n){t.trackAnalytics(n)}}(this)),o.history.start({pushState:!0,hashChange:!1}),n.showChildView("navigator",new f.Navigator)},e}(p.Application),t.exports=new r},function(t,e){var n;n=function(){function t(){}return t.prototype.send=function(t){!function(){var t,e;return t=document.createElement("script"),t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)}(),ga("create","UA-74126093-1","auto"),ga("send","pageview","/"+t)},t}(),t.exports=n},function(t,e){var n;n=function(){function t(){}return t.prototype.send=function(){window.google_trackConversion({google_conversion_id:958303564,google_conversion_language:"en",google_conversion_format:"3",google_conversion_color:"ffffff",google_conversion_label:"cC-oCMqy72kQzJr6yAM",google_remarketing_only:!1})},t}(),t.exports=n},function(t,e,n){var i,r;!function(o){i=[n(2)],r=function(t){return function(){function e(t,e,n){return f({type:x.error,iconClass:g().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=g()),v=t("#"+e.containerId),v.length?v:(n&&(v=h(e)),v)}function i(t,e,n){return f({type:x.info,iconClass:g().iconClasses.info,message:t,optionsOverride:n,title:e})}function r(t){y=t}function o(t,e,n){return f({type:x.success,iconClass:g().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return f({type:x.warning,iconClass:g().iconClasses.warning,message:t,optionsOverride:n,title:e})}function a(t,e){var i=g();v||n(i),u(t,i,e)||c(i)}function l(e){var i=g();return v||n(i),e&&0===t(":focus",e).length?void m(e):void(v.children().length&&v.remove())}function c(e){for(var n=v.children(),i=n.length-1;i>=0;i--)u(t(n[i]),e)}function u(e,n,i){var r=!(!i||!i.force)&&i.force;return!(!e||!r&&0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(e)}}),!0)}function h(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass),v.appendTo(t(e.target)),v}function d(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function p(t){y&&y(t)}function f(e){function i(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(){l(),u(),h(),d(),f(),y(),c(),o()}function o(){var t="";switch(e.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}A.attr("aria-live",t)}function s(){T.closeOnHover&&A.hover(k,C),!T.onclick&&T.tapToDismiss&&A.click(_),T.closeButton&&O&&O.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),T.onCloseClick&&T.onCloseClick(t),_(!0)}),T.onclick&&A.click(function(t){T.onclick(t),_()})}function a(){A.hide(),A[T.showMethod]({duration:T.showDuration,easing:T.showEasing,complete:T.onShown}),T.timeOut>0&&(D=setTimeout(_,T.timeOut),L.maxHideTime=parseFloat(T.timeOut),L.hideEta=(new Date).getTime()+L.maxHideTime,T.progressBar&&(L.intervalId=setInterval(S,10)))}function l(){e.iconClass&&A.addClass(T.toastClass).addClass(M)}function c(){T.newestOnTop?v.prepend(A):v.append(A)}function u(){if(e.title){var t=e.title;T.escapeHtml&&(t=i(e.title)),E.append(t).addClass(T.titleClass),A.append(E)}}function h(){if(e.message){var t=e.message;T.escapeHtml&&(t=i(e.message)),P.append(t).addClass(T.messageClass),A.append(P)}}function d(){T.closeButton&&(O.addClass(T.closeClass).attr("role","button"),A.prepend(O))}function f(){T.progressBar&&(I.addClass(T.progressClass),A.prepend(I))}function y(){T.rtl&&A.addClass("rtl")}function x(t,e){if(t.preventDuplicates){if(e.message===b)return!0;b=e.message}return!1}function _(e){var n=e&&T.closeMethod!==!1?T.closeMethod:T.hideMethod,i=e&&T.closeDuration!==!1?T.closeDuration:T.hideDuration,r=e&&T.closeEasing!==!1?T.closeEasing:T.hideEasing;if(!t(":focus",A).length||e)return clearTimeout(L.intervalId),A[n]({duration:i,easing:r,complete:function(){m(A),clearTimeout(D),T.onHidden&&"hidden"!==R.state&&T.onHidden(),R.state="hidden",R.endTime=new Date,p(R)}})}function C(){(T.timeOut>0||T.extendedTimeOut>0)&&(D=setTimeout(_,T.extendedTimeOut),L.maxHideTime=parseFloat(T.extendedTimeOut),L.hideEta=(new Date).getTime()+L.maxHideTime)}function k(){clearTimeout(D),L.hideEta=0,A.stop(!0,!0)[T.showMethod]({duration:T.showDuration,easing:T.showEasing})}function S(){var t=(L.hideEta-(new Date).getTime())/L.maxHideTime*100;I.width(t+"%")}var T=g(),M=e.iconClass||T.iconClass;if("undefined"!=typeof e.optionsOverride&&(T=t.extend(T,e.optionsOverride),M=e.optionsOverride.iconClass||M),!x(T,e)){w++,v=n(T,!0);var D=null,A=t("<div/>"),E=t("<div/>"),P=t("<div/>"),I=t("<div/>"),O=t(T.closeHtml),L={intervalId:null,hideEta:null,maxHideTime:null},R={toastId:w,state:"visible",startTime:new Date,options:T,map:e};return r(),a(),s(),p(R),T.debug&&console&&console.log(R),A}}function g(){return t.extend({},d(),_.options)}function m(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),b=void 0))}var v,y,b,w=0,x={error:"error",info:"info",success:"success",warning:"warning"},_={clear:a,remove:l,error:e,getContainer:n,info:i,options:{},subscribe:r,success:o,version:"2.1.3",warning:s};return _}()}.apply(e,i),!(void 0!==r&&(t.exports=r))}(n(10))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){var i,r;(function(o){n(11);!function(s){var a="object"==typeof self&&self.self===self&&self||"object"==typeof o&&o.global===o&&o;i=[n(12),n(2),e],r=function(t,e,n){a.Backbone=s(a,n,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.3.3",e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=function(t,e,i){switch(t){case 1:return function(){return n[e](this[i])};case 2:return function(t){return n[e](this[i],t)};case 3:return function(t,r){return n[e](this[i],l(t,this),r)};case 4:return function(t,r,o){return n[e](this[i],l(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[i]),n[e].apply(n,t)}}},a=function(t,e,i){n.each(e,function(e,r){n[r]&&(t.prototype[r]=s(e,r,i))})},l=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?c(t):n.isString(t)?function(e){return e.get(t)}:t},c=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},u=e.Events={},h=/\s+/,d=function(t,e,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=d(t,e,s[a],i[s[a]],o)}else if(i&&h.test(i))for(s=i.split(h);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};u.on=function(t,e,n){return p(this,t,e,n)};var p=function(t,e,n,i,r){if(t._events=d(f,t._events||{},e,n,{context:i,ctx:t,listening:r}),r){var o=t._listeners||(t._listeners={});o[r.id]=r}return t};u.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:t,objId:r,id:a,listeningTo:o,count:0}}return p(t,e,i,this,s),this};var f=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t};u.off=function(t,e,n){return this._events?(this._events=d(g,this._events,t,e,{context:n,listeners:this._listeners}),this):this},u.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this)}return this};var g=function(t,e,i,r){if(t){var o,s=0,a=r.context,l=r.listeners;if(e||i||a){for(var c=e?[e]:n.keys(t);s<c.length;s++){e=c[s];var u=t[e];if(!u)break;for(var h=[],d=0;d<u.length;d++){var p=u[d];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?h.push(p):(o=p.listening,o&&0===--o.count&&(delete l[o.id],delete o.listeningTo[o.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var f=n.keys(l);s<f.length;s++)o=l[f[s]],delete l[o.id],delete o.listeningTo[o.objId]}};u.once=function(t,e,i){var r=d(m,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==i&&(e=void 0),this.on(r,e,i)},u.listenToOnce=function(t,e,i){var r=d(m,{},e,i,n.bind(this.stopListening,this,t));return this.listenTo(t,r)};var m=function(t,e,i,r){if(i){var o=t[e]=n.once(function(){r(e,o),i.apply(this,arguments)});o._callback=i}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return d(v,this._events,t,void 0,n),this};var v=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&y(r,i),o&&y(o,[e].concat(i))}return t},y=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};u.bind=u.on,u.unbind=u.off,n.extend(e,u);var b=e.Model=function(t,e){var i=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,"defaults");i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes);
},set:function(t,e,i){if(null==t)return this;var r;if("object"==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,h=this._previousAttributes;for(var d in r)e=r[d],n.isEqual(c[d],e)||a.push(d),n.isEqual(h[d],e)?delete u[d]:u[d]=e,o?delete c[d]:c[d]=e;if(this.idAttribute in r&&(this.id=this.get(this.idAttribute)),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,i={};for(var r in t){var o=t[r];n.isEqual(e[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;return!!e.set(r,t)&&(i&&i.call(t.context,e,n,t),void e.trigger("sync",e,n,t))},W(this,t),this.sync("read",this,t)},save:function(t,e,i){var r;null==t||"object"==typeof t?(r=t,i=e):(r={})[t]=e,i=n.extend({validate:!0,parse:!0},i);var o=i.wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(t){s.attributes=l;var e=i.parse?s.parse(t,i):t;return o&&(e=n.extend({},r,e)),!(e&&!s.set(e,i))&&(a&&a.call(i.context,s,t,i),void s.trigger("sync",s,t,i))},W(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(W(this,t),s=this.sync("delete",this,t)),r||o(),s},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||B();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger("invalid",this,i,n.extend(e,{validationError:i})),!1)}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};a(b,w,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},_={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},k=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(x.prototype,u,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,C))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger("update",this,e)),i?r[0]:r},set:function(t,e){if(null!=t){e=n.extend({},_,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],l=[],c=[],u=[],h={},d=e.add,p=e.merge,f=e.remove,g=!1,m=this.comparator&&null==r&&e.sort!==!1,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(p&&o!==y){var b=this._isModel(o)?o.attributes:o;e.parse&&(b=y.parse(b,e)),y.set(b,e),c.push(y),m&&!g&&(g=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else d&&(o=t[s]=this._prepareModel(o,e),o&&(l.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o)))}if(f){for(s=0;s<this.length;s++)o=this.models[s],h[o.cid]||u.push(o);u.length&&this._removeModels(u,e)}var w=!1,x=!m&&d&&f;if(a.length&&x?(w=this.length!==a.length||n.some(this.models,function(t,e){return t!==a[e]}),this.models.length=0,k(this.models,a,0),this.length=this.models.length):l.length&&(m&&(g=!0),k(this.models,l,null==r?this.length:r),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(s=0;s<l.length;s++)null!=r&&(e.index=r+s),o=l[s],o.trigger("add",o,this,e);(g||w)&&this.trigger("sort",this,e),(l.length||u.length||c.length)&&(e.changes={added:l,removed:u,merged:c},this.trigger("update",this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var i=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,i=this;return t.success=function(n){var r=t.reset?"reset":"set";i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger("sync",i,n,t)},W(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var i=e.wait;if(t=this._prepareModel(t,e),!t)return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var i=new this.model(t,e);return i.validationError?(this.trigger("invalid",this,i.validationError,e),!1):i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger("remove",r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,i),"change"===t){var r=this.modelId(e.previousAttributes()),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};a(x,S,"models");var T=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,D)),this._ensureElement(),this.initialize.apply(this,arguments)},M=/^(\S+)\s*(.*)$/,D=["model","collection","el","id","attributes","className","tagName","events"];n.extend(T.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(M);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,i,r){var o=A[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||B()),null!=r.data||!i||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,l&&l.call(r.context,t,e,n)};var c=r.xhr=e.ajax(n.extend(s,r));return i.trigger("request",i,c,r),c};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,I=/(\(\?)?:\w+/g,O=/\*\w+/g,L=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(E.prototype,u,{initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(r,s,i)!==!1&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),e.history.trigger("route",o,i,s))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(L,"\\$&").replace(P,"(?:$1)?").replace(I,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null})}});var R=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},H=/^[#\/]|\s+$/g,z=/^\/+|\/+$/g,F=/#.*$/;R.started=!1,n.extend(R.prototype,u,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(H,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(z,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!R.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+t;if(t=this.decodeFragment(t.replace(F,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,"");t.replace(i+"#"+e)}else t.hash="#"+e}}),e.history=new R;var N=function(t,e){var i,r=this;return i=t&&n.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};b.extend=x.extend=E.extend=T.extend=R.extend=N;var B=function(){throw new Error('A "url" property or function must be specified')},W=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger("error",t,i,e)}};return e})}).call(e,function(){return this}())},function(t,e,n){var i,r;(function(){function n(t){function e(e,n,i,r,o,s){for(;o>=0&&o<s;o+=t){var a=r?r[o]:o;i=n(i,e[a],a,e)}return i}return function(n,i,r,o){i=C(i,o,4);var s=!E(n)&&_.keys(n),a=(s||n).length,l=t>0?0:a-1;return arguments.length<3&&(r=n[s?s[l]:l],l+=t),e(n,i,r,s,l,a)}}function o(t){return function(e,n,i){n=k(n,i);for(var r=A(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function s(t,e,n){return function(i,r,o){var s=0,a=A(i);if("number"==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(f.call(i,s,a),_.isNaN),o>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}function a(t,e){var n=R.length,i=t.constructor,r=_.isFunction(i)&&i.prototype||h,o="constructor";for(_.has(t,o)&&!_.contains(e,o)&&e.push(o);n--;)o=R[n],o in t&&t[o]!==r[o]&&!_.contains(e,o)&&e.push(o)}var l=this,c=l._,u=Array.prototype,h=Object.prototype,d=Function.prototype,p=u.push,f=u.slice,g=h.toString,m=h.hasOwnProperty,v=Array.isArray,y=Object.keys,b=d.bind,w=Object.create,x=function(){},_=function(t){return t instanceof _?t:this instanceof _?void(this._wrapped=t):new _(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=_),e._=_,_.VERSION="1.8.3";var C=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},k=function(t,e,n){return null==t?_.identity:_.isFunction(t)?C(t,e,n):_.isObject(t)?_.matcher(t):_.property(t)};_.iteratee=function(t,e){return k(t,e,1/0)};var S=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,l=0;l<a;l++){var c=s[l];e&&void 0!==n[c]||(n[c]=o[c])}return n}},T=function(t){if(!_.isObject(t))return{};if(w)return w(t);x.prototype=t;var e=new x;return x.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},D=Math.pow(2,53)-1,A=M("length"),E=function(t){var e=A(t);return"number"==typeof e&&e>=0&&e<=D};_.each=_.forEach=function(t,e,n){e=C(e,n);var i,r;if(E(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=_.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},_.map=_.collect=function(t,e,n){e=k(e,n);for(var i=!E(t)&&_.keys(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o},_.reduce=_.foldl=_.inject=n(1),_.reduceRight=_.foldr=n(-1),_.find=_.detect=function(t,e,n){var i;if(i=E(t)?_.findIndex(t,e,n):_.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},_.filter=_.select=function(t,e,n){var i=[];return e=k(e,n),_.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},_.reject=function(t,e,n){return _.filter(t,_.negate(k(e)),n)},_.every=_.all=function(t,e,n){e=k(e,n);for(var i=!E(t)&&_.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0},_.some=_.any=function(t,e,n){e=k(e,n);for(var i=!E(t)&&_.keys(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1},_.contains=_.includes=_.include=function(t,e,n,i){return E(t)||(t=_.values(t)),("number"!=typeof n||i)&&(n=0),_.indexOf(t,e,n)>=0},_.invoke=function(t,e){var n=f.call(arguments,2),i=_.isFunction(e);return _.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},_.pluck=function(t,e){return _.map(t,_.property(e))},_.where=function(t,e){return _.filter(t,_.matcher(e))},_.findWhere=function(t,e){return _.find(t,_.matcher(e))},_.max=function(t,e,n){var i,r,o=-(1/0),s=-(1/0);if(null==e&&null!=t){t=E(t)?t:_.values(t);for(var a=0,l=t.length;a<l;a++)i=t[a],i>o&&(o=i)}else e=k(e,n),_.each(t,function(t,n,i){r=e(t,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=t,s=r)});return o},_.min=function(t,e,n){var i,r,o=1/0,s=1/0;if(null==e&&null!=t){t=E(t)?t:_.values(t);for(var a=0,l=t.length;a<l;a++)i=t[a],i<o&&(o=i)}else e=k(e,n),_.each(t,function(t,n,i){r=e(t,n,i),(r<s||r===1/0&&o===1/0)&&(o=t,s=r)});return o},_.shuffle=function(t){for(var e,n=E(t)?t:_.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=_.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},_.sample=function(t,e,n){return null==e||n?(E(t)||(t=_.values(t)),t[_.random(t.length-1)]):_.shuffle(t).slice(0,Math.max(0,e))},_.sortBy=function(t,e,n){return e=k(e,n),_.pluck(_.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,n,i){var r={};return n=k(n,i),_.each(e,function(i,o){var s=n(i,o,e);t(r,i,s)}),r}};_.groupBy=P(function(t,e,n){_.has(t,n)?t[n].push(e):t[n]=[e]}),_.indexBy=P(function(t,e,n){t[n]=e}),_.countBy=P(function(t,e,n){_.has(t,n)?t[n]++:t[n]=1}),_.toArray=function(t){return t?_.isArray(t)?f.call(t):E(t)?_.map(t,_.identity):_.values(t):[]},_.size=function(t){return null==t?0:E(t)?t.length:_.keys(t).length},_.partition=function(t,e,n){e=k(e,n);var i=[],r=[];return _.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},_.first=_.head=_.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:_.initial(t,t.length-e)},_.initial=function(t,e,n){return f.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},_.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:_.rest(t,Math.max(0,t.length-e))},_.rest=_.tail=_.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},_.compact=function(t){return _.filter(t,_.identity)};var I=function(t,e,n,i){for(var r=[],o=0,s=i||0,a=A(t);s<a;s++){var l=t[s];if(E(l)&&(_.isArray(l)||_.isArguments(l))){e||(l=I(l,e,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};_.flatten=function(t,e){return I(t,e,!1)},_.without=function(t){return _.difference(t,f.call(arguments,1))},_.uniq=_.unique=function(t,e,n,i){_.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=k(n,i));for(var r=[],o=[],s=0,a=A(t);s<a;s++){var l=t[s],c=n?n(l,s,t):l;e?(s&&o===c||r.push(l),o=c):n?_.contains(o,c)||(o.push(c),r.push(l)):_.contains(r,l)||r.push(l)}return r},_.union=function(){return _.uniq(I(arguments,!0,!0))},_.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=A(t);i<r;i++){var o=t[i];if(!_.contains(e,o)){for(var s=1;s<n&&_.contains(arguments[s],o);s++);s===n&&e.push(o)}}return e},_.difference=function(t){var e=I(arguments,!0,!0,1);return _.filter(t,function(t){return!_.contains(e,t)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(t){for(var e=t&&_.max(t,A).length||0,n=Array(e),i=0;i<e;i++)n[i]=_.pluck(t,i);return n},_.object=function(t,e){for(var n={},i=0,r=A(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},_.findIndex=o(1),_.findLastIndex=o(-1),_.sortedIndex=function(t,e,n,i){n=k(n,i,1);for(var r=n(e),o=0,s=A(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o},_.indexOf=s(1,_.findIndex,_.sortedIndex),_.lastIndexOf=s(-1,_.findLastIndex),_.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var O=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=T(t.prototype),s=t.apply(o,r);return _.isObject(s)?s:o};_.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,f.call(arguments,1));if(!_.isFunction(t))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),i=function(){return O(t,i,e,this,n.concat(f.call(arguments)))};return i},_.partial=function(t){var e=f.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),s=0;s<r;s++)o[s]=e[s]===_?arguments[i++]:e[s];for(;i<arguments.length;)o.push(arguments[i++]);return O(t,n,this,this,o)};return n},_.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=_.bind(t[n],t);return t},_.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return _.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},_.delay=function(t,e){var n=f.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},_.defer=_.partial(_.delay,_,1),_.throttle=function(t,e,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=n.leading===!1?0:_.now(),s=null,o=t.apply(i,r),s||(i=r=null)};return function(){var c=_.now();a||n.leading!==!1||(a=c);var u=e-(c-a);return i=this,r=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,o=t.apply(i,r),s||(i=r=null)):s||n.trailing===!1||(s=setTimeout(l,u)),o}},_.debounce=function(t,e,n){var i,r,o,s,a,l=function(){var c=_.now()-s;c<e&&c>=0?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=_.now();var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}},_.wrap=function(t,e){return _.partial(e,t)},_.negate=function(t){return function(){return!t.apply(this,arguments)}},_.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},_.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},_.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},_.once=_.partial(_.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),R=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(t){if(!_.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)_.has(t,n)&&e.push(n);return L&&a(t,e),e},_.allKeys=function(t){if(!_.isObject(t))return[];var e=[];for(var n in t)e.push(n);return L&&a(t,e),e},_.values=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},_.mapObject=function(t,e,n){e=k(e,n);for(var i,r=_.keys(t),o=r.length,s={},a=0;a<o;a++)i=r[a],s[i]=e(t[i],i,t);return s},_.pairs=function(t){for(var e=_.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},_.invert=function(t){for(var e={},n=_.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},_.functions=_.methods=function(t){var e=[];for(var n in t)_.isFunction(t[n])&&e.push(n);return e.sort()},_.extend=S(_.allKeys),_.extendOwn=_.assign=S(_.keys),_.findKey=function(t,e,n){e=k(e,n);for(var i,r=_.keys(t),o=0,s=r.length;o<s;o++)if(i=r[o],e(t[i],i,t))return i},_.pick=function(t,e,n){var i,r,o={},s=t;if(null==s)return o;_.isFunction(e)?(r=_.allKeys(s),i=C(e,n)):(r=I(arguments,!1,!1,1),i=function(t,e,n){return e in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},_.omit=function(t,e,n){if(_.isFunction(e))e=_.negate(e);else{var i=_.map(I(arguments,!1,!1,1),String);e=function(t,e){return!_.contains(i,e)}}return _.pick(t,e,n)},_.defaults=S(_.allKeys,!0),_.create=function(t,e){var n=T(t);return e&&_.extendOwn(n,e),n},_.clone=function(t){return _.isObject(t)?_.isArray(t)?t.slice():_.extend({},t):t},_.tap=function(t,e){return e(t),t},_.isMatch=function(t,e){var n=_.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0};var H=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof _&&(t=t._wrapped),e instanceof _&&(e=e._wrapped);var r=g.call(t);if(r!==g.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!H(t[l],e[l],n,i))return!1}else{var c,u=_.keys(t);if(l=u.length,_.keys(e).length!==l)return!1;for(;l--;)if(c=u[l],!_.has(e,c)||!H(t[c],e[c],n,i))return!1}return n.pop(),i.pop(),!0};_.isEqual=function(t,e){return H(t,e)},_.isEmpty=function(t){return null==t||(E(t)&&(_.isArray(t)||_.isString(t)||_.isArguments(t))?0===t.length:0===_.keys(t).length)},_.isElement=function(t){return!(!t||1!==t.nodeType)},_.isArray=v||function(t){return"[object Array]"===g.call(t)},_.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){_["is"+t]=function(e){return g.call(e)==="[object "+t+"]"}}),_.isArguments(arguments)||(_.isArguments=function(t){return _.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(t){return"function"==typeof t||!1}),_.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},_.isNaN=function(t){return _.isNumber(t)&&t!==+t},_.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===g.call(t)},_.isNull=function(t){return null===t},_.isUndefined=function(t){return void 0===t},_.has=function(t,e){return null!=t&&m.call(t,e)},_.noConflict=function(){return l._=c,this},_.identity=function(t){return t},_.constant=function(t){return function(){return t}},_.noop=function(){},_.property=M,_.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},_.matcher=_.matches=function(t){return t=_.extendOwn({},t),function(e){return _.isMatch(e,t)}},_.times=function(t,e,n){var i=Array(Math.max(0,t));e=C(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},_.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},_.now=Date.now||function(){return(new Date).getTime()};var z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=_.invert(z),N=function(t){var e=function(e){return t[e]},n="(?:"+_.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};_.escape=N(z),_.unescape=N(F),_.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),_.isFunction(i)?i.call(t):i};var B=0;_.uniqueId=function(t){var e=++B+"";return t?t+e:e},_.templateSettings={
evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var W=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(t){return"\\"+V[t]};_.template=function(t,e,n){!e&&n&&(e=n),e=_.defaults({},e,_.templateSettings);var i=RegExp([(e.escape||W).source,(e.interpolate||W).source,(e.evaluate||W).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,s,a){return o+=t.slice(r,a).replace(q,Y),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}var a=function(t){return s.call(this,t,_)},l=e.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},_.chain=function(t){var e=_(t);return e._chain=!0,e};var j=function(t,e){return t._chain?_(e).chain():e};_.mixin=function(t){_.each(_.functions(t),function(e){var n=_[e]=t[e];_.prototype[e]=function(){var t=[this._wrapped];return p.apply(t,arguments),j(this,n.apply(_,t))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=u[t];_.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],j(this,n)}}),_.each(["concat","join","slice"],function(t){var e=u[t];_.prototype[t]=function(){return j(this,e.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},i=[],r=function(){return _}.apply(e,i),!(void 0!==r&&(t.exports=r))}).call(this)},function(t,e,n){var i,r;n(11);!function(o,s){i=[n(11),n(12)],r=function(t,e){return o.Marionette=o.Mn=s(o,t,e)}.apply(e,i),!(void 0!==r&&(t.exports=r))}(this,function(t,e,n){"use strict";!function(t,e){var n=t.ChildViewContainer;return t.ChildViewContainer=function(t,e){var n=function(t){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),e.each(t,this.add,this)};e.extend(n.prototype,{add:function(t,e){var n=t.cid;return this._views[n]=t,t.model&&(this._indexByModel[t.model.cid]=n),e&&(this._indexByCustom[e]=n),this._updateLength(),this},findByModel:function(t){return this.findByModelCid(t.cid)},findByModelCid:function(t){var e=this._indexByModel[t];return this.findByCid(e)},findByCustom:function(t){var e=this._indexByCustom[t];return this.findByCid(e)},findByIndex:function(t){return e.values(this._views)[t]},findByCid:function(t){return this._views[t]},remove:function(t){var n=t.cid;return t.model&&delete this._indexByModel[t.model.cid],e.any(this._indexByCustom,function(t,e){if(t===n)return delete this._indexByCustom[e],!0},this),delete this._views[n],this._updateLength(),this},call:function(t){this.apply(t,e.tail(arguments))},apply:function(t,n){e.each(this._views,function(i){e.isFunction(i[t])&&i[t].apply(i,n||[])})},_updateLength:function(){this.length=e.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return e.each(i,function(t){n.prototype[t]=function(){var n=e.values(this._views),i=[n].concat(e.toArray(arguments));return e[t].apply(e,i)}}),n}(t,e),t.ChildViewContainer.VERSION="0.1.10",t.ChildViewContainer.noConflict=function(){return t.ChildViewContainer=n,this},t.ChildViewContainer}(e,n),function(t,e){var n=t.Wreqr,i=t.Wreqr={};return t.Wreqr.VERSION="1.3.5",t.Wreqr.noConflict=function(){return t.Wreqr=n,this},i.Handlers=function(t,e){var n=function(t){this.options=t,this._wreqrHandlers={},e.isFunction(this.initialize)&&this.initialize(t)};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events,{setHandlers:function(t){e.each(t,function(t,n){var i=null;e.isObject(t)&&!e.isFunction(t)&&(i=t.context,t=t.callback),this.setHandler(n,t,i)},this)},setHandler:function(t,e,n){var i={callback:e,context:n};this._wreqrHandlers[t]=i,this.trigger("handler:add",t,e,n)},hasHandler:function(t){return!!this._wreqrHandlers[t]},getHandler:function(t){var e=this._wreqrHandlers[t];if(e)return function(){return e.callback.apply(e.context,arguments)}},removeHandler:function(t){delete this._wreqrHandlers[t]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(t,e),i.CommandStorage=function(){var n=function(t){this.options=t,this._commands={},e.isFunction(this.initialize)&&this.initialize(t)};return e.extend(n.prototype,t.Events,{getCommands:function(t){var e=this._commands[t];return e||(e={command:t,instances:[]},this._commands[t]=e),e},addCommand:function(t,e){var n=this.getCommands(t);n.instances.push(e)},clearCommands:function(t){var e=this.getCommands(t);e.instances=[]}}),n}(),i.Commands=function(t,e){return t.Handlers.extend({storageType:t.CommandStorage,constructor:function(e){this.options=e||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),t.Handlers.prototype.constructor.apply(this,arguments)},execute:function(t){t=arguments[0];var n=e.rest(arguments);this.hasHandler(t)?this.getHandler(t).apply(this,n):this.storage.addCommand(t,n)},_executeCommands:function(t,n,i){var r=this.storage.getCommands(t);e.each(r.instances,function(t){n.apply(i,t)}),this.storage.clearCommands(t)},_initializeStorage:function(t){var n,i=t.storageType||this.storageType;n=e.isFunction(i)?new i:i,this.storage=n}})}(i,e),i.RequestResponse=function(t,e){return t.Handlers.extend({request:function(t){if(this.hasHandler(t))return this.getHandler(t).apply(this,e.rest(arguments))}})}(i,e),i.EventAggregator=function(t,e){var n=function(){};return n.extend=t.Model.extend,e.extend(n.prototype,t.Events),n}(t,e),i.Channel=function(n){var i=function(e){this.vent=new t.Wreqr.EventAggregator,this.reqres=new t.Wreqr.RequestResponse,this.commands=new t.Wreqr.Commands,this.channelName=e};return e.extend(i.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(t,e){return this._connect("vent",t,e),this},connectCommands:function(t,e){return this._connect("commands",t,e),this},connectRequests:function(t,e){return this._connect("reqres",t,e),this},_connect:function(t,n,i){if(n){i=i||this;var r="vent"===t?"on":"setHandler";e.each(n,function(n,o){this[t][r](o,e.bind(n,i))},this)}}}),i}(i),i.radio=function(t,e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};e.extend(n.prototype,{channel:function(t){if(!t)throw new Error("Channel must receive a name");return this._getChannel(t)},_getChannel:function(e){var n=this._channels[e];return n||(n=new t.Channel(e),this._channels[e]=n),n},_proxyMethods:function(){e.each(["vent","commands","reqres"],function(t){e.each(i[t],function(e){this[t][e]=r(this,t,e)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(t,n,i){return function(r){var o=t._getChannel(r)[n];return o[i].apply(o,e.rest(arguments))}};return new n}(i,e),t.Wreqr}(e,n);var i=t.Marionette,r=t.Mn,o=e.Marionette={};o.VERSION="2.4.4",o.noConflict=function(){return t.Marionette=i,t.Mn=r,this},e.Marionette=o,o.Deferred=e.$.Deferred,o.extend=e.Model.extend,o.isNodeAttached=function(t){return e.$.contains(document.documentElement,t)},o.mergeOptions=function(t,e){t&&n.extend(this,n.pick(t,e))},o.getOption=function(t,e){if(t&&e)return t.options&&void 0!==t.options[e]?t.options[e]:t[e]},o.proxyGetOption=function(t){return o.getOption(this,t)},o._getValue=function(t,e,i){return n.isFunction(t)&&(t=i?t.apply(e,i):t.call(e)),t},o.normalizeMethods=function(t){return n.reduce(t,function(t,e,i){return n.isFunction(e)||(e=this[e]),e&&(t[i]=e),t},{},this)},o.normalizeUIString=function(t,e){return t.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(t){return e[t.slice(4)]})},o.normalizeUIKeys=function(t,e){return n.reduce(t,function(t,n,i){var r=o.normalizeUIString(i,e);return t[r]=n,t},{})},o.normalizeUIValues=function(t,e,i){return n.each(t,function(r,s){n.isString(r)?t[s]=o.normalizeUIString(r,e):n.isObject(r)&&n.isArray(i)&&(n.extend(r,o.normalizeUIValues(n.pick(r,i),e)),n.each(i,function(t){var i=r[t];n.isString(i)&&(r[t]=o.normalizeUIString(i,e))}))}),t},o.actAsCollection=function(t,e){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){t[i]=function(){var t=n.values(n.result(this,e)),r=[t].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var s=o.deprecate=function(t,e){n.isObject(t)&&(t=t.prev+" is going to be removed in the future. Please use "+t.next+" instead."+(t.url?" See: "+t.url:"")),void 0!==e&&e||s._cache[t]||(s._warn("Deprecation warning: "+t),s._cache[t]=!0)};s._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},s._cache={},o._triggerMethod=function(){function t(t,e,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi;return function(i,r,o){var s=arguments.length<3;s&&(o=r,r=o[0]);var a,l="on"+r.replace(e,t),c=i[l];return n.isFunction(c)&&(a=c.apply(i,s?n.rest(o):o)),n.isFunction(i.trigger)&&(s+o.length>1?i.trigger.apply(i,s?o:[r].concat(n.drop(o,0))):i.trigger(r)),a}}(),o.triggerMethod=function(t){return o._triggerMethod(this,arguments)},o.triggerMethodOn=function(t){var e=n.isFunction(t.triggerMethod)?t.triggerMethod:o.triggerMethod;return e.apply(t,n.rest(arguments))},o.MonitorDOMRefresh=function(t){function e(){t._isShown=!0,i()}function n(){t._isRendered=!0,i()}function i(){t._isShown&&t._isRendered&&o.isNodeAttached(t.el)&&o.triggerMethodOn(t,"dom:refresh",t)}t._isDomRefreshMonitored||(t._isDomRefreshMonitored=!0,t.on({show:e,render:n}))},function(t){function e(e,i,r,o){var s=o.split(/\s+/);n.each(s,function(n){var o=e[n];if(!o)throw new t.Error('Method "'+n+'" was configured as an event handler, but does not exist.');e.listenTo(i,r,o)})}function i(t,e,n,i){t.listenTo(e,n,i)}function r(t,e,i,r){var o=r.split(/\s+/);n.each(o,function(n){var r=t[n];t.stopListening(e,i,r)})}function o(t,e,n,i){t.stopListening(e,n,i)}function s(e,i,r,o,s){if(i&&r){if(!n.isObject(r))throw new t.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=t._getValue(r,e),n.each(r,function(t,r){n.isFunction(t)?o(e,i,r,t):s(e,i,r,t)})}}t.bindEntityEvents=function(t,n,r){s(t,n,r,i,e)},t.unbindEntityEvents=function(t,e,n){s(t,e,n,o,r)},t.proxyBindEntityEvents=function(e,n){return t.bindEntityEvents(this,e,n)},t.proxyUnbindEntityEvents=function(e,n){return t.unbindEntityEvents(this,e,n)}}(o);var a=["description","fileName","lineNumber","name","message","number"];return o.Error=o.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+o.VERSION+"/",constructor:function(t,e){n.isObject(t)?(e=t,t=e.message):e||(e={});var i=Error.call(this,t);n.extend(this,n.pick(i,a),n.pick(e,a)),this.captureStackTrace(),e.url&&(this.url=this.urlRoot+e.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,o.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),o.Error.extend=o.extend,o.Callbacks=function(){this._deferred=o.Deferred(),this._callbacks=[]},n.extend(o.Callbacks.prototype,{add:function(t,e){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:t,ctx:e}),i.then(function(n){e&&(n.context=e),t.call(n.context,n.options)})},run:function(t,e){this._deferred.resolve({options:t,context:e})},reset:function(){var t=this._callbacks;this._deferred=o.Deferred(),this._callbacks=[],n.each(t,function(t){this.add(t.cb,t.ctx)},this)}}),o.Controller=function(t){this.options=t||{},n.isFunction(this.initialize)&&this.initialize(this.options)},o.Controller.extend=o.extend,n.extend(o.Controller.prototype,e.Events,{destroy:function(){return o._triggerMethod(this,"before:destroy",arguments),o._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption}),o.Object=function(t){this.options=n.extend({},n.result(this,"options"),t),this.initialize.apply(this,arguments)},o.Object.extend=o.extend,n.extend(o.Object.prototype,e.Events,{initialize:function(){},destroy:function(t){return t=t||{},this.triggerMethod("before:destroy",t),this.triggerMethod("destroy",t),this.stopListening(),this},triggerMethod:o.triggerMethod,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Region=o.Object.extend({constructor:function(t){if(this.options=t||{},this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new o.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),o.Object.call(this,t)},show:function(t,e){if(this._ensureElement()){this._ensureViewIsIntact(t),o.MonitorDOMRefresh(t);var i=e||{},r=t!==this.currentView,s=!!i.preventDestroy,a=!!i.forceShow,l=!!this.currentView,c=r&&!s,u=r||a;if(l&&this.triggerMethod("before:swapOut",this.currentView,this,e),this.currentView&&delete this.currentView._parent,c?this.empty():l&&u&&this.currentView.off("destroy",this.empty,this),u){t.once("destroy",this.empty,this),t._parent=this,this._renderView(t),l&&this.triggerMethod("before:swap",t,this,e),this.triggerMethod("before:show",t,this,e),o.triggerMethodOn(t,"before:show",t,this,e),l&&this.triggerMethod("swapOut",this.currentView,this,e);var h=o.isNodeAttached(this.el),d=[],p=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},i);return h&&p.triggerBeforeAttach&&(d=this._displayedViews(t),this._triggerAttach(d,"before:")),this.attachHtml(t),this.currentView=t,h&&p.triggerAttach&&(d=this._displayedViews(t),this._triggerAttach(d)),l&&this.triggerMethod("swap",t,this,e),this.triggerMethod("show",t,this,e),o.triggerMethodOn(t,"show",t,this,e),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(t,e){var i=(e||"")+"attach";n.each(t,function(t){o.triggerMethodOn(t,i,t,this)},this)},_displayedViews:function(t){return n.union([t],n.result(t,"_getNestedViews")||[])},_renderView:function(t){t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new o.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(t){if(!t)throw new o.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'})},getEl:function(t){return e.$(t,o._getValue(this.options.parentEl,this))},attachHtml:function(t){this.$el.contents().detach(),this.el.appendChild(t.el)},empty:function(t){var e=this.currentView,n=t||{},i=!!n.preventDestroy;return e?(e.off("destroy",this.empty,this),this.triggerMethod("before:empty",e),i||this._destroyView(),this.triggerMethod("empty",e),delete this.currentView,i&&this.$el.contents().detach(),this):this},_destroyView:function(){var t=this.currentView;t.isDestroyed||(t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),t.destroy?t.destroy():(t.remove(),t.isDestroyed=!0),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t))},attachView:function(t){return this.currentView&&delete this.currentView._parent,t._parent=this,this.currentView=t,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(t,e){if(n.isString(t))return this._buildRegionFromSelector(t,e);if(t.selector||t.el||t.regionClass)return this._buildRegionFromObject(t,e);if(n.isFunction(t))return this._buildRegionFromRegionClass(t);throw new o.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(t,e){return new e({el:t})},_buildRegionFromObject:function(t,e){var i=t.regionClass||e,r=n.omit(t,"selector","regionClass");return t.selector&&!r.el&&(r.el=t.selector),new i(r)},_buildRegionFromRegionClass:function(t){return new t}}),o.RegionManager=o.Controller.extend({constructor:function(t){this._regions={},this.length=0,o.Controller.call(this,t),this.addRegions(this.getOption("regions"))},addRegions:function(t,e){return t=o._getValue(t,this,arguments),n.reduce(t,function(t,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,e)),t[r]=this.addRegion(r,i),t},{},this)},addRegion:function(t,e){var n;return n=e instanceof o.Region?e:o.Region.buildRegion(e,o.Region),this.triggerMethod("before:add:region",t,n),n._parent=this,this._store(t,n),this.triggerMethod("add:region",t,n),n},get:function(t){return this._regions[t]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(t){var e=this._regions[t];return this._remove(t,e),e},removeRegions:function(){var t=this.getRegions();return n.each(this._regions,function(t,e){this._remove(e,t)},this),t},emptyRegions:function(){var t=this.getRegions();return n.invoke(t,"empty"),t},destroy:function(){return this.removeRegions(),o.Controller.prototype.destroy.apply(this,arguments)},_store:function(t,e){this._regions[t]||this.length++,this._regions[t]=e},_remove:function(t,e){this.triggerMethod("before:remove:region",t,e),e.empty(),e.stopListening(),delete e._parent,delete this._regions[t],this.length--,this.triggerMethod("remove:region",t,e)}}),o.actAsCollection(o.RegionManager.prototype,"_regions"),o.TemplateCache=function(t){this.templateId=t},n.extend(o.TemplateCache,{templateCaches:{},get:function(t,e){var n=this.templateCaches[t];return n||(n=new o.TemplateCache(t),this.templateCaches[t]=n),n.load(e)},clear:function(){var t,e=n.toArray(arguments),i=e.length;if(i>0)for(t=0;t<i;t++)delete this.templateCaches[e[t]];else this.templateCaches={}}}),n.extend(o.TemplateCache.prototype,{load:function(t){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId,t);return this.compiledTemplate=this.compileTemplate(e,t),this.compiledTemplate},loadTemplate:function(t,n){var i=e.$(t);if(!i.length)throw new o.Error({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return i.html()},compileTemplate:function(t,e){return n.template(t,e)}}),o.Renderer={render:function(t,e){if(!t)throw new o.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(t)?t:o.TemplateCache.get(t);return i(e)}},o.View=e.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(t){this.render=n.bind(this.render,this),t=o._getValue(t,this),this.options=n.extend({},n.result(this,"options"),t),this._behaviors=o.Behaviors(this),e.View.call(this,this.options),o.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(t){return t.toJSON.apply(t,n.rest(arguments))},mixinTemplateHelpers:function(t){t=t||{};var e=this.getOption("templateHelpers");return e=o._getValue(e,this),n.extend(t,e)},normalizeUIKeys:function(t){var e=n.result(this,"_uiBindings");return o.normalizeUIKeys(t,e||n.result(this,"ui"))},normalizeUIValues:function(t,e){var i=n.result(this,"ui"),r=n.result(this,"_uiBindings");return o.normalizeUIValues(t,r||i,e)},configureTriggers:function(){if(this.triggers){var t=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(t,function(t,e,n){return t[n]=this._buildViewTrigger(e),t},{},this)}},delegateEvents:function(t){return this._delegateDOMEvents(t),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.bindEntityEvents(this.model,t.getOption("modelEvents")),t.bindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(t){var i=o._getValue(t||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(t)&&(this.events=i);var r={},s=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),l=n.result(this,"behaviorTriggers")||{};n.extend(r,s,i,a,l),e.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return e.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(t){t.unbindEntityEvents(this.model,t.getOption("modelEvents")),t.unbindEntityEvents(this.collection,t.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new o.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var t=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(t)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(t)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",t),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var t=n.result(this,"_uiBindings");this.ui={},n.each(t,function(t,e){this.ui[e]=this.$(t)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(t,e){delete this.ui[e]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(t){var e=n.defaults({},t,{preventDefault:!0,stopPropagation:!0}),i=n.isObject(t)?e.event:t;return function(t){t&&(t.preventDefault&&e.preventDefault&&t.preventDefault(),t.stopPropagation&&e.stopPropagation&&t.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,n)}},setElement:function(){var t=e.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),t},triggerMethod:function(){var t=o._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),t},_triggerEventOnBehaviors:function(t){for(var e=o._triggerMethod,n=this._behaviors,i=0,r=n&&n.length;i<r;i++)e(n[i],t)},_triggerEventOnParentLayout:function(t,e){var i=this._parentLayoutView();if(i){var r=o.getOption(i,"childViewEventPrefix"),s=r+":"+t,a=[this].concat(e);o._triggerMethod(i,s,a);var l=o.getOption(i,"childEvents");l=o._getValue(l,i);var c=i.normalizeMethods(l);c&&n.isFunction(c[t])&&c[t].apply(i,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var t=this._getImmediateChildren();return t.length?n.reduce(t,function(t,e){return e._getNestedViews?t.concat(e._getNestedViews()):t},t):t},_parentLayoutView:function(){for(var t=this._parent;t;){if(t instanceof o.LayoutView)return t;t=t._parent}},normalizeMethods:o.normalizeMethods,mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.ItemView=o.View.extend({constructor:function(){o.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var t=[this.model||this.collection];return arguments.length&&t.push.apply(t,arguments),this.model?this.serializeModel.apply(this,t):{items:this.serializeCollection.apply(this,t)}},serializeCollection:function(t){return t.toJSON.apply(t,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var t=this.getTemplate();if(t!==!1){if(!t)throw new o.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var e=this.mixinTemplateHelpers(this.serializeData()),n=o.Renderer.render(t,e,this);return this.attachElContent(n),this}},attachElContent:function(t){return this.$el.html(t),this}}),o.CollectionView=o.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(t){this.once("render",this._initialEvents),this._initChildViewStorage(),o.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var t,e=this._isShown&&o.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),e&&this._triggerBeforeAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),e&&this._triggerAttach&&(t=this._getNestedViews(),this._triggerMethodMany(t,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(t,e,i){var r=n.drop(arguments,3);n.each(t,function(t){o.triggerMethodOn.apply(t,[t,i,t,e].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(t,e,i){var r=void 0!==i.at&&(i.index||e.indexOf(t));if((this.getOption("filter")||r===!1)&&(r=n.indexOf(this._filteredSortedModels(r),t)),this._shouldAddChild(t,r)){this.destroyEmptyView();var o=this.getChildView(t);this.addChild(t,o,r)}},_onCollectionRemove:function(t){var e=this.children.findByModel(t);this.removeChildView(e),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(t){o.triggerMethodOn(t,"before:show",t)})},_onShowCalled:function(){this.children.each(function(t){o.triggerMethodOn(t,"show",t)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var t=this.children,e=this._filteredSortedModels(),i=n.some(e,function(e){return!t.findByModel(e)});if(i)this.render();else{var r=n.map(e,function(e,n){var i=t.findByModel(e);return i._index=n,i.el}),o=t.filter(function(t){return!n.contains(r,t.el)});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),n.each(o,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){o.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var t=this._filteredSortedModels(),e=n.find(t,function(t,e){var n=this.children.findByModel(t);return!n||n._index!==e},this);e&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(t){this.$el.append(t)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var t,e=this._filteredSortedModels();n.each(e,function(e,n){t=this.getChildView(e),this.addChild(e,t,n)},this)},_filteredSortedModels:function(t){var e=this.getViewComparator(),i=this.collection.models;if(t=Math.min(Math.max(t,0),i.length-1),e){var r;t&&(r=i[t],i=i.slice(0,t).concat(i.slice(t+1))),i=this._sortModelsBy(i,e),r&&i.splice(t,0,r)}return this.getOption("filter")&&(i=n.filter(i,function(t,e){return this._shouldAddChild(t,e)},this)),i},_sortModelsBy:function(t,e){return"string"==typeof e?n.sortBy(t,function(t){return t.get(e)},this):1===e.length?n.sortBy(t,e,this):t.sort(n.bind(e,this))},showEmptyView:function(){var t=this.getEmptyView();if(t&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new e.Model;this.addEmptyView(n,t),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(t,e){var i,r=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el),s=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(s)&&(s=s.call(this,t,this._emptyViewIndex));var a=this.buildChildView(t,e,s);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&o.triggerMethodOn(a,"before:show",a),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"attach")),this._isShown&&o.triggerMethodOn(a,"show",a)},getChildView:function(t){var e=this.getOption("childView");if(!e)throw new o.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return e},addChild:function(t,e,n){var i=this.getOption("childViewOptions");i=o._getValue(i,this,[t,n]);var r=this.buildChildView(t,e,i);return this._updateIndices(r,!0,n),this.triggerMethod("before:add:child",r),this._addChildView(r,n),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(t,e,n){this.getOption("sort")&&(e&&(t._index=n),this.children.each(function(n){n._index>=t._index&&(n._index+=e?1:-1)}))},_addChildView:function(t,e){var n,i=this._isShown&&!this.isBuffering&&o.isNodeAttached(this.el);this.proxyChildEvents(t),t.once("render",function(){this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"before:show",t),i&&this._triggerBeforeAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(t),this.renderChildView(t,e),i&&this._triggerAttach&&(n=this._getViewAndNested(t),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&o.triggerMethodOn(t,"show",t)},renderChildView:function(t,e){return t.supportsRenderLifecycle||o.triggerMethodOn(t,"before:render",t),t.render(),t.supportsRenderLifecycle||o.triggerMethodOn(t,"render",t),this.attachHtml(this,t,e),t},buildChildView:function(t,e,i){var r=n.extend({model:t},i),s=new e(r);return o.MonitorDOMRefresh(s),s},removeChildView:function(t){return t?(this.triggerMethod("before:remove:child",t),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"before:destroy",t),
t.destroy?t.destroy():t.remove(),t.supportsDestroyLifecycle||o.triggerMethodOn(t,"destroy",t),delete t._parent,this.stopListening(t),this.children.remove(t),this.triggerMethod("remove:child",t),this._updateIndices(t,!1),t):t},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(t,e){t.$el.append(e)},_createBuffer:function(){var t=document.createDocumentFragment();return n.each(this._bufferedChildren,function(e){t.appendChild(e.el)}),t},attachHtml:function(t,e,n){t.isBuffering?t._bufferedChildren.splice(n,0,e):t._insertBefore(e,n)||t._insertAfter(e)},_insertBefore:function(t,e){var n,i=this.getOption("sort")&&e<this.children.length-1;return i&&(n=this.children.find(function(t){return t._index===e+1})),!!n&&(n.$el.before(t.el),!0)},_insertAfter:function(t){this.$el.append(t.el)},_initChildViewStorage:function(){this.children=new e.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),o.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(t){var e=t||{},i=!0,r=this.children.map(n.identity);return n.isUndefined(e.checkEmpty)||(i=e.checkEmpty),this.children.each(this.removeChildView,this),i&&this.checkEmpty(),r},_shouldAddChild:function(t,e){var i=this.getOption("filter");return!n.isFunction(i)||i.call(this,t,e,this.collection)},proxyChildEvents:function(t){var e=this.getOption("childViewEventPrefix");this.listenTo(t,"all",function(){var i=n.toArray(arguments),r=i[0],o=this.normalizeMethods(n.result(this,"childEvents"));i[0]=e+":"+r,i.splice(1,0,t),"undefined"!=typeof o&&n.isFunction(o[r])&&o[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)})},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(t){return[t].concat(n.result(t,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),o.CompositeView=o.CollectionView.extend({constructor:function(){o.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(t){var e=this.getOption("childView")||this.constructor;return e},serializeData:function(){var t={};return this.model&&(t=n.partial(this.serializeModel,this.model).apply(this,arguments)),t},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&o.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var t={};t=this.serializeData(),t=this.mixinTemplateHelpers(t),this.triggerMethod("before:render:template");var e=this.getTemplate(),n=o.Renderer.render(e,t,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(t){return this.$el.html(t),this},attachBuffer:function(t,e){var n=this.getChildViewContainer(t);n.append(e)},_insertAfter:function(t){var e=this.getChildViewContainer(this,t);e.append(t.el)},_appendReorderedChildren:function(t){var e=this.getChildViewContainer(this);e.append(t)},getChildViewContainer:function(t,e){if(t.$childViewContainer)return t.$childViewContainer;var n,i=o.getOption(t,"childViewContainer");if(i){var r=o._getValue(i,t);if(n="@"===r.charAt(0)&&t.ui?t.ui[r.substr(4)]:t.$(r),n.length<=0)throw new o.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+t.childViewContainer})}else n=t.$el;return t.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),o.LayoutView=o.ItemView.extend({regionClass:o.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(t){t=t||{},this._firstRender=!0,this._initializeRegions(t),o.ItemView.call(this,t)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),o.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),o.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(t,e,i){var r=this.getRegion(t);return r.show.apply(r,n.rest(arguments))},getChildView:function(t){return this.getRegion(t).currentView},addRegion:function(t,e){var n={};return n[t]=e,this._buildRegions(n)[t]},addRegions:function(t){return this.regions=n.extend({},this.regions,t),this._buildRegions(t)},removeRegion:function(t){return delete this.regions[t],this.regionManager.removeRegion(t)},getRegion:function(t){return this.regionManager.get(t)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(t){var e={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(t,e)},_initializeRegions:function(t){var e;this._initRegionManager(),e=o._getValue(this.regions,this,[t])||{};var i=this.getOption.call(t,"regions");i=o._getValue(i,this,[t]),n.extend(e,i),e=this.normalizeUIValues(e,["selector","el"]),this.addRegions(e)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new o.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(t){this.triggerMethod("before:add:region",t)}),this.listenTo(this.regionManager,"add:region",function(t,e){this[t]=e,this.triggerMethod("add:region",t,e)}),this.listenTo(this.regionManager,"before:remove:region",function(t){this.triggerMethod("before:remove:region",t)}),this.listenTo(this.regionManager,"remove:region",function(t,e){delete this[t],this.triggerMethod("remove:region",t,e)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),o.Behavior=o.Object.extend({constructor:function(t,e){this.view=e,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,t),this.ui=n.extend({},n.result(e,"ui"),n.result(this,"ui")),o.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(t){this.$el=t.$el,this.el=t.el}}),o.Behaviors=function(t,e){function n(t,i){return e.isObject(t.behaviors)?(i=n.parseBehaviors(t,i||e.result(t,"behaviors")),n.wrap(t,i,e.keys(s)),i):{}}function i(t,e){this._view=t,this._behaviors=e,this._triggers={}}function r(t){return t._uiBindings||t.ui}var o=/^(\S+)\s*(.*)$/,s={behaviorTriggers:function(t,e){var n=new i(this,e);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var s={};return e.each(i,function(n,i){var a={},l=e.clone(e.result(n,"events"))||{};l=t.normalizeUIKeys(l,r(n));var c=0;e.each(l,function(t,r){var s=r.match(o),l=s[1]+"."+[this.cid,i,c++," "].join(""),u=s[2],h=l+u,d=e.isFunction(t)?t:n[t];a[h]=e.bind(d,n)},this),s=e.extend(s,a)},this),s}};return e.extend(n,{behaviorsLookup:function(){throw new t.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(e,i){return e.behaviorClass?e.behaviorClass:t._getValue(n.behaviorsLookup,this,[e,i])[i]},parseBehaviors:function(t,i){return e.chain(i).map(function(i,r){var o=n.getBehaviorClass(i,r),s=new o(i,t),a=n.parseBehaviors(t,e.result(s,"behaviors"));return[s].concat(a)}).flatten().value()},wrap:function(t,n,i){e.each(i,function(i){t[i]=e.partial(s[i],t[i],n)})}}),e.extend(i.prototype,{buildBehaviorTriggers:function(){return e.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var o=e.clone(e.result(n,"triggers"))||{};o=t.normalizeUIKeys(o,r(n)),e.each(o,e.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(t,e,n,i){var r=i.replace(/^\S+/,function(t){return t+".behaviortriggers"+e});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(o,n),o.AppRouter=e.Router.extend({constructor:function(t){this.options=t||{},e.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(t,e){var n=this._getController();this._addAppRoute(n,t,e)},_processOnRoute:function(t,e){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[t];this.onRoute(t,i,e)}},processAppRoutes:function(t,e){if(e){var i=n.keys(e).reverse();n.each(i,function(n){this._addAppRoute(t,n,e[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,e,i){var r=t[i];if(!r)throw new o.Error('Method "'+i+'" was not found on the controller');this.route(e,i,n.bind(r,t))},mergeOptions:o.mergeOptions,getOption:o.proxyGetOption,triggerMethod:o.triggerMethod,bindEntityEvents:o.proxyBindEntityEvents,unbindEntityEvents:o.proxyUnbindEntityEvents}),o.Application=o.Object.extend({constructor:function(t){this._initializeRegions(t),this._initCallbacks=new o.Callbacks,this.submodules={},n.extend(this,t),this._initChannel(),o.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(t){this._initCallbacks.add(t)},start:function(t){this.triggerMethod("before:start",t),this._initCallbacks.run(t,this),this.triggerMethod("start",t)},addRegions:function(t){return this._regionManager.addRegions(t)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(t){return this._regionManager.removeRegion(t)},getRegion:function(t){return this._regionManager.get(t)},getRegions:function(){return this._regionManager.getRegions()},module:function(t,e){var i=o.Module.getClass(e),r=n.toArray(arguments);return r.unshift(this),i.create.apply(i,r)},getRegionManager:function(){return new o.RegionManager},_initializeRegions:function(t){var e=n.isFunction(this.regions)?this.regions(t):this.regions||{};this._initRegionManager();var i=o.getOption(t,"regions");return n.isFunction(i)&&(i=i.call(this,t)),n.extend(e,i),this.addRegions(e),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){o._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(t,e){this[t]=e,o._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){o._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(t){delete this[t],o._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||e.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),o.Module=function(t,e,i){this.moduleName=t,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=e,n.isFunction(this.initialize)&&this.initialize(t,e,this.options)},o.Module.extend=o.extend,n.extend(o.Module.prototype,e.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(t){this._initializerCallbacks.add(t)},addFinalizer:function(t){this._finalizerCallbacks.add(t)},start:function(t){this._isInitialized||(n.each(this.submodules,function(e){e.startWithParent&&e.start(t)}),this.triggerMethod("before:start",t),this._initializerCallbacks.run(t,this),this._isInitialized=!0,this.triggerMethod("start",t))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(t,e){this._runModuleDefinition(t,e)},_runModuleDefinition:function(t,i){if(t){var r=n.flatten([this,this.app,e,o,e.$,n,i]);t.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new o.Callbacks,this._finalizerCallbacks=new o.Callbacks},triggerMethod:o.triggerMethod}),n.extend(o.Module,{create:function(t,e,i){var r=t,o=n.drop(arguments,3);e=e.split(".");var s=e.length,a=[];return a[s-1]=i,n.each(e,function(e,n){var s=r;r=this._getModule(s,e,t,i),this._addModuleDefinition(s,r,a[n],o)},this),r},_getModule:function(t,e,i,r,o){var s=n.extend({},r),a=this.getClass(r),l=t[e];return l||(l=new a(e,i,s),t[e]=l,t.submodules[e]=l),l},getClass:function(t){var e=o.Module;return t?t.prototype instanceof e?t:t.moduleClass||e:e},_addModuleDefinition:function(t,e,n,i){var r=this._getDefine(n),o=this._getStartWithParent(n,e);r&&e.addDefinition(r,i),this._addStartWithParent(t,e,o)},_getStartWithParent:function(t,e){var i;return n.isFunction(t)&&t.prototype instanceof o.Module?(i=e.constructor.prototype.startWithParent,!!n.isUndefined(i)||i):!n.isObject(t)||(i=t.startWithParent,!!n.isUndefined(i)||i)},_getDefine:function(t){return!n.isFunction(t)||t.prototype instanceof o.Module?n.isObject(t)?t.define:null:t},_addStartWithParent:function(t,e,n){e.startWithParent=e.startWithParent&&n,e.startWithParent&&!e.startWithParentIsConfigured&&(e.startWithParentIsConfigured=!0,t.addInitializer(function(t){e.startWithParent&&e.start(t)}))}}),o})},function(t,e,n){e.Drawer=n(15),e.Main=n(21),e.Basic=n(24),e.Index=n(26),e.Navigator=n(28)},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(3),i=n(2),o=n(16),r=n(13),l=n(17),n(20),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.channel=o.channel("root"),this.channel.reply({"drawer:open":function(t){return function(){t.api.open()}}(this),"drawer:close":function(t){return function(){t.api.close()}}(this)})}return c(e,t),e.prototype.template=l,e.prototype.className="mm-light",e.prototype.tagName="nav",e.prototype.ui={menu:".drawer-menu"},e.prototype.events={"click #drawer-home":function(){this.channel.request("home"),this.api.close()},"click #drawer-journals":function(){this.channel.request("strengths"),this.api.close()},"click #drawer-schedule":function(){this.channel.request("schedule"),this.api.close()},"click #drawer-calendar":function(){this.channel.request("calendar"),this.api.close()},"click #drawer-weights":function(){this.channel.request("weights"),this.api.close()},"click #drawer-profile":function(){this.channel.request("profile"),this.api.close()},"click #drawer-account":function(){this.channel.request("account"),this.api.close()},"click #drawer-logout":function(){this.channel.request("logout"),this.api.close()}},e.prototype.onShow=function(){var t;t=i(this.el),t.mmenu({extensions:["border-full","pagedim-black","pageshadow"],offCanvas:{zposition:"front"},navbars:[{position:"bottom",content:["<span>WorkoutRank</span>"]}]},{offCanvas:{pageSelector:"#drawer"}}),this.api=t.mmenu().data("mmenu")},e}(r.ItemView),t.exports=s},function(t,e,n){n(11);!function(e,i){t.exports=i(n(12),n(11))}(this,function(t,e){"use strict";function n(t,e,n,i){var r=t[e];if(!(n&&n!==r.callback&&n!==r.callback._callback||i&&i!==r.context))return delete t[e],!0}function i(e,i,r,o){e||(e={});for(var s=i?[i]:t.keys(e),a=!1,l=0,c=s.length;l<c;l++)i=s[l],e[i]&&n(e,i,r,o)&&(a=!0);return a}function r(e){return u[e]||(u[e]=t.bind(l.log,l,e))}function o(e){return t.isFunction(e)?e:function(){return e}}t="default"in t?t.default:t,e="default"in e?e.default:e;var s={};s.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var a=e.Radio,l=e.Radio={};l.VERSION="1.0.4",l.noConflict=function(){return e.Radio=a,this},l.DEBUG=!1,l._debugText=function(t,e,n){return t+(n?" on the "+n+" channel":"")+': "'+e+'"'},l.debugLog=function(t,e,n){l.DEBUG&&console&&console.warn&&console.warn(l._debugText(t,e,n))};var c=/\s+/;l._eventsApi=function(e,n,i,r){if(!i)return!1;var o={};if("object"===("undefined"==typeof i?"undefined":s.typeof(i))){for(var a in i){var l=e[n].apply(e,[a,i[a]].concat(r));c.test(a)?t.extend(o,l):o[a]=l}return o}if(c.test(i)){for(var u=i.split(c),h=0,d=u.length;h<d;h++)o[u[h]]=e[n].apply(e,[u[h]].concat(r));return o}return!1},l._callHandler=function(t,e,n){var i=n[0],r=n[1],o=n[2];switch(n.length){case 0:return t.call(e);case 1:return t.call(e,i);case 2:return t.call(e,i,r);case 3:return t.call(e,i,r,o);default:return t.apply(e,n)}};var u={};t.extend(l,{log:function(e,n){if("undefined"!=typeof console){var i=t.toArray(arguments).slice(2);console.log("["+e+'] "'+n+'"',i)}},tuneIn:function(t){var e=l.channel(t);return e._tunedIn=!0,e.on("all",r(t)),this},tuneOut:function(t){var e=l.channel(t);return e._tunedIn=!1,e.off("all",r(t)),delete u[t],this}}),l.Requests={request:function(e){var n=t.toArray(arguments).slice(1),i=l._eventsApi(this,"request",e,n);if(i)return i;var r=this.channelName,o=this._requests;if(r&&this._tunedIn&&l.log.apply(this,[r,e].concat(n)),o&&(o[e]||o.default)){var s=o[e]||o.default;return n=o[e]?n:arguments,l._callHandler(s.callback,s.context,n)}l.debugLog("An unhandled request was fired",e,r)},reply:function(t,e,n){return l._eventsApi(this,"reply",t,[e,n])?this:(this._requests||(this._requests={}),this._requests[t]&&l.debugLog("A request was overwritten",t,this.channelName),this._requests[t]={callback:o(e),context:n||this},this)},replyOnce:function(e,n,i){if(l._eventsApi(this,"replyOnce",e,[n,i]))return this;var r=this,s=t.once(function(){return r.stopReplying(e),o(n).apply(this,arguments)});return this.reply(e,s,i)},stopReplying:function(t,e,n){return l._eventsApi(this,"stopReplying",t)?this:(t||e||n?i(this._requests,t,e,n)||l.debugLog("Attempted to remove the unregistered request",t,this.channelName):delete this._requests,this)}},l._channels={},l.channel=function(t){if(!t)throw new Error("You must provide a name for the channel.");return l._channels[t]?l._channels[t]:l._channels[t]=new l.Channel(t)},l.Channel=function(t){this.channelName=t},t.extend(l.Channel.prototype,e.Events,l.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var h,d,p=[e.Events,l.Requests];return t.each(p,function(e){t.each(e,function(e,n){l[n]=function(e){return d=t.toArray(arguments).slice(1),h=this.channel(e),h[n].apply(h,d)}})}),l.reset=function(e){var n=e?[this._channels[e]]:this._channels;t.each(n,function(t){t.reset()})},l})},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<ul><li class="mm-divider">Main</li><li><a id="drawer-home"><i class="fa fa-fw fa-lg fa-home"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Home</span></a></li><li><a id="drawer-journals"><i class="fa fa-fw fa-lg fa-book"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Journals</span></a></li><li><a id="drawer-schedule"><i class="fa fa-fw fa-lg fa-calendar-plus-o"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Schedule</span></a></li><li><a id="drawer-calendar"><i class="fa fa-fw fa-lg fa-calendar-check-o"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Calendar</span></a></li><li class="mm-divider">User</li><li><a id="drawer-profile"><i class="fa fa-fw fa-lg fa-folder-open-o"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Profile</span></a></li><li><a id="drawer-account"><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Account</span></a></li><li><a id="drawer-logout"><i class="fa fa-fw fa-lg fa-sign-out"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Log Out</span></a></li></ul>"),n.join("")}},function(t,e,n){"use strict";function i(t){return null!=t&&""!==t}function r(t){return(Array.isArray(t)?t.map(r):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(i).join(" ")}function o(t){return a[t]||t}function s(t){var e=String(t).replace(l,o);return e===""+t?t:e}e.merge=function t(e,n){if(1===arguments.length){for(var r=e[0],o=1;o<e.length;o++)r=t(r,e[o]);return r}var s=e.class,a=n.class;(s||a)&&(s=s||[],a=a||[],Array.isArray(s)||(s=[s]),Array.isArray(a)||(a=[a]),e.class=s.concat(a).filter(i));for(var l in n)"class"!=l&&(e[l]=n[l]);return e},e.joinClasses=r,e.cls=function(t,n){for(var i=[],o=0;o<t.length;o++)n&&n[o]?i.push(e.escape(r([t[o]]))):i.push(r(t[o]));var s=r(i);return s.length?' class="'+s+'"':""},e.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},e.attr=function(t,n,i,r){return"style"===t&&(n=e.style(n)),"boolean"==typeof n||null==n?n?" "+(r?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof n?(JSON.stringify(n).indexOf("&")!==-1&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),n&&"function"==typeof n.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):i?(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e.escape(n)+'"'):(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n+'"')},e.attrs=function(t,n){var i=[],o=Object.keys(t);if(o.length)for(var s=0;s<o.length;++s){var a=o[s],l=t[a];"class"==a?(l=r(l))&&i.push(" "+a+'="'+l+'"'):i.push(e.attr(a,l,!1,n))}return i.join("")};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;e.escape=s,e.rethrow=function t(e,i,r,o){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&i||o))throw e.message+=" on line "+r,e;try{o=o||n(19).readFileSync(i,"utf8")}catch(n){t(e,null,r)}var s=3,a=o.split("\n"),l=Math.max(r-s,0),c=Math.min(a.length,r+s),s=a.slice(l,c).map(function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=i,e.message=(i||"Jade")+":"+r+"\n"+s+"\n\n"+e.message,e},e.DebugItem=function(t,e){this.lineno=t,this.filename=e}},function(t,e){},function(t,e,n){var i=(n(2),n(2));!function(t){function e(){t[n].glbl||(a={$wndw:t(window),$docu:t(document),$html:t("html"),$body:t("body")},r={},o={},s={},t.each([r,o,s],function(t,e){e.add=function(t){t=t.split(" ");for(var n=0,i=t.length;i>n;n++)e[t[n]]=e.mm(t[n])}}),r.mm=function(t){return"mm-"+t},r.add("wrapper menu panels panel nopanel current highest opened subopened navbar hasnavbar title btn prev next listview nolistview inset vertical selected divider spacer hidden fullsubopen"),r.umm=function(t){return"mm-"==t.slice(0,3)&&(t=t.slice(3)),t},o.mm=function(t){return"mm-"+t},o.add("parent sub"),s.mm=function(t){return t+".mm"},s.add("transitionend webkitTransitionEnd click scroll keydown mousedown mouseup touchstart touchmove touchend orientationchange"),t[n]._c=r,t[n]._d=o,t[n]._e=s,t[n].glbl=a)}var n="mmenu",i="5.6.4";if(!(t[n]&&t[n].version>i)){t[n]=function(t,e,n){this.$menu=t,this._api=["bind","init","update","setSelected","getInstance","openPanel","closePanel","closeAllPanels"],this.opts=e,this.conf=n,this.vars={},this.cbck={},"function"==typeof this.___deprecated&&this.___deprecated(),this._initMenu(),this._initAnchors();var i=this.$pnls.children();return this._initAddons(),this.init(i),"function"==typeof this.___debug&&this.___debug(),this},t[n].version=i,t[n].addons={},t[n].uniqueId=0,t[n].defaults={extensions:[],navbar:{add:!0,title:"Menu",titleLink:"panel"},onClick:{setSelected:!0},slidingSubmenus:!0},t[n].configuration={classNames:{divider:"Divider",inset:"Inset",panel:"Panel",selected:"Selected",spacer:"Spacer",vertical:"Vertical"},clone:!1,openingInterval:25,panelNodetype:"ul, ol, div",transitionDuration:400},t[n].prototype={init:function(t){t=t.not("."+r.nopanel),t=this._initPanels(t),this.trigger("init",t),this.trigger("update")},update:function(){this.trigger("update")},setSelected:function(t){this.$menu.find("."+r.listview).children().removeClass(r.selected),t.addClass(r.selected),this.trigger("setSelected",t)},openPanel:function(e){var i=e.parent(),o=this;if(i.hasClass(r.vertical)){var s=i.parents("."+r.subopened);if(s.length)return void this.openPanel(s.first());i.addClass(r.opened),this.trigger("openPanel",e),this.trigger("openingPanel",e),this.trigger("openedPanel",e)}else{if(e.hasClass(r.current))return;var a=this.$pnls.children("."+r.panel),l=a.filter("."+r.current);a.removeClass(r.highest).removeClass(r.current).not(e).not(l).not("."+r.vertical).addClass(r.hidden),t[n].support.csstransitions||l.addClass(r.hidden),e.hasClass(r.opened)?e.nextAll("."+r.opened).addClass(r.highest).removeClass(r.opened).removeClass(r.subopened):(e.addClass(r.highest),l.addClass(r.subopened)),e.removeClass(r.hidden).addClass(r.current),o.trigger("openPanel",e),setTimeout(function(){e.removeClass(r.subopened).addClass(r.opened),o.trigger("openingPanel",e),o.__transitionend(e,function(){o.trigger("openedPanel",e)},o.conf.transitionDuration)},this.conf.openingInterval)}},closePanel:function(t){var e=t.parent();e.hasClass(r.vertical)&&(e.removeClass(r.opened),this.trigger("closePanel",t),this.trigger("closingPanel",t),this.trigger("closedPanel",t))},closeAllPanels:function(){this.$menu.find("."+r.listview).children().removeClass(r.selected).filter("."+r.vertical).removeClass(r.opened);var t=this.$pnls.children("."+r.panel),e=t.first();this.$pnls.children("."+r.panel).not(e).removeClass(r.subopened).removeClass(r.opened).removeClass(r.current).removeClass(r.highest).addClass(r.hidden),this.openPanel(e)},togglePanel:function(t){var e=t.parent();e.hasClass(r.vertical)&&this[e.hasClass(r.opened)?"closePanel":"openPanel"](t)},getInstance:function(){return this},bind:function(t,e){this.cbck[t]=this.cbck[t]||[],this.cbck[t].push(e)},trigger:function(){var t=this,e=Array.prototype.slice.call(arguments),n=e.shift();if(this.cbck[n])for(var i=0,r=this.cbck[n].length;r>i;i++)this.cbck[n][i].apply(t,e)},_initMenu:function(){this.$menu.attr("id",this.$menu.attr("id")||this.__getUniqueId()),this.conf.clone&&(this.$menu=this.$menu.clone(!0),this.$menu.add(this.$menu.find("[id]")).filter("[id]").each(function(){t(this).attr("id",r.mm(t(this).attr("id")))})),this.$menu.contents().each(function(){3==t(this)[0].nodeType&&t(this).remove()}),this.$pnls=t('<div class="'+r.panels+'" />').append(this.$menu.children(this.conf.panelNodetype)).prependTo(this.$menu),this.$menu.parent().addClass(r.wrapper);var e=[r.menu];this.opts.slidingSubmenus||e.push(r.vertical),this.opts.extensions=this.opts.extensions.length?"mm-"+this.opts.extensions.join(" mm-"):"",this.opts.extensions&&e.push(this.opts.extensions),this.$menu.addClass(e.join(" "))},_initPanels:function(e){var n=this,i=this.__findAddBack(e,"ul, ol");this.__refactorClass(i,this.conf.classNames.inset,"inset").addClass(r.nolistview+" "+r.nopanel),i.not("."+r.nolistview).addClass(r.listview);var s=this.__findAddBack(e,"."+r.listview).children();this.__refactorClass(s,this.conf.classNames.selected,"selected"),this.__refactorClass(s,this.conf.classNames.divider,"divider"),this.__refactorClass(s,this.conf.classNames.spacer,"spacer"),this.__refactorClass(this.__findAddBack(e,"."+this.conf.classNames.panel),this.conf.classNames.panel,"panel");var a=t(),l=e.add(e.find("."+r.panel)).add(this.__findAddBack(e,"."+r.listview).children().children(this.conf.panelNodetype)).not("."+r.nopanel);this.__refactorClass(l,this.conf.classNames.vertical,"vertical"),this.opts.slidingSubmenus||l.addClass(r.vertical),l.each(function(){var e=t(this),i=e;e.is("ul, ol")?(e.wrap('<div class="'+r.panel+'" />'),i=e.parent()):i.addClass(r.panel);var o=e.attr("id");e.removeAttr("id"),i.attr("id",o||n.__getUniqueId()),e.hasClass(r.vertical)&&(e.removeClass(n.conf.classNames.vertical),i.add(i.parent()).addClass(r.vertical)),a=a.add(i)});var c=t("."+r.panel,this.$menu);a.each(function(e){var i,s,a=t(this),l=a.parent(),c=l.children("a, span").first();if(l.is("."+r.panels)||(l.data(o.sub,a),a.data(o.parent,l)),l.children("."+r.next).length||l.parent().is("."+r.listview)&&(i=a.attr("id"),s=t('<a class="'+r.next+'" href="#'+i+'" data-target="#'+i+'" />').insertBefore(c),c.is("span")&&s.addClass(r.fullsubopen)),!a.children("."+r.navbar).length&&!l.hasClass(r.vertical)){l.parent().is("."+r.listview)?l=l.closest("."+r.panel):(c=l.closest("."+r.panel).find('a[href="#'+a.attr("id")+'"]').first(),l=c.closest("."+r.panel));var u=!1,h=t('<div class="'+r.navbar+'" />');if(n.opts.navbar.add&&a.addClass(r.hasnavbar),l.length){switch(i=l.attr("id"),n.opts.navbar.titleLink){case"anchor":u=c.attr("href");break;case"panel":case"parent":u="#"+i;break;default:u=!1}h.append('<a class="'+r.btn+" "+r.prev+'" href="#'+i+'" data-target="#'+i+'" />').append(t('<a class="'+r.title+'"'+(u?' href="'+u+'"':"")+" />").text(c.text())).prependTo(a)}else n.opts.navbar.title&&h.append('<a class="'+r.title+'">'+n.opts.navbar.title+"</a>").prependTo(a)}});var u=this.__findAddBack(e,"."+r.listview).children("."+r.selected).removeClass(r.selected).last().addClass(r.selected);u.add(u.parentsUntil("."+r.menu,"li")).filter("."+r.vertical).addClass(r.opened).end().each(function(){t(this).parentsUntil("."+r.menu,"."+r.panel).not("."+r.vertical).first().addClass(r.opened).parentsUntil("."+r.menu,"."+r.panel).not("."+r.vertical).first().addClass(r.opened).addClass(r.subopened)}),u.children("."+r.panel).not("."+r.vertical).addClass(r.opened).parentsUntil("."+r.menu,"."+r.panel).not("."+r.vertical).first().addClass(r.opened).addClass(r.subopened);var h=c.filter("."+r.opened);return h.length||(h=a.first()),h.addClass(r.opened).last().addClass(r.current),a.not("."+r.vertical).not(h.last()).addClass(r.hidden).end().filter(function(){return!t(this).parent().hasClass(r.panels)}).appendTo(this.$pnls),a},_initAnchors:function(){var e=this;a.$body.on(s.click+"-oncanvas","a[href]",function(i){var o=t(this),s=!1,a=e.$menu.find(o).length;for(var l in t[n].addons)if(t[n].addons[l].clickAnchor.call(e,o,a)){s=!0;break}var c=o.attr("href");if(!s&&a&&c.length>1&&"#"==c.slice(0,1))try{var u=t(c,e.$menu);u.is("."+r.panel)&&(s=!0,e[o.parent().hasClass(r.vertical)?"togglePanel":"openPanel"](u))}catch(t){}if(s&&i.preventDefault(),!s&&a&&o.is("."+r.listview+" > li > a")&&!o.is('[rel="external"]')&&!o.is('[target="_blank"]')){e.__valueOrFn(e.opts.onClick.setSelected,o)&&e.setSelected(t(i.target).parent());var h=e.__valueOrFn(e.opts.onClick.preventDefault,o,"#"==c.slice(0,1));h&&i.preventDefault(),e.__valueOrFn(e.opts.onClick.close,o,h)&&e.close()}})},_initAddons:function(){var e;for(e in t[n].addons)t[n].addons[e].add.call(this),t[n].addons[e].add=function(){};for(e in t[n].addons)t[n].addons[e].setup.call(this)},_getOriginalMenuId:function(){var t=this.$menu.attr("id");return t&&t.length&&this.conf.clone&&(t=r.umm(t)),t},__api:function(){var e=this,n={};return t.each(this._api,function(t){var i=this;n[i]=function(){var t=e[i].apply(e,arguments);return"undefined"==typeof t?n:t}}),n},__valueOrFn:function(t,e,n){return"function"==typeof t?t.call(e[0]):"undefined"==typeof t&&"undefined"!=typeof n?n:t;
},__refactorClass:function(t,e,n){return t.filter("."+e).removeClass(e).addClass(r[n])},__findAddBack:function(t,e){return t.find(e).add(t.filter(e))},__filterListItems:function(t){return t.not("."+r.divider).not("."+r.hidden)},__transitionend:function(t,e,n){var i=!1,r=function(){i||e.call(t[0]),i=!0};t.one(s.transitionend,r),t.one(s.webkitTransitionEnd,r),setTimeout(r,1.1*n)},__getUniqueId:function(){return r.mm(t[n].uniqueId++)}},t.fn[n]=function(i,r){return e(),i=t.extend(!0,{},t[n].defaults,i),r=t.extend(!0,{},t[n].configuration,r),this.each(function(){var e=t(this);if(!e.data(n)){var o=new t[n](e,i,r);o.$menu.data(n,o.__api())}})},t[n].support={touch:"ontouchstart"in window||navigator.msMaxTouchPoints||!1,csstransitions:function(){if("undefined"!=typeof Modernizr&&"undefined"!=typeof Modernizr.csstransitions)return Modernizr.csstransitions;var t=document.body||document.documentElement,e=t.style,n="transition";if("string"==typeof e[n])return!0;var i=["Moz","webkit","Webkit","Khtml","O","ms"];n=n.charAt(0).toUpperCase()+n.substr(1);for(var r=0;r<i.length;r++)if("string"==typeof e[i[r]+n])return!0;return!1}()};var r,o,s,a}}(i),function(t){var e="mmenu",n="offCanvas";t[e].addons[n]={setup:function(){if(this.opts[n]){var r=this.opts[n],o=this.conf[n];s=t[e].glbl,this._api=t.merge(this._api,["open","close","setPage"]),("top"==r.position||"bottom"==r.position)&&(r.zposition="front"),"string"!=typeof o.pageSelector&&(o.pageSelector="> "+o.pageNodetype),s.$allMenus=(s.$allMenus||t()).add(this.$menu),this.vars.opened=!1;var a=[i.offcanvas];"left"!=r.position&&a.push(i.mm(r.position)),"back"!=r.zposition&&a.push(i.mm(r.zposition)),this.$menu.addClass(a.join(" ")).parent().removeClass(i.wrapper),this.setPage(s.$page),this._initBlocker(),this["_initWindow_"+n](),this.$menu[o.menuInjectMethod+"To"](o.menuWrapperSelector);var l=window.location.hash;if(l){var c=this._getOriginalMenuId();c&&c==l.slice(1)&&this.open()}}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("offcanvas slideout blocking modal background opening blocker page"),r.add("style"),o.add("resize")},clickAnchor:function(t,e){if(!this.opts[n])return!1;var i=this._getOriginalMenuId();return i&&t.is('[href="#'+i+'"]')?(this.open(),!0):s.$page?(i=s.$page.first().attr("id"),!(!i||!t.is('[href="#'+i+'"]'))&&(this.close(),!0)):void 0}},t[e].defaults[n]={position:"left",zposition:"back",blockUI:!0,moveBackground:!0},t[e].configuration[n]={pageNodetype:"div",pageSelector:null,noPageSelector:[],wrapPageIfNeeded:!0,menuWrapperSelector:"body",menuInjectMethod:"prepend"},t[e].prototype.open=function(){if(!this.vars.opened){var t=this;this._openSetup(),setTimeout(function(){t._openFinish()},this.conf.openingInterval),this.trigger("open")}},t[e].prototype._openSetup=function(){var e=this,a=this.opts[n];this.closeAllOthers(),s.$page.each(function(){t(this).data(r.style,t(this).attr("style")||"")}),s.$wndw.trigger(o.resize+"-"+n,[!0]);var l=[i.opened];a.blockUI&&l.push(i.blocking),"modal"==a.blockUI&&l.push(i.modal),a.moveBackground&&l.push(i.background),"left"!=a.position&&l.push(i.mm(this.opts[n].position)),"back"!=a.zposition&&l.push(i.mm(this.opts[n].zposition)),this.opts.extensions&&l.push(this.opts.extensions),s.$html.addClass(l.join(" ")),setTimeout(function(){e.vars.opened=!0},this.conf.openingInterval),this.$menu.addClass(i.current+" "+i.opened)},t[e].prototype._openFinish=function(){var t=this;this.__transitionend(s.$page.first(),function(){t.trigger("opened")},this.conf.transitionDuration),s.$html.addClass(i.opening),this.trigger("opening")},t[e].prototype.close=function(){if(this.vars.opened){var e=this;this.__transitionend(s.$page.first(),function(){e.$menu.removeClass(i.current).removeClass(i.opened),s.$html.removeClass(i.opened).removeClass(i.blocking).removeClass(i.modal).removeClass(i.background).removeClass(i.mm(e.opts[n].position)).removeClass(i.mm(e.opts[n].zposition)),e.opts.extensions&&s.$html.removeClass(e.opts.extensions),s.$page.each(function(){t(this).attr("style",t(this).data(r.style))}),e.vars.opened=!1,e.trigger("closed")},this.conf.transitionDuration),s.$html.removeClass(i.opening),this.trigger("close"),this.trigger("closing")}},t[e].prototype.closeAllOthers=function(){s.$allMenus.not(this.$menu).each(function(){var n=t(this).data(e);n&&n.close&&n.close()})},t[e].prototype.setPage=function(e){var r=this,o=this.conf[n];e&&e.length||(e=s.$body.find(o.pageSelector),o.noPageSelector.length&&(e=e.not(o.noPageSelector.join(", "))),e.length>1&&o.wrapPageIfNeeded&&(e=e.wrapAll("<"+this.conf[n].pageNodetype+" />").parent())),e.each(function(){t(this).attr("id",t(this).attr("id")||r.__getUniqueId())}),e.addClass(i.page+" "+i.slideout),s.$page=e,this.trigger("setPage",e)},t[e].prototype["_initWindow_"+n]=function(){s.$wndw.off(o.keydown+"-"+n).on(o.keydown+"-"+n,function(t){return s.$html.hasClass(i.opened)&&9==t.keyCode?(t.preventDefault(),!1):void 0});var t=0;s.$wndw.off(o.resize+"-"+n).on(o.resize+"-"+n,function(e,n){if(1==s.$page.length&&(n||s.$html.hasClass(i.opened))){var r=s.$wndw.height();(n||r!=t)&&(t=r,s.$page.css("minHeight",r))}})},t[e].prototype._initBlocker=function(){var e=this;this.opts[n].blockUI&&(s.$blck||(s.$blck=t('<div id="'+i.blocker+'" class="'+i.slideout+'" />')),s.$blck.appendTo(s.$body).off(o.touchstart+"-"+n+" "+o.touchmove+"-"+n).on(o.touchstart+"-"+n+" "+o.touchmove+"-"+n,function(t){t.preventDefault(),t.stopPropagation(),s.$blck.trigger(o.mousedown+"-"+n)}).off(o.mousedown+"-"+n).on(o.mousedown+"-"+n,function(t){t.preventDefault(),s.$html.hasClass(i.modal)||(e.closeAllOthers(),e.close())}))};var i,r,o,s}(i),function(t){var e="mmenu",n="scrollBugFix";t[e].addons[n]={setup:function(){var r=this,a=this.opts[n];if(this.conf[n],s=t[e].glbl,t[e].support.touch&&this.opts.offCanvas&&this.opts.offCanvas.blockUI&&("boolean"==typeof a&&(a={fix:a}),"object"!=typeof a&&(a={}),a=this.opts[n]=t.extend(!0,{},t[e].defaults[n],a),a.fix)){var l=this.$menu.attr("id"),c=!1;this.bind("opening",function(){this.$pnls.children("."+i.current).scrollTop(0)}),s.$docu.on(o.touchmove,function(t){r.vars.opened&&t.preventDefault()}),s.$body.on(o.touchstart,"#"+l+"> ."+i.panels+"> ."+i.current,function(t){r.vars.opened&&(c||(c=!0,0===t.currentTarget.scrollTop?t.currentTarget.scrollTop=1:t.currentTarget.scrollHeight===t.currentTarget.scrollTop+t.currentTarget.offsetHeight&&(t.currentTarget.scrollTop-=1),c=!1))}).on(o.touchmove,"#"+l+"> ."+i.panels+"> ."+i.current,function(e){r.vars.opened&&t(this)[0].scrollHeight>t(this).innerHeight()&&e.stopPropagation()}),s.$wndw.on(o.orientationchange,function(){r.$pnls.children("."+i.current).scrollTop(0).css({"-webkit-overflow-scrolling":"auto"}).css({"-webkit-overflow-scrolling":"touch"})})}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e},clickAnchor:function(t,e){}},t[e].defaults[n]={fix:!0};var i,r,o,s}(i),function(t){var e="mmenu",n="autoHeight";t[e].addons[n]={setup:function(){if(this.opts.offCanvas){var r=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof r&&r&&(r={height:"auto"}),"string"==typeof r&&(r={height:r}),"object"!=typeof r&&(r={}),r=this.opts[n]=t.extend(!0,{},t[e].defaults[n],r),"auto"==r.height||"highest"==r.height){this.$menu.addClass(i.autoheight);var o=function(e){if(this.vars.opened){var n=parseInt(this.$pnls.css("top"),10)||0,o=parseInt(this.$pnls.css("bottom"),10)||0,s=0;this.$menu.addClass(i.measureheight),"auto"==r.height?(e=e||this.$pnls.children("."+i.current),e.is("."+i.vertical)&&(e=e.parents("."+i.panel).not("."+i.vertical).first()),s=e.outerHeight()):"highest"==r.height&&this.$pnls.children().each(function(){var e=t(this);e.is("."+i.vertical)&&(e=e.parents("."+i.panel).not("."+i.vertical).first()),s=Math.max(s,e.outerHeight())}),this.$menu.height(s+n+o).removeClass(i.measureheight)}};this.bind("opening",o),"highest"==r.height&&this.bind("init",o),"auto"==r.height&&(this.bind("update",o),this.bind("openPanel",o),this.bind("closePanel",o))}}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("autoheight measureheight"),o.add("resize")},clickAnchor:function(t,e){}},t[e].defaults[n]={height:"default"};var i,r,o,s}(i),function(t){var e="mmenu",n="backButton";t[e].addons[n]={setup:function(){if(this.opts.offCanvas){var r=this,o=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof o&&(o={close:o}),"object"!=typeof o&&(o={}),o=t.extend(!0,{},t[e].defaults[n],o),o.close){var a="#"+r.$menu.attr("id");this.bind("opened",function(t){location.hash!=a&&history.pushState(null,document.title,a)}),t(window).on("popstate",function(t){s.$html.hasClass(i.opened)?(t.stopPropagation(),r.close()):location.hash==a&&(t.stopPropagation(),r.open())})}}},add:function(){return window.history&&window.history.pushState?(i=t[e]._c,r=t[e]._d,void(o=t[e]._e)):void(t[e].addons[n].setup=function(){})},clickAnchor:function(t,e){}},t[e].defaults[n]={close:!1};var i,r,o,s}(i),function(t){var e="mmenu",n="columns";t[e].addons[n]={setup:function(){var r=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof r&&(r={add:r}),"number"==typeof r&&(r={add:!0,visible:r}),"object"!=typeof r&&(r={}),"number"==typeof r.visible&&(r.visible={min:r.visible,max:r.visible}),r=this.opts[n]=t.extend(!0,{},t[e].defaults[n],r),r.add){r.visible.min=Math.max(1,Math.min(6,r.visible.min)),r.visible.max=Math.max(r.visible.min,Math.min(6,r.visible.max)),this.$menu.addClass(i.columns);for(var o=this.opts.offCanvas?this.$menu.add(s.$html):this.$menu,a=[],l=0;l<=r.visible.max;l++)a.push(i.columns+"-"+l);a=a.join(" ");var c=function(t){d.call(this,this.$pnls.children("."+i.current)),r.hideNavbars&&t.removeClass(i.hasnavbar)},u=function(){var t=this.$pnls.children("."+i.panel).filter("."+i.opened).length;t=Math.min(r.visible.max,Math.max(r.visible.min,t)),o.removeClass(a).addClass(i.columns+"-"+t)},h=function(){this.opts.offCanvas&&s.$html.removeClass(a)},d=function(e){this.$pnls.children("."+i.panel).removeClass(a).filter("."+i.subopened).removeClass(i.hidden).add(e).slice(-r.visible.max).each(function(e){t(this).addClass(i.columns+"-"+e)})};this.bind("open",u),this.bind("close",h),this.bind("init",c),this.bind("openPanel",d),this.bind("openingPanel",u),this.bind("openedPanel",u),this.opts.offCanvas||u.call(this)}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("columns")},clickAnchor:function(e,r){if(!this.opts[n].add)return!1;if(r){var o=e.attr("href");if(o.length>1&&"#"==o.slice(0,1))try{var s=t(o,this.$menu);if(s.is("."+i.panel))for(var a=parseInt(e.closest("."+i.panel).attr("class").split(i.columns+"-")[1].split(" ")[0],10)+1;a!==!1;){var l=this.$pnls.children("."+i.columns+"-"+a);if(!l.length){a=!1;break}a++,l.removeClass(i.subopened).removeClass(i.opened).removeClass(i.current).removeClass(i.highest).addClass(i.hidden)}}catch(t){}}}},t[e].defaults[n]={add:!1,visible:{min:1,max:3},hideNavbars:!1};var i,r,o,s}(i),function(t){var e="mmenu",n="counters";t[e].addons[n]={setup:function(){var o=this,a=this.opts[n];this.conf[n],s=t[e].glbl,"boolean"==typeof a&&(a={add:a,update:a}),"object"!=typeof a&&(a={}),a=this.opts[n]=t.extend(!0,{},t[e].defaults[n],a),this.bind("init",function(e){this.__refactorClass(t("em",e),this.conf.classNames[n].counter,"counter")}),a.add&&this.bind("init",function(e){var n;switch(a.addTo){case"panels":n=e;break;default:n=e.filter(a.addTo)}n.each(function(){var e=t(this).data(r.parent);e&&(e.children("em."+i.counter).length||e.prepend(t('<em class="'+i.counter+'" />')))})}),a.update&&this.bind("update",function(){this.$pnls.children("."+i.panel).each(function(){var e=t(this),n=e.data(r.parent);if(n){var s=n.children("em."+i.counter);s.length&&(e=e.children("."+i.listview),e.length&&s.html(o.__filterListItems(e.children()).length))}})})},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("counter search noresultsmsg")},clickAnchor:function(t,e){}},t[e].defaults[n]={add:!1,addTo:"panels",update:!1},t[e].configuration.classNames[n]={counter:"Counter"};var i,r,o,s}(i),function(t){var e="mmenu",n="dividers";t[e].addons[n]={setup:function(){var r=this,a=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof a&&(a={add:a,fixed:a}),"object"!=typeof a&&(a={}),a=this.opts[n]=t.extend(!0,{},t[e].defaults[n],a),this.bind("init",function(e){this.__refactorClass(t("li",this.$menu),this.conf.classNames[n].collapsed,"collapsed")}),a.add&&this.bind("init",function(e){var n;switch(a.addTo){case"panels":n=e;break;default:n=e.filter(a.addTo)}t("."+i.divider,n).remove(),n.find("."+i.listview).not("."+i.vertical).each(function(){var e="";r.__filterListItems(t(this).children()).each(function(){var n=t.trim(t(this).children("a, span").text()).slice(0,1).toLowerCase();n!=e&&n.length&&(e=n,t('<li class="'+i.divider+'">'+n+"</li>").insertBefore(this))})})}),a.collapse&&this.bind("init",function(e){t("."+i.divider,e).each(function(){var e=t(this),n=e.nextUntil("."+i.divider,"."+i.collapsed);n.length&&(e.children("."+i.subopen).length||(e.wrapInner("<span />"),e.prepend('<a href="#" class="'+i.subopen+" "+i.fullsubopen+'" />')))})}),a.fixed){var l=function(e){e=e||this.$pnls.children("."+i.current);var n=e.find("."+i.divider).not("."+i.hidden);if(n.length){this.$menu.addClass(i.hasdividers);var r=e.scrollTop()||0,o="";e.is(":visible")&&e.find("."+i.divider).not("."+i.hidden).each(function(){t(this).position().top+r<r+1&&(o=t(this).text())}),this.$fixeddivider.text(o)}else this.$menu.removeClass(i.hasdividers)};this.$fixeddivider=t('<ul class="'+i.listview+" "+i.fixeddivider+'"><li class="'+i.divider+'"></li></ul>').prependTo(this.$pnls).children(),this.bind("openPanel",l),this.bind("update",l),this.bind("init",function(e){e.off(o.scroll+"-dividers "+o.touchmove+"-dividers").on(o.scroll+"-dividers "+o.touchmove+"-dividers",function(e){l.call(r,t(this))})})}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("collapsed uncollapsed fixeddivider hasdividers"),o.add("scroll")},clickAnchor:function(t,e){if(this.opts[n].collapse&&e){var r=t.parent();if(r.is("."+i.divider)){var o=r.nextUntil("."+i.divider,"."+i.collapsed);return r.toggleClass(i.opened),o[r.hasClass(i.opened)?"addClass":"removeClass"](i.uncollapsed),!0}}return!1}},t[e].defaults[n]={add:!1,addTo:"panels",fixed:!1,collapse:!1},t[e].configuration.classNames[n]={collapsed:"Collapsed"};var i,r,o,s}(i),function(t){function e(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}var n="mmenu",i="dragOpen";t[n].addons[i]={setup:function(){if(this.opts.offCanvas){var o=this,s=this.opts[i],l=this.conf[i];if(a=t[n].glbl,"boolean"==typeof s&&(s={open:s}),"object"!=typeof s&&(s={}),s=this.opts[i]=t.extend(!0,{},t[n].defaults[i],s),s.open){var c,u,h,d,p,f={},g=0,m=!1,v=!1,y=0,b=0;switch(this.opts.offCanvas.position){case"left":case"right":f.events="panleft panright",f.typeLower="x",f.typeUpper="X",v="width";break;case"top":case"bottom":f.events="panup pandown",f.typeLower="y",f.typeUpper="Y",v="height"}switch(this.opts.offCanvas.position){case"right":case"bottom":f.negative=!0,d=function(t){t>=a.$wndw[v]()-s.maxStartPos&&(g=1)};break;default:f.negative=!1,d=function(t){t<=s.maxStartPos&&(g=1)}}switch(this.opts.offCanvas.position){case"left":f.open_dir="right",f.close_dir="left";break;case"right":f.open_dir="left",f.close_dir="right";break;case"top":f.open_dir="down",f.close_dir="up";break;case"bottom":f.open_dir="up",f.close_dir="down"}switch(this.opts.offCanvas.zposition){case"front":p=function(){return this.$menu};break;default:p=function(){return t("."+r.slideout)}}var w=this.__valueOrFn(s.pageNode,this.$menu,a.$page);"string"==typeof w&&(w=t(w));var x=new Hammer(w[0],s.vendors.hammer);x.on("panstart",function(t){d(t.center[f.typeLower]),a.$slideOutNodes=p(),m=f.open_dir}).on(f.events+" panend",function(t){g>0&&t.preventDefault()}).on(f.events,function(t){if(c=t["delta"+f.typeUpper],f.negative&&(c=-c),c!=y&&(m=c>=y?f.open_dir:f.close_dir),y=c,y>s.threshold&&1==g){if(a.$html.hasClass(r.opened))return;g=2,o._openSetup(),o.trigger("opening"),a.$html.addClass(r.dragging),b=e(a.$wndw[v]()*l[v].perc,l[v].min,l[v].max)}2==g&&(u=e(y,10,b)-("front"==o.opts.offCanvas.zposition?b:0),f.negative&&(u=-u),h="translate"+f.typeUpper+"("+u+"px )",a.$slideOutNodes.css({"-webkit-transform":"-webkit-"+h,transform:h}))}).on("panend",function(t){2==g&&(a.$html.removeClass(r.dragging),a.$slideOutNodes.css("transform",""),o[m==f.open_dir?"_openFinish":"close"]()),g=0})}}},add:function(){return"function"!=typeof Hammer||Hammer.VERSION<2?void(t[n].addons[i].setup=function(){}):(r=t[n]._c,o=t[n]._d,s=t[n]._e,void r.add("dragging"))},clickAnchor:function(t,e){}},t[n].defaults[i]={open:!1,maxStartPos:100,threshold:50,vendors:{hammer:{}}},t[n].configuration[i]={width:{perc:.8,min:140,max:440},height:{perc:.8,min:140,max:880}};var r,o,s,a}(i),function(t){var e="mmenu",n="dropdown";t[e].addons[n]={setup:function(){if(this.opts.offCanvas){var a=this,l=this.opts[n],c=this.conf[n];if(s=t[e].glbl,"boolean"==typeof l&&l&&(l={drop:l}),"object"!=typeof l&&(l={}),"string"==typeof l.position&&(l.position={of:l.position}),l=this.opts[n]=t.extend(!0,{},t[e].defaults[n],l),l.drop){if("string"!=typeof l.position.of){var u=this.$menu.attr("id");u&&u.length&&(this.conf.clone&&(u=i.umm(u)),l.position.of='[href="#'+u+'"]')}if("string"==typeof l.position.of){var h=t(l.position.of);if(h.length){this.$menu.addClass(i.dropdown),l.tip&&this.$menu.addClass(i.tip),l.event=l.event.split(" "),1==l.event.length&&(l.event[1]=l.event[0]),"hover"==l.event[0]&&h.on(o.mouseenter+"-dropdown",function(){a.open()}),"hover"==l.event[1]&&this.$menu.on(o.mouseleave+"-dropdown",function(){a.close()}),this.bind("opening",function(){this.$menu.data(r.style,this.$menu.attr("style")||""),s.$html.addClass(i.dropdown)}),this.bind("closed",function(){this.$menu.attr("style",this.$menu.data(r.style)),s.$html.removeClass(i.dropdown)});var d=function(r,o){var a=o[0],u=o[1],d="x"==r?"scrollLeft":"scrollTop",p="x"==r?"outerWidth":"outerHeight",f="x"==r?"left":"top",g="x"==r?"right":"bottom",m="x"==r?"width":"height",v="x"==r?"maxWidth":"maxHeight",y=null,b=s.$wndw[d](),w=h.offset()[f]-=b,x=w+h[p](),_=s.$wndw[m](),C=c.offset.button[r]+c.offset.viewport[r];if(l.position[r])switch(l.position[r]){case"left":case"bottom":y="after";break;case"right":case"top":y="before"}null===y&&(y=_/2>w+(x-w)/2?"after":"before");var k,S;return"after"==y?(k="x"==r?w:x,S=_-(k+C),a[f]=k+c.offset.button[r],a[g]="auto",u.push(i["x"==r?"tipleft":"tiptop"])):(k="x"==r?x:w,S=k-C,a[g]="calc( 100% - "+(k-c.offset.button[r])+"px )",a[f]="auto",u.push(i["x"==r?"tipright":"tipbottom"])),a[v]=Math.min(t[e].configuration[n][m].max,S),[a,u]},p=function(t){if(this.vars.opened){this.$menu.attr("style",this.$menu.data(r.style));var e=[{},[]];e=d.call(this,"y",e),e=d.call(this,"x",e),this.$menu.css(e[0]),l.tip&&this.$menu.removeClass(i.tipleft+" "+i.tipright+" "+i.tiptop+" "+i.tipbottom).addClass(e[1].join(" "))}};this.bind("opening",p),s.$wndw.on(o.resize+"-dropdown",function(t){p.call(a)}),this.opts.offCanvas.blockUI||s.$wndw.on(o.scroll+"-dropdown",function(t){p.call(a)})}}}}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("dropdown tip tipleft tipright tiptop tipbottom"),o.add("mouseenter mouseleave resize scroll")},clickAnchor:function(t,e){}},t[e].defaults[n]={drop:!1,event:"click",position:{},tip:!0},t[e].configuration[n]={offset:{button:{x:-10,y:10},viewport:{x:20,y:20}},height:{max:880},width:{max:440}};var i,r,o,s}(i),function(t){var e="mmenu",n="fixedElements";t[e].addons[n]={setup:function(){if(this.opts.offCanvas){var i=this.opts[n];this.conf[n],s=t[e].glbl,i=this.opts[n]=t.extend(!0,{},t[e].defaults[n],i);var r=function(t){var e=this.conf.classNames[n].fixed;this.__refactorClass(t.find("."+e),e,"slideout").appendTo(s.$body)};r.call(this,s.$page),this.bind("setPage",r)}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("fixed")},clickAnchor:function(t,e){}},t[e].configuration.classNames[n]={fixed:"Fixed"};var i,r,o,s}(i),function(t){var e="mmenu",n="iconPanels";t[e].addons[n]={setup:function(){var r=this,o=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof o&&(o={add:o}),"number"==typeof o&&(o={add:!0,visible:o}),"object"!=typeof o&&(o={}),o=this.opts[n]=t.extend(!0,{},t[e].defaults[n],o),o.visible++,o.add){this.$menu.addClass(i.iconpanel);for(var a=[],l=0;l<=o.visible;l++)a.push(i.iconpanel+"-"+l);a=a.join(" ");var c=function(e){e.hasClass(i.vertical)||r.$pnls.children("."+i.panel).removeClass(a).filter("."+i.subopened).removeClass(i.hidden).add(e).not("."+i.vertical).slice(-o.visible).each(function(e){t(this).addClass(i.iconpanel+"-"+e)})};this.bind("openPanel",c),this.bind("init",function(e){c.call(r,r.$pnls.children("."+i.current)),o.hideNavbars&&e.removeClass(i.hasnavbar),e.not("."+i.vertical).each(function(){t(this).children("."+i.subblocker).length||t(this).prepend('<a href="#'+t(this).closest("."+i.panel).attr("id")+'" class="'+i.subblocker+'" />')})})}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("iconpanel subblocker")},clickAnchor:function(t,e){}},t[e].defaults[n]={add:!1,visible:3,hideNavbars:!1};var i,r,o,s}(i),function(t){var e="mmenu",n="navbars";t[e].addons[n]={setup:function(){var r=this,o=this.opts[n],a=this.conf[n];if(s=t[e].glbl,"undefined"!=typeof o){o instanceof Array||(o=[o]);var l={};t.each(o,function(s){var c=o[s];"boolean"==typeof c&&c&&(c={}),"object"!=typeof c&&(c={}),"undefined"==typeof c.content&&(c.content=["prev","title"]),c.content instanceof Array||(c.content=[c.content]),c=t.extend(!0,{},r.opts.navbar,c);var u=c.position,h=c.height;"number"!=typeof h&&(h=1),h=Math.min(4,Math.max(1,h)),"bottom"!=u&&(u="top"),l[u]||(l[u]=0),l[u]++;var d=t("<div />").addClass(i.navbar+" "+i.navbar+"-"+u+" "+i.navbar+"-"+u+"-"+l[u]+" "+i.navbar+"-size-"+h);l[u]+=h-1;for(var p=0,f=0,g=c.content.length;g>f;f++){var m=t[e].addons[n][c.content[f]]||!1;m?p+=m.call(r,d,c,a):(m=c.content[f],m instanceof t||(m=t(c.content[f])),d.append(m))}p+=Math.ceil(d.children().not("."+i.btn).length/h),p>1&&d.addClass(i.navbar+"-content-"+p),d.children("."+i.btn).length&&d.addClass(i.hasbtns),d.prependTo(r.$menu)});for(var c in l)r.$menu.addClass(i.hasnavbar+"-"+c+"-"+l[c])}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("close hasbtns")},clickAnchor:function(t,e){}},t[e].configuration[n]={breadcrumbSeparator:"/"},t[e].configuration.classNames[n]={};var i,r,o,s}(i),function(t){var e="mmenu",n="navbars",i="breadcrumbs";t[e].addons[n][i]=function(n,i,r){var o=t[e]._c,s=t[e]._d;o.add("breadcrumbs separator");var a=t('<span class="'+o.breadcrumbs+'" />').appendTo(n);this.bind("init",function(e){e.removeClass(o.hasnavbar).each(function(){for(var e=[],n=t(this),i=t('<span class="'+o.breadcrumbs+'"></span>'),a=t(this).children().first(),l=!0;a&&a.length;){a.is("."+o.panel)||(a=a.closest("."+o.panel));var c=a.children("."+o.navbar).children("."+o.title).text();e.unshift(l?"<span>"+c+"</span>":'<a href="#'+a.attr("id")+'">'+c+"</a>"),l=!1,a=a.data(s.parent)}i.append(e.join('<span class="'+o.separator+'">'+r.breadcrumbSeparator+"</span>")).appendTo(n.children("."+o.navbar))})});var l=function(){a.html(this.$pnls.children("."+o.current).children("."+o.navbar).children("."+o.breadcrumbs).html())};return this.bind("openPanel",l),this.bind("init",l),0}}(i),function(t){var e="mmenu",n="navbars",i="close";t[e].addons[n][i]=function(n,i){var r=t[e]._c,o=t[e].glbl,s=t('<a class="'+r.close+" "+r.btn+'" href="#" />').appendTo(n),a=function(t){s.attr("href","#"+t.attr("id"))};return a.call(this,o.$page),this.bind("setPage",a),-1}}(i),function(t){var e="mmenu",n="navbars",i="next";t[e].addons[n][i]=function(i,r){var o,s,a=t[e]._c,l=t('<a class="'+a.next+" "+a.btn+'" href="#" />').appendTo(i),c=function(t){t=t||this.$pnls.children("."+a.current);var e=t.find("."+this.conf.classNames[n].panelNext);o=e.attr("href"),s=e.html(),l[o?"attr":"removeAttr"]("href",o),l[o||s?"removeClass":"addClass"](a.hidden),l.html(s)};return this.bind("openPanel",c),this.bind("init",function(){c.call(this)}),-1},t[e].configuration.classNames[n].panelNext="Next"}(i),function(t){var e="mmenu",n="navbars",i="prev";t[e].addons[n][i]=function(i,r){var o=t[e]._c,s=t('<a class="'+o.prev+" "+o.btn+'" href="#" />').appendTo(i);this.bind("init",function(t){t.removeClass(o.hasnavbar).children("."+o.navbar).addClass(o.hidden)});var a,l,c=function(t){if(t=t||this.$pnls.children("."+o.current),!t.hasClass(o.vertical)){var e=t.find("."+this.conf.classNames[n].panelPrev);e.length||(e=t.children("."+o.navbar).children("."+o.prev)),a=e.attr("href"),l=e.html(),s[a?"attr":"removeAttr"]("href",a),s[a||l?"removeClass":"addClass"](o.hidden),s.html(l)}};return this.bind("openPanel",c),this.bind("init",function(){c.call(this)}),-1},t[e].configuration.classNames[n].panelPrev="Prev"}(i),function(t){var e="mmenu",n="navbars",i="searchfield";t[e].addons[n][i]=function(n,i){var r=t[e]._c,o=t('<div class="'+r.search+'" />').appendTo(n);return"object"!=typeof this.opts.searchfield&&(this.opts.searchfield={}),this.opts.searchfield.add=!0,this.opts.searchfield.addTo=o,0}}(i),function(t){var e="mmenu",n="navbars",i="title";t[e].addons[n][i]=function(i,r){var o,s,a=t[e]._c,l=t('<a class="'+a.title+'" />').appendTo(i),c=function(t){if(t=t||this.$pnls.children("."+a.current),!t.hasClass(a.vertical)){var e=t.find("."+this.conf.classNames[n].panelTitle);e.length||(e=t.children("."+a.navbar).children("."+a.title)),o=e.attr("href"),s=e.html()||r.title,l[o?"attr":"removeAttr"]("href",o),l[o||s?"removeClass":"addClass"](a.hidden),l.html(s)}};return this.bind("openPanel",c),this.bind("init",function(t){c.call(this)}),0},t[e].configuration.classNames[n].panelTitle="Title"}(i),function(t){function e(t,e,n){t.prop("aria-"+e,n)[n?"attr":"removeAttr"]("aria-"+e,"true")}function n(t){return'<span class="'+o.sronly+'">'+t+"</span>"}var i="mmenu",r="screenReader";t[i].addons[r]={setup:function(){var s=this.opts[r],a=this.conf[r];if(l=t[i].glbl,"boolean"==typeof s&&(s={aria:s,text:s}),"object"!=typeof s&&(s={}),s=this.opts[r]=t.extend(!0,{},t[i].defaults[r],s),s.aria){if(this.opts.offCanvas){var c=function(){e(this.$menu,"hidden",!1)},u=function(){e(this.$menu,"hidden",!0)};this.bind("open",c),this.bind("close",u),u.call(this)}var h=function(){e(this.$menu.find("."+o.hidden),"hidden",!0),e(this.$menu.find('[aria-hidden="true"]').not("."+o.hidden),"hidden",!1)},d=function(t){e(this.$pnls.children("."+o.panel).not(t).not("."+o.hidden),"hidden",!0),e(t,"hidden",!1)};this.bind("update",h),this.bind("openPanel",h),this.bind("openPanel",d);var p=function(t){e(t.find("."+o.prev+", ."+o.next),"haspopup",!0)};this.bind("init",p),p.call(this,this.$menu.children("."+o.navbar))}if(s.text){var f=function(e){e.children("."+o.navbar).children("."+o.prev).html(n(a.text.closeSubmenu)).end().children("."+o.next).html(n(a.text.openSubmenu)).end().children("."+o.close).html(n(a.text.closeMenu)),e.is("."+o.panel)&&e.find("."+o.listview).find("."+o.next).each(function(){t(this).html(n(a.text[t(this).parent().is("."+o.vertical)?"toggleSubmenu":"openSubmenu"]))})};this.bind("init",f),f.call(this,this.$menu)}},add:function(){o=t[i]._c,s=t[i]._d,a=t[i]._e,o.add("sronly")},clickAnchor:function(t,e){}},t[i].defaults[r]={aria:!1,text:!1},t[i].configuration[r]={text:{closeMenu:"Close menu",closeSubmenu:"Close submenu",openSubmenu:"Open submenu",toggleSubmenu:"Toggle submenu"}};var o,s,a,l}(i),function(t){function e(t){switch(t){case 9:case 16:case 17:case 18:case 37:case 38:case 39:case 40:return!0}return!1}var n="mmenu",i="searchfield";t[n].addons[i]={setup:function(){var l=this,c=this.opts[i],u=this.conf[i];a=t[n].glbl,"boolean"==typeof c&&(c={add:c}),"object"!=typeof c&&(c={}),"boolean"==typeof c.resultsPanel&&(c.resultsPanel={add:c.resultsPanel}),c=this.opts[i]=t.extend(!0,{},t[n].defaults[i],c),u=this.conf[i]=t.extend(!0,{},t[n].configuration[i],u),this.bind("close",function(){this.$menu.find("."+r.search).find("input").blur()}),this.bind("init",function(n){if(c.add){var a;switch(c.addTo){case"panels":a=n;break;default:a=this.$menu.find(c.addTo)}if(a.each(function(){var e=t(this);if(!e.is("."+r.panel)||!e.is("."+r.vertical)){if(!e.children("."+r.search).length){var n=l.__valueOrFn(u.clear,e),i=l.__valueOrFn(u.form,e),o=l.__valueOrFn(u.input,e),a=l.__valueOrFn(u.submit,e),h=t("<"+(i?"form":"div")+' class="'+r.search+'" />'),d=t('<input placeholder="'+c.placeholder+'" type="text" autocomplete="off" />');h.append(d);var p;if(o)for(p in o)d.attr(p,o[p]);if(n&&t('<a class="'+r.btn+" "+r.clear+'" href="#" />').appendTo(h).on(s.click+"-searchfield",function(t){t.preventDefault(),d.val("").trigger(s.keyup+"-searchfield")}),i){for(p in i)h.attr(p,i[p]);a&&!n&&t('<a class="'+r.btn+" "+r.next+'" href="#" />').appendTo(h).on(s.click+"-searchfield",function(t){t.preventDefault(),h.submit()})}e.hasClass(r.search)?e.replaceWith(h):e.prepend(h).addClass(r.hassearch)}if(c.noResults){var f=e.closest("."+r.panel).length;if(f||(e=l.$pnls.children("."+r.panel).first()),!e.children("."+r.noresultsmsg).length){var g=e.children("."+r.listview).first();t('<div class="'+r.noresultsmsg+" "+r.hidden+'" />').append(c.noResults)[g.length?"insertAfter":"prependTo"](g.length?g:e)}}}}),c.search){if(c.resultsPanel.add){c.showSubPanels=!1;var h=this.$pnls.children("."+r.resultspanel);h.length||(h=t('<div class="'+r.panel+" "+r.resultspanel+" "+r.hidden+'" />').appendTo(this.$pnls).append('<div class="'+r.navbar+" "+r.hidden+'"><a class="'+r.title+'">'+c.resultsPanel.title+"</a></div>").append('<ul class="'+r.listview+'" />').append(this.$pnls.find("."+r.noresultsmsg).first().clone()),this.init(h))}this.$menu.find("."+r.search).each(function(){var n,a,u=t(this),d=u.closest("."+r.panel).length;d?(n=u.closest("."+r.panel),a=n):(n=t("."+r.panel,l.$menu),a=l.$menu),c.resultsPanel.add&&(n=n.not(h));var p=u.children("input"),f=l.__findAddBack(n,"."+r.listview).children("li"),g=f.filter("."+r.divider),m=l.__filterListItems(f),v="a",y=v+", span",b="",w=function(){var e=p.val().toLowerCase();if(e!=b){if(b=e,c.resultsPanel.add&&h.children("."+r.listview).empty(),n.scrollTop(0),m.add(g).addClass(r.hidden).find("."+r.fullsubopensearch).removeClass(r.fullsubopen+" "+r.fullsubopensearch),m.each(function(){var e=t(this),n=v;(c.showTextItems||c.showSubPanels&&e.find("."+r.next))&&(n=y);var i=e.data(o.searchtext)||e.children(n).text();i.toLowerCase().indexOf(b)>-1&&e.add(e.prevAll("."+r.divider).first()).removeClass(r.hidden)}),c.showSubPanels&&n.each(function(e){var n=t(this);l.__filterListItems(n.find("."+r.listview).children()).each(function(){var e=t(this),n=e.data(o.sub);e.removeClass(r.nosubresults),n&&n.find("."+r.listview).children().removeClass(r.hidden)})}),c.resultsPanel.add)if(""===b)this.closeAllPanels(),this.openPanel(this.$pnls.children("."+r.subopened).last());else{var i=t();n.each(function(){var e=l.__filterListItems(t(this).find("."+r.listview).children()).not("."+r.hidden).clone(!0);e.length&&(c.resultsPanel.dividers&&(i=i.add('<li class="'+r.divider+'">'+t(this).children("."+r.navbar).text()+"</li>")),i=i.add(e))}),i.find("."+r.next).remove(),h.children("."+r.listview).append(i),this.openPanel(h)}else t(n.get().reverse()).each(function(e){var n=t(this),i=n.data(o.parent);i&&(l.__filterListItems(n.find("."+r.listview).children()).length?(i.hasClass(r.hidden)&&i.children("."+r.next).not("."+r.fullsubopen).addClass(r.fullsubopen).addClass(r.fullsubopensearch),i.removeClass(r.hidden).removeClass(r.nosubresults).prevAll("."+r.divider).first().removeClass(r.hidden)):d||(n.hasClass(r.opened)&&setTimeout(function(){l.openPanel(i.closest("."+r.panel))},(e+1)*(1.5*l.conf.openingInterval)),i.addClass(r.nosubresults)))});a.find("."+r.noresultsmsg)[m.not("."+r.hidden).length?"addClass":"removeClass"](r.hidden),this.update()}};p.off(s.keyup+"-"+i+" "+s.change+"-"+i).on(s.keyup+"-"+i,function(t){e(t.keyCode)||w.call(l)}).on(s.change+"-"+i,function(t){w.call(l)});var x=u.children("."+r.btn);x.length&&p.on(s.keyup+"-"+i,function(t){x[p.val().length?"removeClass":"addClass"](r.hidden)}),p.trigger(s.keyup+"-"+i)})}}})},add:function(){r=t[n]._c,o=t[n]._d,s=t[n]._e,r.add("clear search hassearch resultspanel noresultsmsg noresults nosubresults fullsubopensearch"),
o.add("searchtext"),s.add("change keyup")},clickAnchor:function(t,e){}},t[n].defaults[i]={add:!1,addTo:"panels",placeholder:"Search",noResults:"No results found.",resultsPanel:{add:!1,dividers:!0,title:"Search results"},search:!0,showTextItems:!1,showSubPanels:!0},t[n].configuration[i]={clear:!1,form:!1,input:!1,submit:!1};var r,o,s,a}(i),function(t){var e="mmenu",n="sectionIndexer";t[e].addons[n]={setup:function(){var r=this,a=this.opts[n];this.conf[n],s=t[e].glbl,"boolean"==typeof a&&(a={add:a}),"object"!=typeof a&&(a={}),a=this.opts[n]=t.extend(!0,{},t[e].defaults[n],a),this.bind("init",function(e){if(a.add){var n;switch(a.addTo){case"panels":n=e;break;default:n=t(a.addTo,this.$menu).filter("."+i.panel)}n.find("."+i.divider).closest("."+i.panel).addClass(i.hasindexer)}if(!this.$indexer&&this.$pnls.children("."+i.hasindexer).length){this.$indexer=t('<div class="'+i.indexer+'" />').prependTo(this.$pnls).append('<a href="#a">a</a><a href="#b">b</a><a href="#c">c</a><a href="#d">d</a><a href="#e">e</a><a href="#f">f</a><a href="#g">g</a><a href="#h">h</a><a href="#i">i</a><a href="#j">j</a><a href="#k">k</a><a href="#l">l</a><a href="#m">m</a><a href="#n">n</a><a href="#o">o</a><a href="#p">p</a><a href="#q">q</a><a href="#r">r</a><a href="#s">s</a><a href="#t">t</a><a href="#u">u</a><a href="#v">v</a><a href="#w">w</a><a href="#x">x</a><a href="#y">y</a><a href="#z">z</a>'),this.$indexer.children().on(o.mouseover+"-sectionindexer "+i.touchstart+"-sectionindexer",function(e){var n=t(this).attr("href").slice(1),o=r.$pnls.children("."+i.current),s=o.find("."+i.listview),a=!1,l=o.scrollTop();o.scrollTop(0),s.children("."+i.divider).not("."+i.hidden).each(function(){a===!1&&n==t(this).text().slice(0,1).toLowerCase()&&(a=t(this).position().top)}),o.scrollTop(a!==!1?a:l)});var s=function(t){r.$menu[(t.hasClass(i.hasindexer)?"add":"remove")+"Class"](i.hasindexer)};this.bind("openPanel",s),s.call(this,this.$pnls.children("."+i.current))}})},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("indexer hasindexer"),o.add("mouseover touchstart")},clickAnchor:function(t,e){return!!t.parent().is("."+i.indexer)||void 0}},t[e].defaults[n]={add:!1,addTo:"panels"};var i,r,o,s}(i),function(t){var e="mmenu",n="setSelected";t[e].addons[n]={setup:function(){var o=this.opts[n];if(this.conf[n],s=t[e].glbl,"boolean"==typeof o&&(o={hover:o,parent:o}),"object"!=typeof o&&(o={}),o=this.opts[n]=t.extend(!0,{},t[e].defaults[n],o),o.current||this.bind("init",function(t){t.find("."+i.listview).children("."+i.selected).removeClass(i.selected)}),o.hover&&this.$menu.addClass(i.hoverselected),o.parent){this.$menu.addClass(i.parentselected);var a=function(t){this.$pnls.find("."+i.listview).find("."+i.next).removeClass(i.selected);for(var e=t.data(r.parent);e&&e.length;)e=e.children("."+i.next).addClass(i.selected).closest("."+i.panel).data(r.parent)};this.bind("openedPanel",a),this.bind("init",function(t){a.call(this,this.$pnls.children("."+i.current))})}},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("hoverselected parentselected")},clickAnchor:function(t,e){}},t[e].defaults[n]={current:!0,hover:!1,parent:!1};var i,r,o,s}(i),function(t){var e="mmenu",n="toggles";t[e].addons[n]={setup:function(){var r=this;this.opts[n],this.conf[n],s=t[e].glbl,this.bind("init",function(e){this.__refactorClass(t("input",e),this.conf.classNames[n].toggle,"toggle"),this.__refactorClass(t("input",e),this.conf.classNames[n].check,"check"),t("input."+i.toggle+", input."+i.check,e).each(function(){var e=t(this),n=e.closest("li"),o=e.hasClass(i.toggle)?"toggle":"check",s=e.attr("id")||r.__getUniqueId();n.children('label[for="'+s+'"]').length||(e.attr("id",s),n.prepend(e),t('<label for="'+s+'" class="'+i[o]+'"></label>').insertBefore(n.children("a, span").last()))})})},add:function(){i=t[e]._c,r=t[e]._d,o=t[e]._e,i.add("toggle check")},clickAnchor:function(t,e){}},t[e].configuration.classNames[n]={toggle:"Toggle",check:"Check"};var i,r,o,s}(i)},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(2),l=n(3),r=n(11),s=n(16),o=n(13),c=n(22),n(23),a=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.channel=r.Radio.channel("root")}return u(e,t),e.prototype.template=c,e.prototype.ui={home:".nav-home",strengths:".nav-strengths",logs:".nav-logs",summary:".nav-summary",profile:".nav-profile",account:".nav-account",setting:".nav-setting",about:".nav-about",report:".nav-report",logout:".nav-logout",homeTip:".nav-home-tip",strengthTip:".nav-strengths-tip",logTip:".nav-logs-tip",summaryTip:".nav-summary-tip"},e.prototype.bindings={"#nav-username":{observe:"username"}},e.prototype.events={"click #navbar-logo":function(){s.channel("root").request("drawer:close"),this.channel.request("home")},"click #navbar-banner":function(){s.channel("root").request("drawer:close"),this.channel.request("home")},"click #navbar-drawer":function(){s.channel("root").request("drawer:open")},"click @ui.strengths":function(){s.channel("root").request("drawer:close"),this.channel.request("strengths")},"click @ui.logs":function(){s.channel("root").request("drawer:close"),this.channel.request("logs")},"click @ui.account":function(){s.channel("root").request("drawer:close"),this.channel.request("account")},"click @ui.profile":function(){s.channel("root").request("drawer:close"),this.channel.request("profile")},"click @ui.setting":function(){s.channel("root").request("drawer:close"),this.channel.request("setting")},"click @ui.about":function(){s.channel("root").request("drawer:close"),this.channel.request("help")},"click @ui.report":function(){s.channel("root").request("drawer:close"),this.channel.request("report")},"click @ui.logout":function(){s.channel("root").request("drawer:close"),this.channel.request("logout")}},e.prototype.onRender=function(){this.ui.homeTip.tooltip({title:"Home",placement:"bottom"}),this.ui.strengthTip.tooltip({title:"Journals",placement:"bottom"}),this.ui.logTip.tooltip({title:"Graphs",placement:"bottom"}),this.ui.summaryTip.tooltip({title:"Summary",placement:"bottom"}),this.stickit()},e}(o.ItemView),t.exports=a},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div id="navbar-container"><div class="col-xs-12"><nav class="navbar navbar-default navbar-fixed-top"><div class="container-fluid"><div class="navbar-header"><a id="navbar-drawer" class="navbar-brand"><i class="fa fa-lg fa-navicon"></i>'+i.escape(null==(e=" ")?"":e)+'</a><img src="./images/banner.png" id="navbar-banner"></div><div class="collapse navbar-collapse"><ul class="nav navbar-nav navbar-right"><li class="nav-divider-vertical"></li><li class="nav-strengths nav-strengths-tip"><a><i class="nav-icon fa fa-fw fa-2x fa-pencil"></i></a></li><li class="nav-divider-vertical"></li><li class="dropdown"><a data-toggle="dropdown" role="button" aria-expanded="false" class="dropdown-toggle"><b id="nav-username">Username</b><i class="fa fa-fw fa-lg fa-caret-down"></i></a><ul role="menu" class="dropdown-menu"><li class="nav-profile"><a><i class="fa fa-fw fa-lg fa-folder-open-o"></i>'+i.escape(null==(e=" ")?"":e)+'Profile</a></li><li class="nav-account"><a><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+'Account</a></li><li class="divider"></li><li class="nav-logout"><a><i class="fa fa-fw fa-lg fa-sign-out"></i>'+i.escape(null==(e=" ")?"":e)+"Log Out</a></li></ul></li></ul></div></div></nav></div></div>"),n.join("")}},function(t,e,n){var i,r,o;n(11);!function(s){r=[n(12),n(11),e],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t,e,n){e.Stickit=n,n._handlers=[],n.addHandler=function(e){e=t.map(t.flatten([e]),function(e){return t.defaults({},e,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(e)},n.ViewMixin={_modelBindings:null,unstickit:function(e,n){if(t.isObject(n))return void t.each(n,function(t,n){this.unstickit(e,n)},this);var i=[],r=[];this._modelBindings=t.reject(this._modelBindings,function(t){if(!(e&&t.model!==e||n&&t.config.selector!=n))return t.model.off(t.event,t.fn),r.push(t.config._destroy),i.push(t.model),!0}),t.invoke(t.uniq(i),"trigger","stickit:unstuck",this.cid),t.each(t.uniq(r),function(t){t.call(this)},this),this.$el.off(".stickit"+(e?"."+e.cid:""),n)},stickit:function(e,n){var i=e||this.model,r=n||t.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(i,r);var o=this.remove;return o.stickitWrapped||(this.remove=function(){var t=this;return this.unstickit(),o&&(t=o.apply(this,arguments)),t}),this.remove.stickitWrapped=!0,this},addBinding:function(e,n,r){var g=e||this.model,m=".stickit."+g.cid;if(r=r||{},t.isObject(n)){var v=n;return void t.each(v,function(t,e){this.addBinding(g,e,t)},this)}var y=":el"===n?this.$el:this.$(n);if(this.unstickit(g,n),y.length){t.isString(r)&&(r={observe:r}),t.isFunction(r.observe)&&(r.observe=r.observe.call(this));var b=u(y,r),w=b.observe;b.selector=n,b.view=this;var x=b.bindId=t.uniqueId(),_=t.extend({stickitChange:b},b.setOptions);if(b._destroy=function(){o.call(this,b.destroy,y,g,b)},h(y,b,g,w),p(y,b,g,w),d(y,b,g,w),w){t.each(b.events,function(e){var r=e+m,a=function(t){var e=o.call(this,b.getVal,y,t,b,i.call(arguments,1)),n=s(b.updateModel,e,t,b);n&&l(g,w,e,_,b)},c=":el"===n?"":n;this.$el.on(r,c,t.bind(a,this))},this),t.each(t.flatten([w]),function(t){a(g,"change:"+t,b,function(t,e,n){var i=n&&n.stickitChange&&n.stickitChange.bindId;if(i!==x){var r=c(g,w,b);f(y,b,r,g)}})});var C=c(g,w,b);f(y,b,C,g,!0)}o.call(this,b.initialize,y,g,b)}}},t.extend(e.View.prototype,n.ViewMixin);var i=[].slice,r=function(e,n){var i=(n||"").split("."),r=t.reduce(i,function(t,e){return t[e]},e);return null==r?e:r},o=function(e){if(e=t.isString(e)?r(this,e):e)return e.apply(this,i.call(arguments,1))},s=function(e,n,i){if(t.isBoolean(e))return e;if(t.isFunction(e)||t.isString(e)){var r=t.last(arguments).view;return o.apply(r,arguments)}return!1},a=function(t,e,n,i){var r=n.view;t.on(e,i,r),r._modelBindings.push({model:t,event:e,fn:i,config:n})},l=function(e,n,i,r,s){var a={},l=s.view;s.onSet&&(i=o.call(l,s.onSet,i,s)),s.set?o.call(l,s.set,n,i,r,s):(a[n]=i,t.isArray(n)&&t.isArray(i)&&(a=t.reduce(n,function(e,n,r){return e[n]=t.has(i,r)?i[r]:null,e},{})),e.set(a,r))},c=function(e,n,i){var r=i.view,s=function(t){return e[i.escape?"escape":"get"](t)},a=function(t){return null==t?"":t},l=t.isArray(n)?t.map(n,s):s(n);return i.onGet&&(l=o.call(r,i.onGet,l,i)),t.isArray(l)?t.map(l,a):a(l)},u=n.getConfiguration=function(e,i){var r=[{updateModel:!1,updateMethod:"text",update:function(t,e,n,i){t[i.updateMethod]&&t[i.updateMethod](e)},getVal:function(t,e,n){return t[n.updateMethod]()}}];r=r.concat(t.filter(n._handlers,function(t){return e.is(t.selector)})),r.push(i);var o=t.extend.apply(t,r);return t.has(o,"updateView")||(o.updateView=!o.visible),o},h=function(e,n,i,r){var o=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],s=n.view;t.each(n.attributes||[],function(l){l=t.clone(l),l.view=s;var u="",h=l.observe||(l.observe=r),d=function(){var n=t.contains(o,l.name)?"prop":"attr",r=c(i,h,l);"class"===l.name?(e.removeClass(u).addClass(r),u=r):e[n](l.name,r)};t.each(t.flatten([h]),function(t){a(i,"change:"+t,n,d)}),d()})},d=function(e,n,i,r){t.each(n.classes||[],function(r,o){t.isString(r)&&(r={observe:r}),r.view=n.view;var s=r.observe,l=function(){var t=c(i,s,r);e.toggleClass(o,!!t)};t.each(t.flatten([s]),function(t){a(i,"change:"+t,n,l)}),l()})},p=function(e,n,i,r){if(null!=n.visible){var s=n.view,l=function(){var a=n.visible,l=n.visibleFn,u=c(i,r,n),h=!!u;(t.isFunction(a)||t.isString(a))&&(h=!!o.call(s,a,u,n)),l?o.call(s,l,e,h,n):e.toggle(h)};t.each(t.flatten([r]),function(t){a(i,"change:"+t,n,l)}),l()}},f=function(t,e,n,i,r){var a=e.view;s(e.updateView,n,e)&&(o.call(a,e.update,t,n,i,e),r||o.call(a,e.afterUpdate,t,n,e))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(t,e){t.val(e)},getVal:function(t){return t.val()}},{selector:'input[type="radio"]',events:["change"],update:function(t,e){t.filter('[value="'+e+'"]').prop("checked",!0)},getVal:function(t){return t.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,i,r,o){if(n.length>1)i||(i=[]),n.each(function(n,r){var o=e.$(r),s=t.contains(i,o.val());o.prop("checked",s)});else{var s=t.isBoolean(i)?i:i===n.val();n.prop("checked",s)}},getVal:function(n){var i;if(n.length>1)i=t.reduce(n,function(t,n){var i=e.$(n);return i.prop("checked")&&t.push(i.val()),t},[]);else{i=n.prop("checked");var r=n.val();"on"!==r&&null!=r&&(i=i?n.val():null)}return i}},{selector:"select",events:["change"],update:function(n,i,s,a){var l,u=a.selectOptions,h=u&&u.collection||void 0,d=n.prop("multiple");if(!u){u={};var p=function(t){return t.map(function(t,n){var i=e.$(n).data("stickit-bind-val");return{value:void 0!==i?i:n.value,label:n.text}}).get()};n.find("optgroup").length?(h={opt_labels:[]},n.find("> option").length&&(h.opt_labels.push(void 0),t.each(n.find("> option"),function(t){h[void 0]=p(e.$(t))})),t.each(n.find("optgroup"),function(t){var n=e.$(t).attr("label");h.opt_labels.push(n),h[n]=p(e.$(t).find("option"))})):h=p(n.find("option"))}u.valuePath=u.valuePath||"value",u.labelPath=u.labelPath||"label",u.disabledPath=u.disabledPath||"disabled";var f=function(n,i,o){t.each(n,function(n){var s,a,l,c=e.$("<option/>"),h=n,p=function(e,n,i){c.text(e),h=n,c.data("stickit-bind-val",h),t.isArray(h)||t.isObject(h)||c.val(h),i===!0&&c.prop("disabled","disabled")};"__default__"===n?(s=o.label,a=o.value,l=o.disabled):(s=r(n,u.labelPath),a=r(n,u.valuePath),l=r(n,u.disabledPath)),p(s,a,l);var f=function(){return!d&&null!=h&&null!=o&&h===o||!(!t.isObject(o)||!t.isEqual(h,o))};f()?c.prop("selected",!0):d&&t.isArray(o)&&t.each(o,function(e){t.isObject(e)&&(e=r(e,u.valuePath)),(e===h||t.isObject(e)&&t.isEqual(h,e))&&c.prop("selected",!0)}),i.append(c)})};if(n.find("*").remove(),t.isString(h)){var g=window;0===h.indexOf("this.")&&(g=this),h=h.replace(/^[a-z]*\.(.+)$/,"$1"),l=r(g,h)}else l=t.isFunction(h)?o.call(this,h,n,a):h;if(l instanceof e.Collection){var m=l,v=function(){var t=c(s,a.observe,a);o.call(this,a.update,n,t,s,a)},y=function(){m.off("add remove reset sort",v)},b=function(){y(),m.off("stickit:selectRefresh"),s.off("stickit:selectRefresh")};m.trigger("stickit:selectRefresh"),m.once("stickit:selectRefresh",y,this),m.on("add remove reset sort",v,this),s.trigger("stickit:selectRefresh"),s.once("stickit:selectRefresh",function(){s.off("stickit:unstuck",b)}),s.once("stickit:unstuck",b,this),l=l.toJSON()}if(u.defaultOption){var w=t.isFunction(u.defaultOption)?u.defaultOption.call(this,n,a):u.defaultOption;f(["__default__"],n,w)}if(t.isArray(l))f(l,n,i);else if(l.opt_labels)t.each(l.opt_labels,function(t){var r=e.$("<optgroup/>").attr("label",t);f(l[t],r,i),n.append(r)});else{var x,_=[];for(var C in l)x={},x[u.valuePath]=C,x[u.labelPath]=l[C],_.push(x);_=t.sortBy(_,u.comparator||u.labelPath),f(_,n,i)}},getVal:function(n){var i=n.find("option:selected");return n.prop("multiple")?t.map(i,function(t){return e.$(t).data("stickit-bind-val")}):i.data("stickit-bind-val")}}]),n})},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=n(16),i=n(13),s=n(25),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.channel=r.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.events={"click #basic-nav-logo":function(){this.channel.request("index")},"click #basic-nav-banner":function(){this.channel.request("index")}},e}(i.ItemView),t.exports=o},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="basic-nav-container"><img src="./images/logo.png" id="basic-nav-logo"><img src="./images/banner.png" id="basic-nav-banner"></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;r=n(16),i=n(13),s=n(27),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.channel=r.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.events={"click #index-nav-logo":function(){this.channel.request("index")},"click #index-nav-banner":function(){this.channel.request("index")},"click #index-nav-login":function(){this.channel.request("login")},"click #index-nav-signup":function(){this.channel.request("signup")}},e}(i.ItemView),t.exports=o},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div id="index-nav-container"><img src="./images/logo.png" id="index-nav-logo"><img src="./images/banner.png" id="index-nav-banner"><button type="button" id="index-nav-signup" class="btn btn-success"><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+"Sign Up</button>"+i.escape(null==(e=" ")?"":e)+'<button type="button" id="index-nav-login" class="btn btn-primary"><i class="fa fa-fw fa-lg fa-sign-in"></i>'+i.escape(null==(e=" ")?"":e)+"Login</button></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=n(2),r=n(11),o=n(13),a=n(29),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.channel=r.Radio.channel("root"),this.route="",this.channel.reply({"clear:navigation":function(t){return function(e){t.route!==e&&i(t.el).find("li").removeClass("active")}}(this)})}return l(e,t),e.prototype.template=a,e.prototype.events={"click li":function(t){this.select(t.target)},"click i":function(t){this.select(i(t.target).parent()[0])}},e.prototype.select=function(t){var e;"LI"===t.tagName&&(i(this.el).find("li").removeClass("active"),e=i(t),e.addClass("active"),this.route=e.data("route"),this.channel.request(e.data("route")))},e}(o.ItemView),t.exports=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="col-xs-12"><div id="navigator-bottom-container"><ul><li id="navigator-bottom-home" data-route="home"><i class="fa fa-fw fa-lg fa-home"></i></li><li id="navigator-bottom-weight" data-route="weights"><i class="fa fa-fw fa-lg fa-tachometer"></i></li><li id="navigator-bottom-schedule" data-route="schedule"><i class="fa fa-fw fa-lg fa-calendar-check-o"></i></li><li id="navigator-bottom-journal" data-route="strengths"><i class="fa fa-fw fa-lg fa-pencil"></i></li></ul></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=n(11),r=n(13),s=n(31),n(23),o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.events={"click #error-index":function(){this.rootChannel.request("index")}},e}(r.ItemView),t.exports=o},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<h1>401 - Not Authorized!</h1><p>Log in with credentials.</p><p><a href="/login">Go Back</a></p>'),e.join("")}},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=n(11),r=n(13),s=n(33),n(23),o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.events={"click #footer-about":function(){this.rootChannel.request("about")},"click #footer-feedback":function(){this.rootChannel.request("feedback")}},e}(r.ItemView),t.exports=o},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<hr><div class="row"><div class="col-xs-12"><span><b>Share Us</b></span></div></div><div class="row"><div class="col-xs-12"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3A//workoutrank.com/"><i class="fa fa-fw fa-lg fa-facebook"></i></a>'+i.escape(null==(e=" ")?"":e)+'<a target="_blank" href="https://plus.google.com/share?url=http%3A//workoutrank.com/"><i class="fa fa-fw fa-lg fa-google-plus"></i></a>'+i.escape(null==(e=" ")?"":e)+'<a target="_blank" href="https://twitter.com/home?status=http%3A//workoutrank.com/"><i class="fa fa-fw fa-lg fa-twitter"></i></a></div></div><br><div class="row"><div class="col-xs-12"><i class="fa fa-fw fa-lg fa-copyright"></i>'+i.escape(null==(e=" ")?"":e)+'<span>2016 WorkoutRank.com</span></div></div><div class="row"><div class="col-xs-12"><a id="footer-about"><b>About</b></a>'+i.escape(null==(e=" ")?"":e)+"<span>|</span>"+i.escape(null==(e=" ")?"":e)+'<a id="footer-feedback"><b>Feedback</b></a></div></div>'),n.join("")}},function(t,e,n){var i,r,o,s=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=n(13),o=n(35),n(23),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.template=o,e}(i.ItemView),t.exports.View=r},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="loader-page-spinner"><div class="sk-fading-circle"><div class="sk-circle1 sk-circle"></div><div class="sk-circle2 sk-circle"></div><div class="sk-circle3 sk-circle"></div><div class="sk-circle4 sk-circle"></div><div class="sk-circle5 sk-circle"></div><div class="sk-circle6 sk-circle"></div><div class="sk-circle7 sk-circle"></div><div class="sk-circle8 sk-circle"></div><div class="sk-circle9 sk-circle"></div><div class="sk-circle10 sk-circle"></div><div class="sk-circle11 sk-circle"></div><div class="sk-circle12 sk-circle"></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;r=n(11),c=n(13),o=n(37),s=n(40),u=n(42),a=n(44),d=n(47),l=n(53),i=n(57),h=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.navChannel=r.Radio.channel("nav"),this.rootChannel=r.Radio.channel("root"),this.rootView=this.rootChannel.request("rootview"),this.rootChannel.reply({index:function(t){return function(){t.rootChannel.request("navigate",""),t.index()}}(this),signup:function(t){return function(){t.rootChannel.request("navigate","signup"),t.signup()}}(this),login:function(t){return function(){t.rootChannel.request("navigate","login"),t.login()}}(this),logout:function(t){return function(){var e;t.rootChannel.request("spin:page:loader",!0),e=new r.Model,e.save({},{url:"/api/logout",success:function(){t.rootChannel.request("spin:page:loader",!1),t.navigate("login",{trigger:!0}),t.login()},error:function(e,n){t.rootChannel.request("message:error",n)}})}}(this),about:function(t){return function(){t.rootChannel.request("navigate","about"),t.about()}}(this),feedback:function(t){return function(){t.rootChannel.request("navigate","feedback"),t.feedback()}}(this),forgot:function(t){return function(){t.rootChannel.request("navigate","forgot"),t.forgot()}}(this),reset:function(t){return function(){t.rootChannel.request("navigate","reset"),t.reset()}}(this)})}return p(e,t),e.prototype.routes={"":"index",signup:"signup",login:"login",about:"about",feedback:"feedback",forgot:"forgot",reset:"reset"},e.prototype.index=function(){this.navChannel.request("nav:index"),this.rootView.content.empty(),this.rootView.index.show(new a)},e.prototype.signup=function(){this.navChannel.request("nav:basic"),this.rootView.index.empty(),this.rootView.content.show(new d)},e.prototype.login=function(){this.navChannel.request("nav:basic"),this.rootView.index.empty(),this.rootView.content.show(new l)},e.prototype.about=function(){this.navChannel.request("nav:basic"),this.rootView.index.empty(),this.rootView.content.show(new i)},e.prototype.feedback=function(){this.navChannel.request("nav:basic"),this.rootView.index.empty(),this.rootView.content.show(new o.View({model:new o.Model}))},e.prototype.forgot=function(){this.navChannel.request("nav:basic"),this.rootView.index.empty(),this.rootView.content.show(new s.View({model:new s.Model}))},e.prototype.reset=function(t){var e;e=function(){var t,e;return t=location.search.slice(1).split("&"),e={},t.forEach(function(t){t=t.split("="),e[t[0]]=decodeURIComponent(t[1]||"")}),JSON.parse(JSON.stringify(e))},t=e(),this.navChannel.request("nav:index"),this.rootView.index.empty(),this.rootView.content.show(new u.View({model:new u.Model({user:t.user,token:t.token})}))},e}(c.AppRouter),t.exports=h},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(38),i=n(11),r=n(13),l=n(39),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.url="api/feedback",e.prototype.defaults={type:0,title:"",text:""},e}(i.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return c(e,t),e.prototype.template=l,e.prototype.bindings={"#feedback-title":"title","#feedback-editor":"text"},e.prototype.modelEvents={sync:function(t){t.clear().set(t.defaults)}},e.prototype.events={"click #feedback-home":function(){this.rootChannel.request("home")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.save(null,{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),a({title:"Success",text:"Message Sent!",type:"success"})}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i,i,r;!function(o,s,a){"use strict";!function t(e,n,r){function o(a,l){if(!n[a]){if(!e[a]){var c="function"==typeof i&&i;if(!l&&c)return i(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var h=n[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n?n:t)},h,h.exports,t,e,n,r)}return n[a].exports}for(var s="function"==typeof i&&i,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r,l,c,u,h=t("./modules/handle-dom"),d=t("./modules/utils"),p=t("./modules/handle-swal-dom"),f=t("./modules/handle-click"),g=t("./modules/handle-key"),m=i(g),v=t("./modules/default-params"),y=i(v),b=t("./modules/set-params"),w=i(b);n.default=c=u=function(){function t(t){var n=e;return n[t]===a?y.default[t]:n[t]}var e=arguments[0];if(h.addClass(s.body,"stop-scrolling"),p.resetInput(),e===a)return d.logStr("SweetAlert expects at least 1 attribute!"),!1;var n=d.extend({},y.default);switch(typeof e){case"string":n.title=e,n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(e.title===a)return d.logStr('Missing "title" argument!'),!1;n.title=e.title;for(var i in y.default)n[i]=t(i);n.confirmButtonText=n.showCancelButton?"Confirm":y.default.confirmButtonText,n.confirmButtonText=t("confirmButtonText"),n.doneFunction=arguments[1]||null;break;default:return d.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof e),!1}w.default(n),p.fixVerticalPosition(),p.openModal(arguments[1]);for(var c=p.getModal(),g=c.querySelectorAll("button"),v=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],b=function(t){return f.handleButton(t,n,c)},x=0;x<g.length;x++)for(var _=0;_<v.length;_++){var C=v[_];g[x][C]=b}p.getOverlay().onclick=b,r=o.onkeydown;var k=function(t){return m.default(t,n,c)};o.onkeydown=k,o.onfocus=function(){setTimeout(function(){l!==a&&(l.focus(),l=a)},0)},u.enableButtons()},c.setDefaults=u.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!=typeof t)throw new Error("userParams has to be a object");d.extend(y.default,t)},c.close=u.close=function(){var t=p.getModal();h.fadeOut(p.getOverlay(),5),h.fadeOut(t,5),h.removeClass(t,"showSweetAlert"),h.addClass(t,"hideSweetAlert"),h.removeClass(t,"visible");var e=t.querySelector(".sa-icon.sa-success");h.removeClass(e,"animate"),h.removeClass(e.querySelector(".sa-tip"),"animateSuccessTip"),h.removeClass(e.querySelector(".sa-long"),"animateSuccessLong");var n=t.querySelector(".sa-icon.sa-error");h.removeClass(n,"animateErrorIcon"),h.removeClass(n.querySelector(".sa-x-mark"),"animateXMark");var i=t.querySelector(".sa-icon.sa-warning");return h.removeClass(i,"pulseWarning"),h.removeClass(i.querySelector(".sa-body"),"pulseWarningIns"),h.removeClass(i.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var e=t.getAttribute("data-custom-class");h.removeClass(t,e)},300),h.removeClass(s.body,"stop-scrolling"),o.onkeydown=r,o.previousActiveElement&&o.previousActiveElement.focus(),l=a,clearTimeout(t.timeout),!0},c.showInputError=u.showInputError=function(t){var e=p.getModal(),n=e.querySelector(".sa-input-error");h.addClass(n,"show");var i=e.querySelector(".sa-error-container");h.addClass(i,"show"),i.querySelector("p").innerHTML=t,setTimeout(function(){c.enableButtons()},1),e.querySelector("input").focus()},c.resetInputError=u.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=p.getModal(),n=e.querySelector(".sa-input-error");h.removeClass(n,"show");var i=e.querySelector(".sa-error-container");h.removeClass(i,"show")},c.disableButtons=u.disableButtons=function(){var t=p.getModal(),e=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");e.disabled=!0,n.disabled=!0},c.enableButtons=u.enableButtons=function(){var t=p.getModal(),e=t.querySelector("button.confirm"),n=t.querySelector("button.cancel");e.disabled=!1,n.disabled=!1},"undefined"!=typeof o?o.sweetAlert=o.swal=c:d.logStr("SweetAlert is a frontend module!"),e.exports=n.default},{"./modules/default-params":2,"./modules/handle-click":3,"./modules/handle-dom":4,"./modules/handle-key":5,"./modules/handle-swal-dom":6,"./modules/set-params":8,"./modules/utils":9}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n.default=i,e.exports=n.default},{}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("./utils"),r=(t("./handle-swal-dom"),t("./handle-dom")),s=function(t,e,n){function s(t){f&&e.confirmButtonColor&&(p.style.backgroundColor=t)}var c,u,h,d=t||o.event,p=d.target||d.srcElement,f=-1!==p.className.indexOf("confirm"),g=-1!==p.className.indexOf("sweet-overlay"),m=r.hasClass(n,"visible"),v=e.doneFunction&&"true"===n.getAttribute("data-has-done-function");
switch(f&&e.confirmButtonColor&&(c=e.confirmButtonColor,u=i.colorLuminance(c,-.04),h=i.colorLuminance(c,-.14)),d.type){case"mouseover":s(u);break;case"mouseout":s(c);break;case"mousedown":s(h);break;case"mouseup":s(u);break;case"focus":var y=n.querySelector("button.confirm"),b=n.querySelector("button.cancel");f?b.style.boxShadow="none":y.style.boxShadow="none";break;case"click":var w=n===p,x=r.isDescendant(n,p);if(!w&&!x&&m&&!e.allowOutsideClick)break;f&&v&&m?a(n,e):v&&m||g?l(n,e):r.isDescendant(n,p)&&"BUTTON"===p.tagName&&sweetAlert.close()}},a=function(t,e){var n=!0;r.hasClass(t,"show-input")&&(n=t.querySelector("input").value,n||(n="")),e.doneFunction(n),e.closeOnConfirm&&sweetAlert.close(),e.showLoaderOnConfirm&&sweetAlert.disableButtons()},l=function(t,e){var n=String(e.doneFunction).replace(/\s/g,""),i="function("===n.substring(0,9)&&")"!==n.substring(9,10);i&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};n.default={handleButton:s,handleConfirm:a,handleCancel:l},e.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},r=function(t,e){i(t,e)||(t.className+=" "+e)},a=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(i(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},l=function(t){var e=s.createElement("div");return e.appendChild(s.createTextNode(t)),e.innerHTML},c=function(t){t.style.opacity="",t.style.display="block"},u=function(t){if(t&&!t.length)return c(t);for(var e=0;e<t.length;++e)c(t[e])},h=function(t){t.style.opacity="",t.style.display="none"},d=function(t){if(t&&!t.length)return h(t);for(var e=0;e<t.length;++e)h(t[e])},p=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},f=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+e)/2)+"px"},g=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(i,e)});i()}t.style.display="block"},m=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date,i=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(i,e):t.style.display="none"});i()},v=function(t){if("function"==typeof MouseEvent){var e=new MouseEvent("click",{view:o,bubbles:!1,cancelable:!0});t.dispatchEvent(e)}else if(s.createEvent){var n=s.createEvent("MouseEvents");n.initEvent("click",!1,!1),t.dispatchEvent(n)}else s.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},y=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):o.event&&o.event.hasOwnProperty("cancelBubble")&&(o.event.cancelBubble=!0)};n.hasClass=i,n.addClass=r,n.removeClass=a,n.escapeHtml=l,n._show=c,n.show=u,n._hide=h,n.hide=d,n.isDescendant=p,n.getTopMargin=f,n.fadeIn=g,n.fadeOut=m,n.fireClick=v,n.stopEventPropagation=y},{}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("./handle-dom"),r=t("./handle-swal-dom"),s=function(t,e,n){var s=t||o.event,l=s.keyCode||s.which,c=n.querySelector("button.confirm"),u=n.querySelector("button.cancel"),h=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(l)){for(var d=s.target||s.srcElement,p=-1,f=0;f<h.length;f++)if(d===h[f]){p=f;break}9===l?(d=-1===p?c:p===h.length-1?h[0]:h[p+1],i.stopEventPropagation(s),d.focus(),e.confirmButtonColor&&r.setFocusStyle(d,e.confirmButtonColor)):13===l?("INPUT"===d.tagName&&(d=c,c.focus()),d=-1===p?c:a):27===l&&e.allowEscapeKey===!0?(d=u,i.fireClick(d,s)):d=a}};n.default=s,e.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6}],6:[function(t,e,n){var i=function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=t("./utils"),a=t("./handle-dom"),l=t("./default-params"),c=i(l),u=t("./injected-html"),h=i(u),d=".sweet-alert",p=".sweet-overlay",f=function(){var t=s.createElement("div");for(t.innerHTML=h.default;t.firstChild;)s.body.appendChild(t.firstChild)},g=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t=s.querySelector(d);return t||(f(),t=g()),t}),m=function(){var t=g();return t?t.querySelector("input"):void 0},v=function(){return s.querySelector(p)},y=function(t,e){var n=r.hexToRgb(e);t.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},b=function(t){var e=g();a.fadeIn(v(),10),a.show(e),a.addClass(e,"showSweetAlert"),a.removeClass(e,"hideSweetAlert"),o.previousActiveElement=s.activeElement;var n=e.querySelector("button.confirm");n.focus(),setTimeout(function(){a.addClass(e,"visible")},500);var i=e.getAttribute("data-timer");if("null"!==i&&""!==i){var r=t;e.timeout=setTimeout(function(){var t=(r||null)&&"true"===e.getAttribute("data-has-done-function");t?r(null):sweetAlert.close()},i)}},w=function(){var t=g(),e=m();a.removeClass(t,"show-input"),e.value=c.default.inputValue,e.setAttribute("type",c.default.inputType),e.setAttribute("placeholder",c.default.inputPlaceholder),x()},x=function(t){if(t&&13===t.keyCode)return!1;var e=g(),n=e.querySelector(".sa-input-error");a.removeClass(n,"show");var i=e.querySelector(".sa-error-container");a.removeClass(i,"show")},_=function(){var t=g();t.style.marginTop=a.getTopMargin(g())};n.sweetAlertInitialize=f,n.getModal=g,n.getOverlay=v,n.getInput=m,n.setFocusStyle=y,n.openModal=b,n.resetInput=w,n.resetInputError=x,n.fixVerticalPosition=_},{"./default-params":2,"./handle-dom":4,"./injected-html":7,"./utils":9}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n.default=i,e.exports=n.default},{}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("./utils"),r=t("./handle-swal-dom"),o=t("./handle-dom"),s=["error","warning","info","success","input","prompt"],l=function(t){var e=r.getModal(),n=e.querySelector("h2"),l=e.querySelector("p"),c=e.querySelector("button.cancel"),u=e.querySelector("button.confirm");if(n.innerHTML=t.html?t.title:o.escapeHtml(t.title).split("\n").join("<br>"),l.innerHTML=t.html?t.text:o.escapeHtml(t.text||"").split("\n").join("<br>"),t.text&&o.show(l),t.customClass)o.addClass(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var h=e.getAttribute("data-custom-class");o.removeClass(e,h),e.setAttribute("data-custom-class","")}if(o.hide(e.querySelectorAll(".sa-icon")),t.type&&!i.isIE8()){var d=function(){for(var n=!1,i=0;i<s.length;i++)if(t.type===s[i]){n=!0;break}if(!n)return logStr("Unknown alert type: "+t.type),{v:!1};var l=["success","error","warning","info"],c=a;-1!==l.indexOf(t.type)&&(c=e.querySelector(".sa-icon.sa-"+t.type),o.show(c));var u=r.getInput();switch(t.type){case"success":o.addClass(c,"animate"),o.addClass(c.querySelector(".sa-tip"),"animateSuccessTip"),o.addClass(c.querySelector(".sa-long"),"animateSuccessLong");break;case"error":o.addClass(c,"animateErrorIcon"),o.addClass(c.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":o.addClass(c,"pulseWarning"),o.addClass(c.querySelector(".sa-body"),"pulseWarningIns"),o.addClass(c.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":u.setAttribute("type",t.inputType),u.value=t.inputValue,u.setAttribute("placeholder",t.inputPlaceholder),o.addClass(e,"show-input"),setTimeout(function(){u.focus(),u.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof d)return d.v}if(t.imageUrl){var p=e.querySelector(".sa-icon.sa-custom");p.style.backgroundImage="url("+t.imageUrl+")",o.show(p);var f=80,g=80;if(t.imageSize){var m=t.imageSize.toString().split("x"),v=m[0],y=m[1];v&&y?(f=v,g=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}p.setAttribute("style",p.getAttribute("style")+"width:"+f+"px; height:"+g+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?c.style.display="inline-block":o.hide(c),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?u.style.display="inline-block":o.hide(u),t.cancelButtonText&&(c.innerHTML=o.escapeHtml(t.cancelButtonText)),t.confirmButtonText&&(u.innerHTML=o.escapeHtml(t.confirmButtonText)),t.confirmButtonColor&&(u.style.backgroundColor=t.confirmButtonColor,u.style.borderLeftColor=t.confirmLoadingButtonColor,u.style.borderRightColor=t.confirmLoadingButtonColor,r.setFocusStyle(u,t.confirmButtonColor)),e.setAttribute("data-allow-outside-click",t.allowOutsideClick);var b=!!t.doneFunction;e.setAttribute("data-has-done-function",b),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)};n.default=l,e.exports=n.default},{"./handle-dom":4,"./handle-swal-dom":6,"./utils":9}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},r=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?parseInt(e[1],16)+", "+parseInt(e[2],16)+", "+parseInt(e[3],16):null},s=function(){return o.attachEvent&&!o.addEventListener},a=function(t){o.console&&o.console.log("SweetAlert: "+t)},l=function(t,e){t=String(t).replace(/[^0-9a-f]/gi,""),t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;var n,i,r="#";for(i=0;3>i;i++)n=parseInt(t.substr(2*i,2),16),n=Math.round(Math.min(Math.max(0,n+n*e),255)).toString(16),r+=("00"+n).substr(n.length);return r};n.extend=i,n.hexToRgb=r,n.isIE8=s,n.logStr=a,n.colorLuminance=l},{}]},{},[1]),r=function(){return sweetAlert}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))}(window,document)},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="feedback-home"><a>Home</a></li><li class="active"><span>Feedback</span><i class="fa fa-fw fa-lg fa-mail-forward"></i></li></ol></div></div><br><div class="row"><div id="feedback-view-container" class="col-lg-6"><form class="form-horizontal"><div class="form-group"><div class="row"><div class="col-xs-12"><h4>Help us improve your user experience.</h4><p>Have a suggestion or feedback? Let us know below!'+i.escape(null==(e=" ")?"":e)+'<i class="fa fa-fw fa-heart"></i></p></div></div></div><div class="form-group"><div class="row"><div class="col-xs-12"><label for="feedback-title" class="control-label">Title</label></div></div><div class="row"><div class="col-xs-12"><input id="feedback-title" placeholder="Title" type="text" required minlength="1" maxlength="25" class="form-control"></div></div></div><div class="form-group"><div class="row"><div class="col-xs-12"><label for="feedback-editor" class="control-label">Body</label></div></div><div class="row"><div class="col-xs-12"><textarea id="feedback-editor" placeholder="Enter text here..." required minlength="1" maxlength="200"></textarea></div></div></div><div class="form-group"><div class="row"><div class="col-xs-12"><div class="pull-right"><button class="btn btn-primary"><i class="fa fa-fw fa-lg fa-envelope-o"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Send</span></button></div></div></div></div></form></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(38),i=n(11),r=n(13),l=n(41),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.url="api/forgot",e.prototype.defaults={user:""},e}(i.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return c(e,t),e.prototype.template=l,e.prototype.bindings={"#forgot-user":"user"},e.prototype.modelEvents={sync:function(t){t.clear().set(t.defaults)}},e.prototype.events={"click #forgot-home":function(){this.rootChannel.request("index")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.save(null,{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),a({title:"Email Sent!",text:"Please check your email for the code.",type:"success"})}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="forgot-home"><a>Home</a></li><li class="active"><span>Forgot</span></li></ol></div></div><h4>Forgot your password?</h4><br><div class="row"><div class="col-xs-12"><div id="forgot-view-container" class="col-lg-6"><form class="form-horizontal"><div class="form-group"><div class="row"><div class="col-xs-12"><p>Step 1. Enter your email or username and click the button below to reset your password.</p></div></div><div class="row"><label for="forgot-user" class="col-sm-2 control-label">Email or Username</label><div class="col-sm-10"><div class="input-group"><input id="forgot-user" placeholder="Email or Username" type="text" minlength="1" maxlength="25" required class="form-control"><span class="input-group-btn"><button class="btn btn-primary"><i class="fa fa-fw fa-lg fa-envelope-o"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Get Code</span></button></span></div></div></div></div></form></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(38),i=n(11),r=n(13),l=n(43),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.url="api/reset",e.prototype.defaults={password:"",confirm:"",user:"",token:""},e}(i.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return c(e,t),e.prototype.template=l,e.prototype.bindings={"#reset-password":"password","#reset-confirm":"confirm"},e.prototype.events={"click #reset-home":function(){this.rootChannel.request("index")},"click #reset-forgot":function(){this.rootChannel.request("forgot")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.save(null,{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),a({title:"Success!",text:"New password updated.",type:"success"}),t.rootChannel.request("login")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="reset-home"><a>Home</a></li><li id="reset-forgot"><a>Forgot</a></li><li class="active"><span>Reset</span></li></ol></div></div><h4>Password Reset</h4><br><div class="row"><div class="col-xs-12"><div id="reset-view-container" class="col-lg-6"><form class="form-horizontal"><div class="form-group"><div class="row"><div class="col-xs-12"><p>Step 2. Enter a new password.</p></div></div><div class="row"><label for="reset-password" class="col-sm-2 control-label">Password</label><div class="col-sm-10"><input id="reset-password" placeholder="Password" type="password" minlength="4" maxlength="25" required class="form-control"></div></div></div><div class="form-group"><div class="row"><div class="col-xs-12"><p>Step 3. Confirm your password.</p></div></div><div class="row"><label for="reset-confirm" class="col-sm-2 control-label">Confirm Password</label><div class="col-sm-10"><input id="reset-confirm" placeholder="Confirm Password" type="password" minlength="4" maxlength="25" required class="form-control"></div></div></div><div class="form-group"><div class="row"><div class="col-xs-12"><div class="pull-right"><button class="btn btn-primary"><i class="fa fa-fw fa-lg fa-cloud-upload"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Update Password</span></button></div></div></div></div></form></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=n(11),r=n(13),a=n(45),n(23),n(46),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.url="api/login",e.prototype.defaults={user:"",password:""},e}(i.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return l(e,t),e.prototype.template=a,e.prototype.events={"click .index-signup-btn":function(){this.rootChannel.request("signup")},"click .index-login-btn":function(){this.rootChannel.request("login")},"click .index-try-btn":function(){var t;this.rootChannel.request("spin:page:loader",!0),t=new o({user:"user",password:"user"}),t.save({},{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),t.rootChannel.request("show:"),t.rootChannel.request("home")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})}},e}(r.ItemView),t.exports=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div id="index-container"><div class="row"><div class="col-xs-12"><div id="index-section1"><div id="myCarousel" data-ride="carousel" class="carousel slide"><!-- Indicators--><ol class="carousel-indicators"><li data-target="#myCarousel" data-slide-to="0" class="active"></li><li data-target="#myCarousel" data-slide-to="1"></li><li data-target="#myCarousel" data-slide-to="2"></li></ol><!-- Wrapper for slides--><div role="listbox" class="carousel-inner"><div class="item active"><h1>Online Workout Log & Scheduler</h1><img src="images/calendar_macbook.png"></div><div class="item"><h1>Track Progress and Performances</h1><img src="images/graphs_blue.png"></div><div class="item"><h1>Sign Up for a Free Account</h1><img src="images/responsive_blue.png"></div></div><!-- Left and right controls--><a href="#myCarousel" role="button" data-slide="prev" class="left carousel-control"><span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span><span class="sr-only">Previous</span></a><a href="#myCarousel" role="button" data-slide="next" class="right carousel-control"><span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span><span class="sr-only">Next</span></a></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:red;" class="fa fa-fw fa-lg fa-fire"></i>'+i.escape(null==(e=" ")?"":e)+'Daily Challenges</h3><span>Each day a new challenge is given for you to beat. Watch as your power level is measured after each log. Easily distinguish how well you did with our instant feedback.</span></div></div><div class="col-sm-6"><div class="index-section-image-container"><img src="images/challenge.png" class="index-section-image"></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-image-container"><img src="images/entryrank.png" class="index-section-image"></div></div><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:gold;" class="fa fa-fw fa-lg fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'Ranking System</h3><span>Earn trophies daily as you complete a new goal that is specifically tailored for you to maximize your gains. WorkoutRank will adapt to your training routine. Every session is evaluated and ranked against past performances.</span></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:#14e190;" class="fa fa-fw fa-lg fa-bar-chart"></i>'+i.escape(null==(e=" ")?"":e)+'Track Progress</h3><span>Knowledge is key. Compare workout sessions with interactive graphs. View data summary of your performances and various statistics.</span></div></div><div class="col-sm-6"><div class="index-section-image-container"><img src="images/data_phone.png" class="index-section-image"></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-image-container"><img src="images/scheduler.png" class="index-section-image"></div></div><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:#61c5b6;" class="fa fa-fw fa-lg fa-calendar-plus-o"></i>'+i.escape(null==(e=" ")?"":e)+'Workout Scheduler</h3><span>Use our scheduler to see what workout to do next based on assigned muscle group to target for that day. Personalize your training schedule to best fit your need.</span></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:#6699cc;" class="fa fa-fw fa-lg fa-mobile"></i>'+i.escape(null==(e=" ")?"":e)+'Weightlifting Log</h3><span>Great tool for every bodybuilder to record reps and weights of each set. All data is saved in the cloud so no more pencil or paper needed.</span></div></div><div class="col-sm-6"><div class="index-section-image-container"><img src="images/entry_phone.png" class="index-section-image"></div></div></div></div><div class="row"><div class="index-section"><div class="col-sm-6"><div class="index-section-image-container"><img src="images/journalmaster.png" class="index-section-image"></div></div><div class="col-sm-6"><div class="index-section-text"><h3><i style="color:#c3834c;" class="fa fa-fw fa-lg fa-book"></i>'+i.escape(null==(e=" ")?"":e)+'Smart Journal</h3><span>Lift better and smarter. What good is log keeping if you cannot make use of the information. With our smart journal, you can easily pin point which workout is lacking and focus on that. We\'ll do all the remembering so you won\'t have to.</span></div></div></div></div><div id="index-btn-group-bottom"><div class="row"><div class="col-xs-12"><h3>If you like what you see, create a free account and login.</h3><button type="button" class="btn btn-lg btn-success index-signup-btn"><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+'Create Account</button><button type="button" class="btn btn-lg btn-primary index-login-btn"><i class="fa fa-fw fa-lg fa-sign-in"></i>'+i.escape(null==(e=" ")?"":e)+"Login</button></div></div></div></div>"),n.join("")}},function(t,e,n){var i=n(11);i.Validation=function(t){"use strict";var e={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},n={formatLabel:function(t,n){return l[e.labelFormatter](t,n)},format:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();return e.replace(/\{(\d+)\}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}},i=function(e,n,r){return n=n||{},r=r||"",t.each(e,function(o,s){e.hasOwnProperty(s)&&(o&&t.isArray(o)?t.forEach(o,function(t,e){i(t,n,r+s+"."+e+"."),n[r+s+"."+e]=t}):o&&"object"==typeof o&&o.constructor===Object&&i(o,n,r+s+"."),n[r+s]=o)}),n},r=function(){var r=function(e,n){return n=n||t.keys(t.result(e,"validation")||{}),t.reduce(n,function(t,e){return t[e]=void 0,t},{})},s=function(e,n){var i=e.attributes;if(t.isFunction(i)?i=i(n):t.isString(i)&&t.isFunction(c[i])&&(i=c[i](n)),t.isArray(i))return i},a=function(e,n){var i=e.validation?t.result(e,"validation")[n]||{}:{};return(t.isFunction(i)||t.isString(i))&&(i={fn:i}),t.isArray(i)||(i=[i]),t.reduce(i,function(e,n){return t.each(t.without(t.keys(n),"msg"),function(t){e.push({fn:u[t],val:n[t],msg:n.msg})}),e},[])},l=function(e,i,r,o){return t.reduce(a(e,i),function(s,a){var l=t.extend({},n,u),c=a.fn.call(l,r,i,a.val,e,o);return c!==!1&&s!==!1&&(c&&!s?t.result(a,"msg")||c:s)},"")},h=function(e,n,i){var r,o={},s=!0,a=t.clone(n);return t.each(i,function(t,n){r=l(e,n,t,a),r&&(o[n]=r,s=!1)}),{invalidAttrs:o,isValid:s}},d=function(e,n){return{preValidate:function(e,n){var i,r=this,o={};return t.isObject(e)?(t.each(e,function(t,e){i=r.preValidate(e,t),i&&(o[e]=i)}),t.isEmpty(o)?void 0:o):l(this,e,n,t.extend({},this.attributes))},isValid:function(r){var o,a,c,u;return r=r||s(n,e),t.isString(r)?a=[r]:t.isArray(r)&&(a=r),a&&(o=i(this.attributes),t.each(this.associatedViews,function(e){t.each(a,function(i){c=l(this,i,o[i],t.extend({},this.attributes)),c?(n.invalid(e,i,c,n.selector),u=u||{},u[i]=c):n.valid(e,i,n.selector)},this)},this)),r===!0&&(u=this.validate()),u&&this.trigger("invalid",this,u,{validationError:u}),a?!u:!this.validation||this._isValid},validate:function(o,a){var l=this,c=!o,u=t.extend({},n,a),d=r(l,s(n,e)),p=t.extend({},d,l.attributes,o),f=i(p),g=o?i(o):f,m=h(l,p,t.pick(f,t.keys(d)));if(l._isValid=m.isValid,t.each(l.associatedViews,function(e){t.each(d,function(t,n){var i=m.invalidAttrs.hasOwnProperty(n),r=g.hasOwnProperty(n);i||u.valid(e,n,u.selector),i&&(r||c)&&u.invalid(e,n,m.invalidAttrs[n],u.selector)})}),t.defer(function(){l.trigger("validated",l._isValid,l,m.invalidAttrs),l.trigger("validated:"+(l._isValid?"valid":"invalid"),l,m.invalidAttrs)}),!u.forceUpdate&&t.intersection(t.keys(m.invalidAttrs),t.keys(g)).length>0)return m.invalidAttrs}}},p=function(e,n,i){n.associatedViews?n.associatedViews.push(e):n.associatedViews=[e],t.extend(n,d(e,i))},f=function(e,n){n&&e.associatedViews&&e.associatedViews.length>1?e.associatedViews=t.without(e.associatedViews,n):(delete e.validate,delete e.preValidate,delete e.isValid,delete e.associatedViews)},g=function(t){p(this.view,t,this.options)},m=function(t){f(t)};return{version:"0.11.3",configure:function(n){t.extend(e,n)},bind:function(n,i){i=t.extend({},e,o,i);var r=i.model||n.model,s=i.collection||n.collection;if("undefined"==typeof r&&"undefined"==typeof s)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";r?p(n,r,i):s&&(s.each(function(t){p(n,t,i)}),s.bind("add",g,{view:n,options:i}),s.bind("remove",m))},unbind:function(e,n){n=t.extend({},n);var i=n.model||e.model,r=n.collection||e.collection;i?f(i,e):r&&(r.each(function(t){f(t,e)}),r.unbind("add",g),r.unbind("remove",m))},mixin:d(null,e)}}(),o=r.callbacks={valid:function(t,e,n){t.$("["+n+'~="'+e+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(t,e,n,i){t.$("["+i+'~="'+e+'"]').addClass("invalid").attr("data-error",n)}},s=r.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},a=r.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},l=r.labelFormatters={none:function(t){return t},sentenceCase:function(t){return t.replace(/(?:^\w|[A-Z]|\b\w)/g,function(t,e){return 0===e?t.toUpperCase():" "+t.toLowerCase()}).replace(/_/g," ")},label:function(t,e){return e.labels&&e.labels[t]||l.sentenceCase(t,e)}},c=r.attributeLoaders={inputNames:function(t){var e=[];return t&&t.$("form [name]").each(function(){/^(?:input|select|textarea)$/i.test(this.nodeName)&&this.name&&"submit"!==this.type&&e.indexOf(this.name)===-1&&e.push(this.name);
}),e}},u=r.validators=function(){var e=String.prototype.trim?function(t){return null===t?"":String.prototype.trim.call(t)}:function(t){var e=/^\s+/,n=/\s+$/;return null===t?"":t.toString().replace(e,"").replace(n,"")},n=function(e){return t.isNumber(e)||t.isString(e)&&e.match(s.number)},i=function(n){return!(t.isNull(n)||t.isUndefined(n)||t.isString(n)&&""===e(n)||t.isArray(n)&&t.isEmpty(n))};return{fn:function(e,n,i,r,o){return t.isString(i)&&(i=r[i]),i.call(r,e,n,o)},required:function(e,n,r,o,s){var l=t.isFunction(r)?r.call(o,e,n,s):r;return!(!l&&!i(e))&&(l&&!i(e)?this.format(a.required,this.formatLabel(n,o)):void 0)},acceptance:function(e,n,i,r){if("true"!==e&&(!t.isBoolean(e)||e===!1))return this.format(a.acceptance,this.formatLabel(n,r))},min:function(t,e,i,r){if(!n(t)||t<i)return this.format(a.min,this.formatLabel(e,r),i)},max:function(t,e,i,r){if(!n(t)||t>i)return this.format(a.max,this.formatLabel(e,r),i)},range:function(t,e,i,r){if(!n(t)||t<i[0]||t>i[1])return this.format(a.range,this.formatLabel(e,r),i[0],i[1])},length:function(e,n,i,r){if(!t.isString(e)||e.length!==i)return this.format(a.length,this.formatLabel(n,r),i)},minLength:function(e,n,i,r){if(!t.isString(e)||e.length<i)return this.format(a.minLength,this.formatLabel(n,r),i)},maxLength:function(e,n,i,r){if(!t.isString(e)||e.length>i)return this.format(a.maxLength,this.formatLabel(n,r),i)},rangeLength:function(e,n,i,r){if(!t.isString(e)||e.length<i[0]||e.length>i[1])return this.format(a.rangeLength,this.formatLabel(n,r),i[0],i[1])},oneOf:function(e,n,i,r){if(!t.include(i,e))return this.format(a.oneOf,this.formatLabel(n,r),i.join(", "))},equalTo:function(t,e,n,i,r){if(t!==r[n])return this.format(a.equalTo,this.formatLabel(e,i),this.formatLabel(n,i))},pattern:function(t,e,n,r){if(!i(t)||!t.toString().match(s[n]||n))return this.format(a[n]||a.inlinePattern,this.formatLabel(e,r),n)}}}();return t.each(u,function(e,i){u[i]=t.bind(u[i],t.extend({},n,u))}),r}(_)},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=n(11),r=n(13),o=n(48),a=n(52),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.channel=i.Radio.channel("channel")}return l(e,t),e.prototype.template=a,e.prototype.ui={spinner:"#spinner-view"},e.prototype.regions={signup:"#signup-view",login:"#login-view"},e.prototype.onShow=function(){this.showChildView("signup",new o.View({model:new o.Model,channel:this.channel}))},e.prototype.onDestroy=function(){this.channel.reset()},e}(r.LayoutView),t.exports=s},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(49),i=n(11),r=n(13),l=n(50),n(23),n(51),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.url="api/signup",e.prototype.defaults={email:"",username:"",password:"",captcha:""},e}(i.Model),s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.mergeOptions(t,"channel")}return c(e,t),e.prototype.template=l,e.prototype.ui={form:"#signup-form",gender:"#signup-gender",spinner:"#signup-spinner"},e.prototype.bindings={"#signup-email":"email","#signup-username":"username","#signup-password":"password"},e.prototype.events={"click @ui.signup":function(){this.rootChannel.request("index")},submit:function(t){var e,n;t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),e=null!=(n=_.find(this.ui.form.serializeArray(),{name:"g-recaptcha-response"}))?n.value:void 0,this.model.set("captcha",e),window.grecaptcha.reset(),this.model.save({},{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),t.rootChannel.request("profile",!0)}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"click #signup-login":function(){this.rootChannel.request("login")}},e.prototype.onRender=function(){this.stickit()},e.prototype.onShow=function(){this.timer=setTimeout(function(t){return function(){t.ui.spinner.addClass("hide"),window.grecaptcha.render("signup-recaptcha",{sitekey:"6LeGeBwTAAAAAFYqtUAHlRQxSOrNqYeugtn7Z527",theme:"light"})}}(this),3e3)},e.prototype.onBeforeDestroy=function(){clearTimeout(this.timer)},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(this,function(){"use strict";function e(){return Qn.apply(null,arguments)}function n(t){Qn=t}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,i){return Rt(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=c()),t._pf}function h(t){if(null==t._isValid){var e=u(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=l(NaN);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function p(t){return void 0===t}function f(t,e){var n,i,r;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=u(e)),p(e._locale)||(t._locale=e._locale),ti.length>0)for(n in ti)i=ti[n],r=e[i],p(r)||(t[i]=r);return t}function g(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),ei===!1&&(ei=!0,e.updateOffset(this),ei=!1)}function m(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function v(t){return t<0?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=v(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),s=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&s++;return s+o}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,e){var n=!0;return a(function(){return n&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}function _(t,e){ni[t]||(w(e),ni[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function k(t){return"[object Object]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(t,e){var n,i=a({},t);for(n in e)s(e,n)&&(k(t[n])&&k(e[n])?(i[n]={},a(i[n],t[n]),a(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);return i}function M(t){null!=t&&this.set(t)}function D(t){return t?t.toLowerCase().replace("_","-"):t}function A(t){for(var e,n,i,r,o=0;o<t.length;){for(r=D(t[o]).split("-"),e=r.length,n=D(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=E(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return null}function E(e){var n=null;if(!ri[e]&&"undefined"!=typeof t&&t&&t.exports)try{n=ii._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),P(n)}catch(t){}return ri[e]}function P(t,e){var n;return t&&(n=p(e)?L(t):I(t,e),n&&(ii=n)),ii._abbr}function I(t,e){return null!==e?(e.abbr=t,null!=ri[t]?(_("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=T(ri[t]._config,e)):null!=e.parentLocale&&(null!=ri[e.parentLocale]?e=T(ri[e.parentLocale]._config,e):_("parentLocaleUndefined","specified parentLocale is not defined yet")),ri[t]=new M(e),P(t),ri[t]):(delete ri[t],null)}function O(t,e){if(null!=e){var n;null!=ri[t]&&(e=T(ri[t]._config,e)),n=new M(e),n.parentLocale=ri[t],ri[t]=n,P(t)}else null!=ri[t]&&(null!=ri[t].parentLocale?ri[t]=ri[t].parentLocale:null!=ri[t]&&delete ri[t]);return ri[t]}function L(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ii;if(!i(t)){if(e=E(t))return e;t=[t]}return A(t)}function R(){return Object.keys(ri)}function H(t,e){var n=t.toLowerCase();oi[n]=oi[n+"s"]=oi[e]=t}function z(t){return"string"==typeof t?oi[t]||oi[t.toLowerCase()]:void 0}function F(t){var e,n,i={};for(n in t)s(t,n)&&(e=z(n),e&&(i[e]=t[n]));return i}function N(t,n){return function(i){return null!=i?(W(this,t,i),e.updateOffset(this,n),this):B(this,t)}}function B(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function V(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=z(t),C(this[t]))return this[t](e);return this}function q(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(ci[t]=r),e&&(ci[e[0]]=function(){return q(r.apply(this,arguments),e[1],e[2])}),n&&(ci[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,n,i=t.match(si);for(e=0,n=i.length;e<n;e++)ci[i[e]]?i[e]=ci[i[e]]:i[e]=j(i[e]);return function(r){var o="";for(e=0;e<n;e++)o+=i[e]instanceof Function?i[e].call(r,t):i[e];return o}}function U(t,e){return t.isValid()?(e=G(e,t.localeData()),li[e]=li[e]||$(e),li[e](t)):t.localeData().invalidDate()}function G(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(ai.lastIndex=0;i>=0&&ai.test(t);)t=t.replace(ai,n),ai.lastIndex=0,i-=1;return t}function X(t,e,n){Mi[t]=C(e)?e:function(t,i){return t&&n?n:e}}function Z(t,e){return s(Mi,t)?Mi[t](e._strict,e._locale):new RegExp(K(t))}function K(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)Di[t[n]]=i}function tt(t,e){Q(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function et(t,e,n){null!=e&&s(Di,t)&&Di[t](e,n._a,n,t)}function nt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function it(t,e){return i(this._months)?this._months[t.month()]:this._months[Fi.test(e)?"format":"standalone"][t.month()]}function rt(t,e){return i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Fi.test(e)?"format":"standalone"][t.month()]}function ot(t,e,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function st(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),nt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function at(t){return null!=t?(st(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function lt(){return nt(this.year(),this.month())}function ct(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ut(t){return this._monthsParseExact?(s(this,"_monthsRegex")||ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ht(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=J(i[e]),r[e]=J(r[e]),o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")$","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")$","i")}function dt(t){var e,n=t._a;return n&&u(t).overflow===-2&&(e=n[Ei]<0||n[Ei]>11?Ei:n[Pi]<1||n[Pi]>nt(n[Ai],n[Ei])?Pi:n[Ii]<0||n[Ii]>24||24===n[Ii]&&(0!==n[Oi]||0!==n[Li]||0!==n[Ri])?Ii:n[Oi]<0||n[Oi]>59?Oi:n[Li]<0||n[Li]>59?Li:n[Ri]<0||n[Ri]>999?Ri:-1,u(t)._overflowDayOfYear&&(e<Ai||e>Pi)&&(e=Pi),u(t)._overflowWeeks&&e===-1&&(e=Hi),u(t)._overflowWeekday&&e===-1&&(e=zi),u(t).overflow=e),t}function pt(t){var e,n,i,r,o,s,a=t._i,l=qi.exec(a)||Yi.exec(a);if(l){for(u(t).iso=!0,e=0,n=$i.length;e<n;e++)if($i[e][1].exec(l[1])){r=$i[e][0],i=$i[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Ui.length;e<n;e++)if(Ui[e][1].exec(l[3])){o=(l[2]||" ")+Ui[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ji.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=r+(o||"")+(s||""),Dt(t)}else t._isValid=!1}function ft(t){var n=Gi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(pt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function gt(t,e,n,i,r,o,s){var a=new Date(t,e,n,i,r,o,s);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function mt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function vt(t){return yt(t)?366:365}function yt(t){return t%4===0&&t%100!==0||t%400===0}function bt(){return yt(this.year())}function wt(t,e,n){var i=7+e-n,r=(7+mt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function xt(t,e,n,i,r){var o,s,a=(7+n-i)%7,l=wt(t,i,r),c=1+7*(e-1)+a+l;return c<=0?(o=t-1,s=vt(o)+c):c>vt(t)?(o=t+1,s=c-vt(t)):(o=t,s=c),{year:o,dayOfYear:s}}function _t(t,e,n){var i,r,o=wt(t.year(),e,n),s=Math.floor((t.dayOfYear()-o-1)/7)+1;return s<1?(r=t.year()-1,i=s+Ct(r,e,n)):s>Ct(t.year(),e,n)?(i=s-Ct(t.year(),e,n),r=t.year()+1):(r=t.year(),i=s),{week:i,year:r}}function Ct(t,e,n){var i=wt(t,e,n),r=wt(t+1,e,n);return(vt(t)-i+r)/7}function kt(t,e,n){return null!=t?t:null!=e?e:n}function St(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function Tt(t){var e,n,i,r,o=[];if(!t._d){for(i=St(t),t._w&&null==t._a[Pi]&&null==t._a[Ei]&&Mt(t),t._dayOfYear&&(r=kt(t._a[Ai],i[Ai]),t._dayOfYear>vt(r)&&(u(t)._overflowDayOfYear=!0),n=mt(r,0,t._dayOfYear),t._a[Ei]=n.getUTCMonth(),t._a[Pi]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ii]&&0===t._a[Oi]&&0===t._a[Li]&&0===t._a[Ri]&&(t._nextDay=!0,t._a[Ii]=0),t._d=(t._useUTC?mt:gt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ii]=24)}}function Mt(t){var e,n,i,r,o,s,a,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,s=4,n=kt(e.GG,t._a[Ai],_t(Ht(),1,4).year),i=kt(e.W,1),r=kt(e.E,1),(r<1||r>7)&&(l=!0)):(o=t._locale._week.dow,s=t._locale._week.doy,n=kt(e.gg,t._a[Ai],_t(Ht(),o,s).year),i=kt(e.w,1),null!=e.d?(r=e.d,(r<0||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),i<1||i>Ct(n,o,s)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(a=xt(n,i,r,o,s),t._a[Ai]=a.year,t._dayOfYear=a.dayOfYear)}function Dt(t){if(t._f===e.ISO_8601)return void pt(t);t._a=[],u(t).empty=!0;var n,i,r,o,s,a=""+t._i,l=a.length,c=0;for(r=G(t._f,t._locale).match(si)||[],n=0;n<r.length;n++)o=r[n],i=(a.match(Z(o,t))||[])[0],i&&(s=a.substr(0,a.indexOf(i)),s.length>0&&u(t).unusedInput.push(s),a=a.slice(a.indexOf(i)+i.length),c+=i.length),ci[o]?(i?u(t).empty=!1:u(t).unusedTokens.push(o),et(o,i,t)):t._strict&&!i&&u(t).unusedTokens.push(o);u(t).charsLeftOver=l-c,a.length>0&&u(t).unusedInput.push(a),u(t).bigHour===!0&&t._a[Ii]<=12&&t._a[Ii]>0&&(u(t).bigHour=void 0),t._a[Ii]=At(t._locale,t._a[Ii],t._meridiem),Tt(t),dt(t)}function At(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function Et(t){var e,n,i,r,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],Dt(e),h(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==i||o<i)&&(i=o,n=e));a(t,n||e)}function Pt(t){if(!t._d){var e=F(t._i);t._a=o([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),Tt(t)}}function It(t){var e=new g(dt(Ot(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ot(t){var e=t._i,n=t._f;return t._locale=t._locale||L(t._l),null===e||void 0===n&&""===e?d({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),m(e)?new g(dt(e)):(i(n)?Et(t):n?Dt(t):r(e)?t._d=e:Lt(t),h(t)||(t._d=null),t))}function Lt(t){var n=t._i;void 0===n?t._d=new Date(e.now()):r(n)?t._d=new Date((+n)):"string"==typeof n?ft(t):i(n)?(t._a=o(n.slice(0),function(t){return parseInt(t,10)}),Tt(t)):"object"==typeof n?Pt(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Rt(t,e,n,i,r){var o={};return"boolean"==typeof n&&(i=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,It(o)}function Ht(t,e,n,i){return Rt(t,e,n,i,!1)}function zt(t,e){var n,r;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Ht();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}function Ft(){var t=[].slice.call(arguments,0);return zt("isBefore",t)}function Nt(){var t=[].slice.call(arguments,0);return zt("isAfter",t)}function Bt(t){var e=F(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,s=e.day||0,a=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*a,this._days=+s+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=L(),this._bubble()}function Wt(t){return t instanceof Bt}function Vt(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+q(~~(t/60),2)+e+q(~~t%60,2)})}function qt(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(Qi)||["-",0,0],o=+(60*r[1])+y(r[2]);return"+"===r[0]?o:-o}function Yt(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(m(t)||r(t)?+t:+Ht(t))-+i,i._d.setTime(+i._d+o),e.updateOffset(i,!1),i):Ht(t).local()}function jt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function $t(t,n){var i,r=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=qt(ki,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=jt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?ce(this,ie(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:jt(this):null!=t?this:NaN}function Ut(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Gt(t){return this.utcOffset(0,t)}function Xt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(jt(this),"m")),this}function Zt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(qt(Ci,this._i)),this}function Kt(t){return!!this.isValid()&&(t=t?Ht(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Jt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Qt(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=Ot(t),t._a){var e=t._isUTC?l(t._a):Ht(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function te(){return!!this.isValid()&&!this._isUTC}function ee(){return!!this.isValid()&&this._isUTC}function ne(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function ie(t,e){var n,i,r,o=t,a=null;return Wt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=tr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:y(a[Pi])*n,h:y(a[Ii])*n,m:y(a[Oi])*n,s:y(a[Li])*n,ms:y(a[Ri])*n}):(a=er.exec(t))?(n="-"===a[1]?-1:1,o={y:re(a[2],n),M:re(a[3],n),w:re(a[4],n),d:re(a[5],n),h:re(a[6],n),m:re(a[7],n),s:re(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=se(Ht(o.from),Ht(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Bt(o),Wt(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function re(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function oe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function se(t,e){var n;return t.isValid()&&e.isValid()?(e=Yt(e,t),t.isBefore(e)?n=oe(t,e):(n=oe(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ae(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function le(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(_(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=ie(n,i),ce(this,r,t),this}}function ce(t,n,i,r){var o=n._milliseconds,s=ae(n._days),a=ae(n._months);t.isValid()&&(r=null==r||r,o&&t._d.setTime(+t._d+o*i),s&&W(t,"Date",B(t,"Date")+s*i),a&&st(t,B(t,"Month")+a*i),r&&e.updateOffset(t,s||a))}function ue(t,e){var n=t||Ht(),i=Yt(n,this).startOf("day"),r=this.diff(i,"days",!0),o=r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse",s=e&&(C(e[o])?e[o]():e[o]);return this.format(s||this.localeData().calendar(o,this,Ht(n)))}function he(){return new g(this)}function de(t,e){var n=m(t)?t:Ht(t);return!(!this.isValid()||!n.isValid())&&(e=z(p(e)?"millisecond":e),"millisecond"===e?+this>+n:+n<+this.clone().startOf(e))}function pe(t,e){var n=m(t)?t:Ht(t);return!(!this.isValid()||!n.isValid())&&(e=z(p(e)?"millisecond":e),"millisecond"===e?+this<+n:+this.clone().endOf(e)<+n)}function fe(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ge(t,e){var n,i=m(t)?t:Ht(t);return!(!this.isValid()||!i.isValid())&&(e=z(e||"millisecond"),"millisecond"===e?+this===+i:(n=+i,+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e)))}function me(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ve(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ye(t,e,n){var i,r,o,s;return this.isValid()?(i=Yt(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=z(e),"year"===e||"month"===e||"quarter"===e?(s=be(this,i),"quarter"===e?s/=3:"year"===e&&(s/=12)):(o=this-i,s="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?s:v(s)):NaN):NaN}function be(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)}function we(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():U(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):U(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function _e(t){var n=U(this,t||e.defaultFormat);return this.localeData().postformat(n)}function Ce(t,e){return this.isValid()&&(m(t)&&t.isValid()||Ht(t).isValid())?ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ke(t){return this.from(Ht(),t)}function Se(t,e){return this.isValid()&&(m(t)&&t.isValid()||Ht(t).isValid())?ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Te(t){return this.to(Ht(),t)}function Me(t){var e;return void 0===t?this._locale._abbr:(e=L(t),null!=e&&(this._locale=e),this)}function De(){return this._locale}function Ae(t){switch(t=z(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Ee(t){return t=z(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Pe(){return+this._d-6e4*(this._offset||0)}function Ie(){return Math.floor(+this/1e3)}function Oe(){return this._offset?new Date((+this)):this._d}function Le(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Re(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function He(){return this.isValid()?this.toISOString():null}function ze(){return h(this)}function Fe(){return a({},u(this))}function Ne(){return u(this).overflow}function Be(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function We(t,e){Y(0,[t,t.length],0,e)}function Ve(t){return $e.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function qe(t){return $e.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ye(){return Ct(this.year(),1,4)}function je(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function $e(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:(o=Ct(t,i,r),e>o&&(e=o),Ue.call(this,t,e,n,i,r))}function Ue(t,e,n,i,r){var o=xt(t,e,n,i,r),s=mt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Ge(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Xe(t){return _t(t,this._week.dow,this._week.doy).week}function Ze(){return this._week.dow}function Ke(){return this._week.doy}function Je(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Qe(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function tn(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function en(t,e){return i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function nn(t){return this._weekdaysShort[t.day()]}function rn(t){return this._weekdaysMin[t.day()]}function on(t,e,n){var i,r,o;for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=Ht([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function sn(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=tn(t,this.localeData()),this.add(t-e,"d")):e}function an(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function ln(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function cn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function un(){return this.hours()%12||12}function hn(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function dn(t,e){return e._meridiemParse}function pn(t){return"p"===(t+"").toLowerCase().charAt(0)}function fn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function gn(t,e){e[Ri]=y(1e3*("0."+t))}function mn(){return this._isUTC?"UTC":""}function vn(){return this._isUTC?"Coordinated Universal Time":""}function yn(t){return Ht(1e3*t)}function bn(){return Ht.apply(null,arguments).parseZone()}function wn(t,e,n){var i=this._calendar[t];return C(i)?i.call(e,n):i}function xn(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function _n(){return this._invalidDate}function Cn(t){return this._ordinal.replace("%d",t)}function kn(t){return t}function Sn(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)}function Tn(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function Mn(t,e,n,i){var r=L(),o=l().set(i,e);return r[n](o,t)}function Dn(t,e,n,i,r){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Mn(t,e,n,r);var o,s=[];for(o=0;o<i;o++)s[o]=Mn(t,o,n,r);return s}function An(t,e){return Dn(t,e,"months",12,"month")}function En(t,e){return Dn(t,e,"monthsShort",12,"month")}function Pn(t,e){return Dn(t,e,"weekdays",7,"day")}function In(t,e){return Dn(t,e,"weekdaysShort",7,"day")}function On(t,e){return Dn(t,e,"weekdaysMin",7,"day")}function Ln(){var t=this._data;return this._milliseconds=Sr(this._milliseconds),this._days=Sr(this._days),this._months=Sr(this._months),t.milliseconds=Sr(t.milliseconds),t.seconds=Sr(t.seconds),t.minutes=Sr(t.minutes),t.hours=Sr(t.hours),t.months=Sr(t.months),t.years=Sr(t.years),this}function Rn(t,e,n,i){var r=ie(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Hn(t,e){return Rn(this,t,e,1)}function zn(t,e){return Rn(this,t,e,-1)}function Fn(t){return t<0?Math.floor(t):Math.ceil(t)}function Nn(){var t,e,n,i,r,o=this._milliseconds,s=this._days,a=this._months,l=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*Fn(Wn(a)+s),s=0,a=0),l.milliseconds=o%1e3,t=v(o/1e3),l.seconds=t%60,e=v(t/60),l.minutes=e%60,n=v(e/60),l.hours=n%24,s+=v(n/24),r=v(Bn(s)),a+=r,s-=Fn(Wn(r)),i=v(a/12),a%=12,l.days=s,l.months=a,l.years=i,this}function Bn(t){return 4800*t/146097}function Wn(t){return 146097*t/4800}function Vn(t){var e,n,i=this._milliseconds;if(t=z(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Bn(e),"month"===t?n:n/12;
switch(e=this._days+Math.round(Wn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function qn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Yn(t){return function(){return this.as(t)}}function jn(t){return t=z(t),this[t+"s"]()}function $n(t){return function(){return this._data[t]}}function Un(){return v(this.days()/7)}function Gn(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function Xn(t,e,n){var i=ie(t).abs(),r=Wr(i.as("s")),o=Wr(i.as("m")),s=Wr(i.as("h")),a=Wr(i.as("d")),l=Wr(i.as("M")),c=Wr(i.as("y")),u=r<Vr.s&&["s",r]||o<=1&&["m"]||o<Vr.m&&["mm",o]||s<=1&&["h"]||s<Vr.h&&["hh",s]||a<=1&&["d"]||a<Vr.d&&["dd",a]||l<=1&&["M"]||l<Vr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,Gn.apply(null,u)}function Zn(t,e){return void 0!==Vr[t]&&(void 0===e?Vr[t]:(Vr[t]=e,!0))}function Kn(t){var e=this.localeData(),n=Xn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Jn(){var t,e,n,i=qr(this._milliseconds)/1e3,r=qr(this._days),o=qr(this._months);t=v(i/60),e=v(t/60),i%=60,t%=60,n=v(o/12),o%=12;var s=n,a=o,l=r,c=e,u=t,h=i,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(s?s+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||h?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var Qn,ti=e.momentProperties=[],ei=!1,ni={};e.suppressDeprecationWarnings=!1;var ii,ri={},oi={},si=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ai=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,li={},ci={},ui=/\d/,hi=/\d\d/,di=/\d{3}/,pi=/\d{4}/,fi=/[+-]?\d{6}/,gi=/\d\d?/,mi=/\d\d\d\d?/,vi=/\d\d\d\d\d\d?/,yi=/\d{1,3}/,bi=/\d{1,4}/,wi=/[+-]?\d{1,6}/,xi=/\d+/,_i=/[+-]?\d+/,Ci=/Z|[+-]\d\d:?\d\d/gi,ki=/Z|[+-]\d\d(?::?\d\d)?/gi,Si=/[+-]?\d+(\.\d{1,3})?/,Ti=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Mi={},Di={},Ai=0,Ei=1,Pi=2,Ii=3,Oi=4,Li=5,Ri=6,Hi=7,zi=8;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),H("month","M"),X("M",gi),X("MM",gi,hi),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),Q(["M","MM"],function(t,e){e[Ei]=y(t)-1}),Q(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Ei]=r:u(n).invalidMonth=t});var Fi=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ni="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Bi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Wi=Ti,Vi=Ti,qi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Yi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ji=/Z|[+-]\d\d(?::?\d\d)?/,$i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ui=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Y("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),H("year","y"),X("Y",_i),X("YY",gi,hi),X("YYYY",bi,pi),X("YYYYY",wi,fi),X("YYYYYY",wi,fi),Q(["YYYYY","YYYYYY"],Ai),Q("YYYY",function(t,n){n[Ai]=2===t.length?e.parseTwoDigitYear(t):y(t)}),Q("YY",function(t,n){n[Ai]=e.parseTwoDigitYear(t)}),Q("Y",function(t,e){e[Ai]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var Xi=N("FullYear",!1);e.ISO_8601=function(){};var Zi=x("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ht.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:d()}),Ki=x("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ht.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:d()}),Ji=function(){return Date.now?Date.now():+new Date};Vt("Z",":"),Vt("ZZ",""),X("Z",ki),X("ZZ",ki),Q(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=qt(ki,t)});var Qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var tr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,er=/^(-)?P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?$/;ie.fn=Bt.prototype;var nr=le(1,"add"),ir=le(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var rr=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),We("gggg","weekYear"),We("ggggg","weekYear"),We("GGGG","isoWeekYear"),We("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),X("G",_i),X("g",_i),X("GG",gi,hi),X("gg",gi,hi),X("GGGG",bi,pi),X("gggg",bi,pi),X("GGGGG",wi,fi),X("ggggg",wi,fi),tt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),tt(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),H("quarter","Q"),X("Q",ui),Q("Q",function(t,e){e[Ei]=3*(y(t)-1)}),Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),X("w",gi),X("ww",gi,hi),X("W",gi),X("WW",gi,hi),tt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var or={dow:0,doy:6};Y("D",["DD",2],"Do","date"),H("date","D"),X("D",gi),X("DD",gi,hi),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),Q(["D","DD"],Pi),Q("Do",function(t,e){e[Pi]=y(t.match(gi)[0],10)});var sr=N("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),X("d",gi),X("e",gi),X("E",gi),X("dd",Ti),X("ddd",Ti),X("dddd",Ti),tt(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:u(n).invalidWeekday=t}),tt(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var ar="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),lr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),cr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),X("DDD",yi),X("DDDD",di),Q(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,un),Y("hmm",0,0,function(){return""+un.apply(this)+q(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+un.apply(this)+q(this.minutes(),2)+q(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+q(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+q(this.minutes(),2)+q(this.seconds(),2)}),hn("a",!0),hn("A",!1),H("hour","h"),X("a",dn),X("A",dn),X("H",gi),X("h",gi),X("HH",gi,hi),X("hh",gi,hi),X("hmm",mi),X("hmmss",vi),X("Hmm",mi),X("Hmmss",vi),Q(["H","HH"],Ii),Q(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Q(["h","hh"],function(t,e,n){e[Ii]=y(t),u(n).bigHour=!0}),Q("hmm",function(t,e,n){var i=t.length-2;e[Ii]=y(t.substr(0,i)),e[Oi]=y(t.substr(i)),u(n).bigHour=!0}),Q("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ii]=y(t.substr(0,i)),e[Oi]=y(t.substr(i,2)),e[Li]=y(t.substr(r)),u(n).bigHour=!0}),Q("Hmm",function(t,e,n){var i=t.length-2;e[Ii]=y(t.substr(0,i)),e[Oi]=y(t.substr(i))}),Q("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[Ii]=y(t.substr(0,i)),e[Oi]=y(t.substr(i,2)),e[Li]=y(t.substr(r))});var ur=/[ap]\.?m?\.?/i,hr=N("Hours",!0);Y("m",["mm",2],0,"minute"),H("minute","m"),X("m",gi),X("mm",gi,hi),Q(["m","mm"],Oi);var dr=N("Minutes",!1);Y("s",["ss",2],0,"second"),H("second","s"),X("s",gi),X("ss",gi,hi),Q(["s","ss"],Li);var pr=N("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),X("S",yi,ui),X("SS",yi,hi),X("SSS",yi,di);var fr;for(fr="SSSS";fr.length<=9;fr+="S")X(fr,xi);for(fr="S";fr.length<=9;fr+="S")Q(fr,gn);var gr=N("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var mr=g.prototype;mr.add=nr,mr.calendar=ue,mr.clone=he,mr.diff=ye,mr.endOf=Ee,mr.format=_e,mr.from=Ce,mr.fromNow=ke,mr.to=Se,mr.toNow=Te,mr.get=V,mr.invalidAt=Ne,mr.isAfter=de,mr.isBefore=pe,mr.isBetween=fe,mr.isSame=ge,mr.isSameOrAfter=me,mr.isSameOrBefore=ve,mr.isValid=ze,mr.lang=rr,mr.locale=Me,mr.localeData=De,mr.max=Ki,mr.min=Zi,mr.parsingFlags=Fe,mr.set=V,mr.startOf=Ae,mr.subtract=ir,mr.toArray=Le,mr.toObject=Re,mr.toDate=Oe,mr.toISOString=xe,mr.toJSON=He,mr.toString=we,mr.unix=Ie,mr.valueOf=Pe,mr.creationData=Be,mr.year=Xi,mr.isLeapYear=bt,mr.weekYear=Ve,mr.isoWeekYear=qe,mr.quarter=mr.quarters=Ge,mr.month=at,mr.daysInMonth=lt,mr.week=mr.weeks=Je,mr.isoWeek=mr.isoWeeks=Qe,mr.weeksInYear=je,mr.isoWeeksInYear=Ye,mr.date=sr,mr.day=mr.days=sn,mr.weekday=an,mr.isoWeekday=ln,mr.dayOfYear=cn,mr.hour=mr.hours=hr,mr.minute=mr.minutes=dr,mr.second=mr.seconds=pr,mr.millisecond=mr.milliseconds=gr,mr.utcOffset=$t,mr.utc=Gt,mr.local=Xt,mr.parseZone=Zt,mr.hasAlignedHourOffset=Kt,mr.isDST=Jt,mr.isDSTShifted=Qt,mr.isLocal=te,mr.isUtcOffset=ee,mr.isUtc=ne,mr.isUTC=ne,mr.zoneAbbr=mn,mr.zoneName=vn,mr.dates=x("dates accessor is deprecated. Use date instead.",sr),mr.months=x("months accessor is deprecated. Use month instead",at),mr.years=x("years accessor is deprecated. Use year instead",Xi),mr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ut);var vr=mr,yr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},br={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},wr="Invalid date",xr="%d",_r=/\d{1,2}/,Cr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},kr=M.prototype;kr._calendar=yr,kr.calendar=wn,kr._longDateFormat=br,kr.longDateFormat=xn,kr._invalidDate=wr,kr.invalidDate=_n,kr._ordinal=xr,kr.ordinal=Cn,kr._ordinalParse=_r,kr.preparse=kn,kr.postformat=kn,kr._relativeTime=Cr,kr.relativeTime=Sn,kr.pastFuture=Tn,kr.set=S,kr.months=it,kr._months=Ni,kr.monthsShort=rt,kr._monthsShort=Bi,kr.monthsParse=ot,kr._monthsRegex=Vi,kr.monthsRegex=ut,kr._monthsShortRegex=Wi,kr.monthsShortRegex=ct,kr.week=Xe,kr._week=or,kr.firstDayOfYear=Ke,kr.firstDayOfWeek=Ze,kr.weekdays=en,kr._weekdays=ar,kr.weekdaysMin=rn,kr._weekdaysMin=cr,kr.weekdaysShort=nn,kr._weekdaysShort=lr,kr.weekdaysParse=on,kr.isPM=pn,kr._meridiemParse=ur,kr.meridiem=fn,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",P),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",L);var Sr=Math.abs,Tr=Yn("ms"),Mr=Yn("s"),Dr=Yn("m"),Ar=Yn("h"),Er=Yn("d"),Pr=Yn("w"),Ir=Yn("M"),Or=Yn("y"),Lr=$n("milliseconds"),Rr=$n("seconds"),Hr=$n("minutes"),zr=$n("hours"),Fr=$n("days"),Nr=$n("months"),Br=$n("years"),Wr=Math.round,Vr={s:45,m:45,h:22,d:26,M:11},qr=Math.abs,Yr=Bt.prototype;Yr.abs=Ln,Yr.add=Hn,Yr.subtract=zn,Yr.as=Vn,Yr.asMilliseconds=Tr,Yr.asSeconds=Mr,Yr.asMinutes=Dr,Yr.asHours=Ar,Yr.asDays=Er,Yr.asWeeks=Pr,Yr.asMonths=Ir,Yr.asYears=Or,Yr.valueOf=qn,Yr._bubble=Nn,Yr.get=jn,Yr.milliseconds=Lr,Yr.seconds=Rr,Yr.minutes=Hr,Yr.hours=zr,Yr.days=Fr,Yr.weeks=Un,Yr.months=Nr,Yr.years=Br,Yr.humanize=Kn,Yr.toISOString=Jn,Yr.toString=Jn,Yr.toJSON=Jn,Yr.locale=Me,Yr.localeData=De,Yr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Jn),Yr.lang=rr,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),X("x",_i),X("X",Si),Q("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Q("x",function(t,e,n){n._d=new Date(y(t))}),e.version="2.12.0",n(Ht),e.fn=vr,e.min=Ft,e.max=Nt,e.now=Ji,e.utc=l,e.unix=yn,e.months=An,e.isDate=r,e.locale=P,e.invalid=d,e.duration=ie,e.isMoment=m,e.weekdays=Pn,e.parseZone=bn,e.localeData=L,e.isDuration=Wt,e.monthsShort=En,e.weekdaysMin=On,e.defineLocale=I,e.updateLocale=O,e.locales=R,e.weekdaysShort=In,e.normalizeUnits=z,e.relativeTimeThreshold=Zn,e.prototype=vr;var jr=e;return jr})}).call(e,n(4)(t))},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><h2>Create Your Account</h2></div></div><br><div class="row"><div class="col-xs-12"><form id="signup-form" class="form-horizontal"><div class="form-group"><div class="col-xs-12"><label for="signup-username">Username</label></div><div class="col-xs-12"><input id="signup-username" type="text" placeholder="Username" name="username" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="2" maxlength="25" class="form-control"></div></div><div class="form-group"><div class="col-xs-12"><label for="signup-email">Email</label></div><div class="col-xs-12"><input id="signup-email" type="email" placeholder="Email Address" name="email" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="4" maxlength="25" class="form-control"></div></div><div class="form-group"><div class="col-xs-12"><label for="signup-password">Password</label></div><div class="col-xs-12"><input id="signup-password" type="password" placeholder="Password" name="password" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="4" maxlength="20" class="form-control"></div></div><div id="signup-recaptcha-container" class="form-group"><div class="col-xs-12"><i id="signup-spinner" class="fa fa-2x fa-spinner fa-spin"></i><div id="signup-recaptcha"></div></div></div><br><div class="form-group"><div class="col-xs-12"><button type="submit" class="btn btn-lg btn-success btn-block"><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+'Create Account</button></div></div><div class="form-group"><div id="signup-login" class="col-xs-12"><a class="pull-right">Already have an account</a></div></div></form></div></div>'),n.join("")}},function(t,e,n){var i,r,o;n(2);!function(s){"use strict";r=[n(2),n(49)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var r,o,s,a,l,c,u,h={},d=!0,p=!1,f=!1,g=0,m=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},_={},C=function(t){var n,r,o,s,a,l=!1;return void 0!==e.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone&&(l=!0),void 0===t||null===t?n=l?e().tz(i.timeZone).startOf("d"):e().startOf("d"):l?(r=e().tz(i.timeZone).utcOffset(),o=e(t,c,i.useStrict).utcOffset(),o!==r?(s=e().tz(i.timeZone).format("Z"),a=e(t,c,i.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+s,n=e(a,c,i.useStrict).tz(i.timeZone)):n=e(t,c,i.useStrict).tz(i.timeZone)):n=e(t,c,i.useStrict),n},k=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},S=function(){return k("h")||k("m")||k("s")},T=function(){return k("y")||k("M")||k("d")},M=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},D=function(){var e=t("<tr>"),n=t("<tr>"),r=t("<tr>");return k("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),k("m")&&(k("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),r.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),k("s")&&(k("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),r.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),a||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),r.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,r]))},A=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),r=[D()];return k("h")&&r.push(e),k("m")&&r.push(n),k("s")&&r.push(i),r},E=function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&T()&&S()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},P=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append(M()),r=t("<div>").addClass("timepicker").append(A()),o=t("<ul>").addClass("list-unstyled"),s=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(E());return i.inline&&e.removeClass("dropdown-menu"),a&&e.addClass("usetwentyfour"),k("s")&&!a&&e.addClass("wider"),i.sideBySide&&T()&&S()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(s),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(s),e):("top"===i.toolbarPlacement&&o.append(s),T()&&o.append(t("<li>").addClass(i.collapse&&S()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&o.append(s),S()&&o.append(t("<li>").addClass(i.collapse&&T()?"collapse":"").append(r)),"bottom"===i.toolbarPlacement&&o.append(s),e.append(o))},I=function(){var e,r={};return e=n.is("input")||i.inline?n.data():n.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(r=t.extend(!0,r,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(r[t]=e[n])}),r},O=function(){var e,r=(p||n).position(),o=(p||n).offset(),s=i.widgetPositioning.vertical,a=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(f);else if(n.is("input"))e=n.after(f).parent();else{if(i.inline)return void(e=n.append(f));e=n,n.children().first().after(f)}if("auto"===s&&(s=o.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+n.outerHeight()<o.top?"top":"bottom"),"auto"===a&&(a=e.width()<o.left+f.outerWidth()/2&&o.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===s?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===a?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===s?"auto":r.top+n.outerHeight(),bottom:"top"===s?r.top+n.outerHeight():"auto",left:"left"===a?e===n?0:r.left:"auto",right:"left"===a?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:r.left)})},L=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},R=function(t){"y"===t&&(t="YYYY"),L({type:"dp.update",change:t,viewDate:o.clone()})},H=function(t){f&&(t&&(u=Math.max(g,Math.min(3,u+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+m[u].clsName).show())},z=function(){var e=t("<tr>"),n=o.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(o.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");f.find(".datepicker-days thead").append(e)},F=function(t){return i.disabledDates[t.format("YYYY-MM-DD")]===!0},N=function(t){return i.enabledDates[t.format("YYYY-MM-DD")]===!0},B=function(t){return i.disabledHours[t.format("H")]===!0},W=function(t){return i.enabledHours[t.format("H")]===!0},V=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&F(e))return!1;if(i.enabledDates&&"d"===n&&!N(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&B(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!W(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var r=!1;if(t.each(i.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(r=!0,!1):void 0}),r)return!1}return!0},q=function(){for(var e=[],n=o.clone().startOf("y").startOf("d");n.isSame(o,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");f.find(".datepicker-months td").empty().append(e)},Y=function(){var e=f.find(".datepicker-months"),n=e.find("th"),s=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),V(o.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(o.year()),V(o.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),s.removeClass("active"),r.isSame(o,"y")&&!d&&s.eq(r.month()).addClass("active"),s.each(function(e){V(o.clone().month(e),"M")||t(this).addClass("disabled")})},j=function(){var t=f.find(".datepicker-years"),e=t.find("th"),n=o.clone().subtract(5,"y"),s=o.clone().add(6,"y"),a="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),i.maxDate&&i.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled");!n.isAfter(s,"y");)a+='<span data-action="selectYear" class="year'+(n.isSame(r,"y")&&!d?" active":"")+(V(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(a)},$=function(){var t=f.find(".datepicker-decades"),n=t.find("th"),s=e({y:o.year()-o.year()%100-1}),a=s.clone().add(100,"y"),l=s.clone(),c="";for(n.eq(0).find("span").attr("title",i.tooltips.prevCentury),n.eq(2).find("span").attr("title",i.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(s.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(s,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(s.year()+"-"+a.year()),(s.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(a,"y"))&&n.eq(2).addClass("disabled");!s.isAfter(a,"y");)c+='<span data-action="selectDecade" class="decade'+(s.isSame(r,"y")?" active":"")+(V(s,"y")?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");c+="<span></span><span></span><span></span>",t.find("td").html(c),n.eq(1).text(l.year()+1+"-"+s.year())},U=function(){var e,n,s,a,l=f.find(".datepicker-days"),c=l.find("th"),u=[];if(T()){for(c.eq(0).find("span").attr("title",i.tooltips.prevMonth),c.eq(1).attr("title",i.tooltips.selectMonth),c.eq(2).find("span").attr("title",i.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),c.eq(1).text(o.format(i.dayViewHeaderFormat)),V(o.clone().subtract(1,"M"),"M")||c.eq(0).addClass("disabled"),V(o.clone().add(1,"M"),"M")||c.eq(2).addClass("disabled"),e=o.clone().startOf("M").startOf("w").startOf("d"),a=0;42>a;a++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),u.push(n)),s="",e.isBefore(o,"M")&&(s+=" old"),e.isAfter(o,"M")&&(s+=" new"),e.isSame(r,"d")&&!d&&(s+=" active"),V(e,"d")||(s+=" disabled"),e.isSame(C(),"d")&&(s+=" today"),(0===e.day()||6===e.day())&&(s+=" weekend"),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+s+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(u),Y(),j(),$()}},G=function(){var e=f.find(".timepicker-hours table"),n=o.clone().startOf("d"),i=[],r=t("<tr>");for(o.hour()>11&&!a&&n.hour(12);n.isSame(o,"d")&&(a||o.hour()<12&&n.hour()<12||o.hour()>11);)n.hour()%4===0&&(r=t("<tr>"),i.push(r)),r.append('<td data-action="selectHour" class="hour'+(V(n,"h")?"":" disabled")+'">'+n.format(a?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},X=function(){for(var e=f.find(".timepicker-minutes table"),n=o.clone().startOf("h"),r=[],s=t("<tr>"),a=1===i.stepping?5:i.stepping;o.isSame(n,"h");)n.minute()%(4*a)===0&&(s=t("<tr>"),r.push(s)),s.append('<td data-action="selectMinute" class="minute'+(V(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(a,"m");e.empty().append(r)},Z=function(){for(var e=f.find(".timepicker-seconds table"),n=o.clone().startOf("m"),i=[],r=t("<tr>");o.isSame(n,"m");)n.second()%20===0&&(r=t("<tr>"),i.push(r)),r.append('<td data-action="selectSecond" class="second'+(V(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},K=function(){var t,e,n=f.find(".timepicker span[data-time-component]");a||(t=f.find(".timepicker [data-action=togglePeriod]"),e=r.clone().add(r.hours()>=12?-12:12,"h"),t.text(r.format("A")),V(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(r.format(a?"HH":"hh")),n.filter("[data-time-component=minutes]").text(r.format("mm")),n.filter("[data-time-component=seconds]").text(r.format("ss")),G(),X(),Z()},J=function(){f&&(U(),K())},Q=function(t){var e=d?null:r;return t?(t=t.clone().locale(i.locale),1!==i.stepping&&t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping%60).seconds(0),void(V(t)?(r=t,o=r.clone(),s.val(r.format(l)),n.data("date",r.format(l)),d=!1,J(),L({type:"dp.change",date:r.clone(),oldDate:e})):(i.keepInvalid||s.val(d?"":r.format(l)),L({type:"dp.error",date:t})))):(d=!0,s.val(""),n.data("date",""),L({type:"dp.change",date:!1,oldDate:e}),void J())},tt=function(){var e=!1;return f?(f.find(".collapse").each(function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)}),e?h:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),t(window).off("resize",O),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,L({type:"dp.hide",date:r.clone()}),s.blur(),h)):h},et=function(){Q(null)},nt={next:function(){var t=m[u].navFnc;o.add(m[u].navStep,t),U(),R(t)},previous:function(){var t=m[u].navFnc;o.subtract(m[u].navStep,t),
U(),R(t)},pickerSwitch:function(){H(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));o.month(n),u===g?(Q(r.clone().year(o.year()).month(o.month())),i.inline||tt()):(H(-1),U()),R("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;o.year(n),u===g?(Q(r.clone().year(o.year())),i.inline||tt()):(H(-1),U()),R("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;o.year(n),u===g?(Q(r.clone().year(o.year())),i.inline||tt()):(H(-1),U()),R("YYYY")},selectDay:function(e){var n=o.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),Q(n.date(parseInt(t(e.target).text(),10))),S()||i.keepOpen||i.inline||tt()},incrementHours:function(){var t=r.clone().add(1,"h");V(t,"h")&&Q(t)},incrementMinutes:function(){var t=r.clone().add(i.stepping,"m");V(t,"m")&&Q(t)},incrementSeconds:function(){var t=r.clone().add(1,"s");V(t,"s")&&Q(t)},decrementHours:function(){var t=r.clone().subtract(1,"h");V(t,"h")&&Q(t)},decrementMinutes:function(){var t=r.clone().subtract(i.stepping,"m");V(t,"m")&&Q(t)},decrementSeconds:function(){var t=r.clone().subtract(1,"s");V(t,"s")&&Q(t)},togglePeriod:function(){Q(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,r=t(e.target),o=r.closest("ul"),s=o.find(".in"),a=o.find(".collapse:not(.in)");if(s&&s.length){if(n=s.data("collapse"),n&&n.transitioning)return;s.collapse?(s.collapse("hide"),a.collapse("show")):(s.removeClass("in"),a.addClass("in")),r.is("span")?r.toggleClass(i.icons.time+" "+i.icons.date):r.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);a||(r.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),Q(r.clone().hours(n)),nt.showPicker.call(h)},selectMinute:function(e){Q(r.clone().minutes(parseInt(t(e.target).text(),10))),nt.showPicker.call(h)},selectSecond:function(e){Q(r.clone().seconds(parseInt(t(e.target).text(),10))),nt.showPicker.call(h)},clear:et,today:function(){var t=C();V(t,"d")&&Q(t)},close:tt},it=function(e){return!t(e.currentTarget).is(".disabled")&&(nt[t(e.currentTarget).data("action")].apply(h,arguments),!1)},rt=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return s.prop("disabled")||!i.ignoreReadonly&&s.prop("readonly")||f?h:(void 0!==s.val()&&0!==s.val().trim().length?Q(st(s.val().trim())):i.useCurrent&&d&&(s.is("input")&&0===s.val().trim().length||i.inline)&&(e=C(),"string"==typeof i.useCurrent&&(e=n[i.useCurrent](e)),Q(e)),f=P(),z(),q(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),J(),H(),t(window).on("resize",O),f.on("click","[data-action]",it),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),f.show(),O(),i.focusOnShow&&!s.is(":focus")&&s.focus(),L({type:"dp.show"}),h)},ot=function(){return f?tt():rt()},st=function(t){return t=void 0===i.parseInputDate?e.isMoment(t)||t instanceof Date?e(t):C(t):i.parseInputDate(t),t.locale(i.locale),t},at=function(t){var e,n,r,o,s=null,a=[],l={},c=t.which,u="p";_[c]=u;for(e in _)_.hasOwnProperty(e)&&_[e]===u&&(a.push(e),parseInt(e,10)!==c&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&(r=e.split(" "),r.length===a.length&&x[c]===r[r.length-1])){for(o=!0,n=r.length-2;n>=0;n--)if(!(x[r[n]]in l)){o=!1;break}if(o){s=i.keyBinds[e];break}}s&&(s.call(h,f),t.stopPropagation(),t.preventDefault())},lt=function(t){_[t.which]="r",t.stopPropagation(),t.preventDefault()},ct=function(e){var n=t(e.target).val().trim(),i=n?st(n):null;return Q(i),e.stopImmediatePropagation(),!1},ut=function(){s.on({change:ct,blur:i.debug?"":tt,keydown:at,keyup:lt,focus:i.allowInputToggle?rt:""}),n.is("input")?s.on({focus:rt}):p&&(p.on("click",ot),p.on("mousedown",!1))},ht=function(){s.off({change:ct,blur:blur,keydown:at,keyup:lt,focus:i.allowInputToggle?tt:""}),n.is("input")?s.off({focus:rt}):p&&(p.off("click",ot),p.off("mousedown",!1))},dt=function(e){var n={};return t.each(e,function(){var t=st(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},pt=function(e){var n={};return t.each(e,function(){n[this]=!0}),!!Object.keys(n).length&&n},ft=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=r.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return r.localeData().longDateFormat(t)||t})}),c=i.extraFormats?i.extraFormats.slice():[],c.indexOf(t)<0&&c.indexOf(l)<0&&c.push(l),a=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,k("y")&&(g=2),k("M")&&(g=1),k("d")&&(g=0),u=Math.max(g,u),d||Q(r)};if(h.destroy=function(){tt(),ht(),n.removeData("DateTimePicker"),n.removeData("date")},h.toggle=ot,h.show=rt,h.hide=tt,h.disable=function(){return tt(),p&&p.hasClass("btn")&&p.addClass("disabled"),s.prop("disabled",!0),h},h.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),s.prop("disabled",!1),h},h.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,h},h.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(void 0===h[t])throw new TypeError("option "+t+" is not recognized!");h[t](e)}),h},h.date=function(t){if(0===arguments.length)return d?null:r.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return Q(null===t?null:st(t)),h},h.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+t);return i.format=t,l&&ft(),h},h.timeZone=function(t){return 0===arguments.length?i.timeZone:(i.timeZone=t,h)},h.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,h},h.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,c&&ft(),h},h.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=dt(e),i.enabledDates=!1,J(),h},h.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=dt(e),i.disabledDates=!1,J(),h},h.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,J(),h;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!V(r,"d");){if(r.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}Q(r)}return J(),h},h.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&t===!1)return i.maxDate=!1,J(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&r.isAfter(t)&&Q(i.maxDate),o.isAfter(e)&&(o=e.clone().subtract(i.stepping,"m")),J(),h},h.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&t===!1)return i.minDate=!1,J(),h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&r.isBefore(t)&&Q(i.minDate),o.isBefore(e)&&(o=e.clone().add(i.stepping,"m")),J(),h},h.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,h;"string"==typeof t&&("now"===t||"moment"===t)&&(t=C());var e=st(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!V(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===s.val().trim())&&Q(i.defaultDate),h},h.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,r.locale(i.locale),o.locale(i.locale),l&&ft(),f&&(tt(),rt()),h},h.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),i.stepping=t,h)},h.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,h},h.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?h:(i.collapse=t,f&&(tt(),rt()),h)},h.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),f&&(tt(),rt()),h},h.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),f&&(tt(),rt()),h},h.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,h},h.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,f&&(tt(),rt()),h},h.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=t,u=Math.max(v.indexOf(t),g),H(),h},h.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=t,f&&(tt(),rt()),h},h.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===b.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===y.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return J(),h},h.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,J(),h},h.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,f&&(tt(),rt()),h},h.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,f&&(tt(),rt()),h},h.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,f&&(tt(),rt()),h},h.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,h},h.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,h},h.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,h},h.clear=function(){return et(),h},h.keyBinds=function(t){return i.keyBinds=t,h},h.getMoment=function(t){return C(t)},h.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,h},h.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,h},h.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,h},h.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,h},h.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,h},h.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,h},h.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,J(),h},h.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=pt(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!V(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}Q(r)}return J(),h},h.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,J(),h;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=pt(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!V(r,"h");){if(r.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}Q(r)}return J(),h},h.viewDate=function(t){if(0===arguments.length)return o.clone();if(!t)return o=r.clone(),h;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=st(t),R(),h},n.is("input"))s=n;else if(s=n.find(i.datepickerInput),0===s.size())s=n.find("input");else if(!s.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=0===n.find(".datepickerbutton").size()?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=C(),o=r.clone(),t.extend(!0,i,I()),h.options(i),ft(),ut(),s.prop("disabled")&&h.disable(),s.is("input")&&0!==s.val().trim().length?Q(st(s.val().trim())):i.defaultDate&&void 0===s.attr("placeholder")&&Q(i.defaultDate),i.inline&&rt(),h};t.fn.datetimepicker=function(e){return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))})},t.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}})},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div id="signup-view-container" class="col-sm-7"><div class="panel panel-default"><div class="panel-body"><div id="signup-view"></div></div></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=n(11),o=n(13),r=n(54),a=n(56),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.channel=i.Radio.channel("channel")}return l(e,t),e.prototype.template=a,e.prototype.regions={login:"#login-view"},e.prototype.onShow=function(){this.showChildView("login",new r.View({model:new r.Model,channel:this.channel}))},e.prototype.onDestroy=function(){this.channel.reset()},e}(o.LayoutView),t.exports=s},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;i=n(11),r=n(13),a=n(55),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.url="api/login",e.prototype.defaults={username:"",password:""},e}(i.Model),s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.mergeOptions(t,"channel")}return l(e,t),e.prototype.template=a,e.prototype.ui={form:"#login-form",submit:"#login-submit"},e.prototype.bindings={"#login-user":"username","#login-password":"password"},e.prototype.events={"click #login-signup":function(){this.rootChannel.request("signup")},"click #login-forgot-user":function(){this.rootChannel.request("forgot")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.save({},{success:function(t){return function(){t.rootChannel.request("spin:page:loader",!1),t.rootChannel.request("home")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"click #login-submit-facebook":function(t){t.preventDefault(),window.location="/auth/facebook"},"click #login-submit-google":function(t){t.preventDefault(),window.location="/auth/google"},"click #login-submit-twitter":function(t){t.preventDefault(),window.location="/auth/twitter"}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><h1>Log In</h1></div></div><div class="row"><div class="col-xs-12"><span class="help-block">Already have an account? Log in below.</span></div></div><div class="row"><div class="col-xs-12"><form id="login-form" data-toggle="validator" class="form-horizontal"><div class="form-group"><div class="col-xs-12"><label for="login-user">Username</label></div><div class="col-xs-12"><input id="login-user" type="input" placeholder="Email or Username" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="2" maxlength="25" class="form-control"><div class="help-block with-errors"></div></div></div><div class="form-group"><div class="col-xs-12"><label for="login-password">Password</label></div><div class="col-xs-12"><input id="login-password" type="password" placeholder="Password" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="4" maxlength="20" class="form-control"><div class="help-block with-errors"></div></div></div><div class="form-group"><div class="col-xs-12"><button id="login-submit" class="btn btn-lg btn-primary btn-block"><i class="fa fa-fw fa-lg fa-sign-in"></i>'+i.escape(null==(e=" ")?"":e)+'Log In</button></div></div></form></div></div><div class="row"><div class="col-xs-6"><a id="login-forgot-user">Reset Password</a></div><div class="col-xs-6"><a id="login-signup">SignUp for an Account</a></div></div><hr><div class="row"><div class="col-xs-12"><span class="help-block">Or Log In With</span></div></div><br><div class="row"><div class="col-xs-12"><button id="login-submit-facebook" style="background:#3b5998" class="btn btn-lg btn-primary btn-block"><i class="fa fa-fw fa-lg fa-facebook-official"></i>'+i.escape(null==(e=" ")?"":e)+'Facebook</button></div></div><br><div class="row"><div class="col-xs-12"><button id="login-submit-google" style="background:#dd4b39" class="btn btn-lg btn-primary btn-block"><i class="fa fa-fw fa-lg fa-google-plus"></i>'+i.escape(null==(e=" ")?"":e)+'Google Plus</button></div></div><br><div class="row"><div class="col-xs-12"><button id="login-submit-twitter" style="background:#1da1f2" class="btn btn-lg btn-primary btn-block"><i class="fa fa-fw fa-lg fa-twitter"></i>'+i.escape(null==(e=" ")?"":e)+"Twitter</button></div></div>"),n.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div id="login-view-container" class="col-md-6 col-sm-7"><div class="panel panel-default"><div class="panel-body"><div id="login-view"></div></div></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=n(11),r=n(13),s=n(58),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.events={"click #about-home":function(){this.rootChannel.request("home")}},e}(r.ItemView),t.exports=o},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="about-home"><a>Home</a></li><li class="active"><span>About</span><i class="fa fa-fw fa-lg fa-question-circle"></i></li></ol></div></div><div class="row"><div id="about-view-container" class="col-xs-12"><div class="well"><h1>About Us</h1><p>Started in early 2016, WorkoutRank.com has set out to create a simple and easy to use application for anyone looking to record their workout sessions.</p>We\'re always looking into our community for feedback and suggestion on how to improve our user\'s experience.<br><br><p><i><b>- T.H.</b></i></p><br></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;d=n(3),p=n(60),i=n(11),a=n(13),o=n(63),r=n(66),c=n(72),u=n(79),s=n(127),h=n(142),l=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.navChannel=i.Radio.channel("nav"),this.rootChannel=i.Radio.channel("root"),this.rootView=this.rootChannel.request("rootview"),this.rootChannel.reply({home:function(t){return function(){t.rootChannel.request("navigate","home"),t.home()}}(this),strengths:function(t){return function(e){t.rootChannel.request("navigate","strengths"),t.strengths(e)}}(this),"strength:detail":function(t){return function(e){t.rootChannel.request("navigate","strength/"+e),t.strengthDetail(e)}}(this),calendar:function(t){return function(){t.rootChannel.request("navigate","calendar"),t.calendar()}}(this),schedule:function(t){return function(){t.rootChannel.request("navigate","schedule"),t.schedule()}}(this),logs:function(t){return function(){t.rootChannel.request("navigate","logs"),t.logs()}}(this),"log:detail":function(t){return function(e){t.rootChannel.request("navigate","log/"+e),t.logDetail(e)}}(this),weights:function(t){return function(){t.rootChannel.request("navigate","weights"),t.weights()}}(this)})}return f(e,t),e.prototype.routes={home:"home",strengths:"strengths","strength/:sid/":"strengthDetail",summary:"summary",calendar:"calendar",schedule:"schedule",weights:"weights",logs:"logs","log/:lid/":"logDetail"},e.prototype.home=function(){var t;this.navChannel.request("nav:main"),t=this.rootChannel,t.request("spin:page:loader",!0),p.waterfall([function(t){var e;return e=i.Radio.channel("user").request("user"),e.fetch({success:function(){return t(null)},error:function(e,n){return t(n)}})},function(t){var e;return e=new o.Model,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})}],function(e){return function(n,i){t.request("spin:page:loader",!1),n&&t.request("message:error",n),e.rootView.content.show(new o.View({model:i}))}}(this))},e.prototype.strengths=function(t){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e,n;e=u.Master.Collection,n=new e,n.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(t,e){var n;n=new s.Master.Collection,n.fetch({success:function(n){return e(null,t,n)},error:function(t,n){return e(n)}})}],function(e){return function(n,i,r){var o;e.rootChannel.request("spin:page:loader",!1),n?e.rootChannel.request("message:error",n):(o=u.Master.View,e.rootView.content.show(new o({collection:i,sLogs:r,muscle:t})))}}(this))},e.prototype.strengthDetail=function(t){this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(e){var n;n=new u.Detail.Model({_id:t}),n.fetch({success:function(t){return e(null,t)},error:function(t,n){return e(n)}})},function(e,n){var i;i=new u.Detail.Collection([],{id:t}),i.fetch({success:function(t){return n(null,e,t)},error:function(t,e){return n(e)}})},function(t,e,n){var i;i=new h.Collection,i.fetch({success:function(i){return n(null,t,e,i)},error:function(t,e){return n(e)}})}],function(t){return function(e,n,i,r){var o;t.rootChannel.request("spin:page:loader",!1),e?t.rootChannel.request("message:error",e):(o=u.Detail.View,t.rootView.content.show(new o({model:n,collection:i,wLogs:r})))}}(this))},e.prototype.calendar=function(){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e;e=new u.Master.Collection,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(t,e){var n;n=new s.Master.Collection,n.fetch({success:function(n){return e(null,t,n)},error:function(t,n){return e(n)}})}],function(t){return function(e,n,i){t.rootChannel.request("spin:page:loader",!1),
e?t.rootChannel.request("message:error",e):t.rootView.content.show(new r.View({sLogs:i,sConfs:n}))}}(this))},e.prototype.schedule=function(){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e;e=new u.Master.Collection,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(t,e){var n;n=new s.Master.Collection,n.fetch({success:function(n){return e(null,t,n)},error:function(t,n){return e(n)}})},function(t,e,n){var i;i=new c.Model,i.fetch({success:function(i){return n(null,t,e,i)},error:function(t,e){return n(e)}})}],function(t){return function(e,n,i,r){t.rootChannel.request("spin:page:loader",!1),e?t.rootChannel.request("message:error",e):t.rootView.content.show(new c.View({sLogs:i,sConfs:n,model:r}))}}(this))},e.prototype.logs=function(){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e;e=new u.Master.Collection,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(t,e){var n;n=new s.Master.Collection,n.fetch({success:function(n){return e(null,t,n)},error:function(t,n){return e(n)}})}],function(t){return function(e,n,i){var r;t.rootChannel.request("spin:page:loader",!1),e?t.rootChannel.request("message:error",e):(r=s.Master.View,t.rootView.content.show(new r({collection:i,sConfs:n})))}}(this))},e.prototype.logDetail=function(t){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e;e=new u.Master.Collection,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(e,n){var i;i=new s.Detail.Collection([],{_id:t}),i.fetch({success:function(t){return n(null,e,t)},error:function(t,e){return n(e)}})}],function(e){return function(n,i,r){var o;e.rootChannel.request("spin:page:loader",!1),n?e.rootChannel.request("message:error",n):(o=s.Detail.View,e.rootView.content.show(new o({collection:r,sConf:i.get(t)})))}}(this))},e.prototype.weights=function(){return this.navChannel.request("nav:main"),this.rootChannel.request("spin:page:loader",!0),p.waterfall([function(t){var e;e=new h.Collection,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})}],function(t){return function(e,n){var i;t.rootChannel.request("spin:page:loader",!1),e?t.rootChannel.request("message:error",e):(i=h.View,t.rootView.content.show(new i({collection:n})))}}(this))},e}(a.AppRouter),t.exports=l},function(t,e,n){var i,r;(function(n,o){!function(){function s(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(a,arguments)}}var a,l,c={};a=this,null!=a&&(l=a.async),c.noConflict=function(){return a.async=l,c};var u=Object.prototype.toString,h=Array.isArray||function(t){return"[object Array]"===u.call(t)},d=function(t,e){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},p=function(t,e){if(t.map)return t.map(e);var n=[];return d(t,function(t,i,r){n.push(e(t,i,r))}),n},f=function(t,e,n){return t.reduce?t.reduce(e,n):(d(t,function(t,i,r){n=e(n,t,i,r)}),n)},g=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof n&&n.nextTick?(c.nextTick=n.nextTick,"undefined"!=typeof o?c.setImmediate=function(t){o(t)}:c.setImmediate=c.nextTick):"function"==typeof o?(c.nextTick=function(t){o(t)},c.setImmediate=c.nextTick):(c.nextTick=function(t){setTimeout(t,0)},c.setImmediate=c.nextTick),c.each=function(t,e,n){function i(e){e?(n(e),n=function(){}):(r+=1,r>=t.length&&n())}if(n=n||function(){},!t.length)return n();var r=0;d(t,function(t){e(t,s(i))})},c.forEach=c.each,c.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0,r=function(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n():r())})};r()},c.forEachSeries=c.eachSeries,c.eachLimit=function(t,e,n,i){var r=m(e);r.apply(null,[t,n,i])},c.forEachLimit=c.eachLimit;var m=function(t){return function(e,n,i){if(i=i||function(){},!e.length||t<=0)return i();var r=0,o=0,s=0;!function a(){if(r>=e.length)return i();for(;s<t&&o<e.length;)o+=1,s+=1,n(e[o-1],function(t){t?(i(t),i=function(){}):(r+=1,s-=1,r>=e.length?i():a())})}()}},v=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.each].concat(e))}},y=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[m(t)].concat(n))}},b=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[c.eachSeries].concat(e))}},w=function(t,e,n,i){if(e=p(e,function(t,e){return{index:e,value:t}}),i){var r=[];t(e,function(t,e){n(t.value,function(n,i){r[t.index]=i,e(n)})},function(t){i(t,r)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};c.map=v(w),c.mapSeries=b(w),c.mapLimit=function(t,e,n,i){return x(e)(t,n,i)};var x=function(t){return y(t,w)};c.reduce=function(t,e,n,i){c.eachSeries(t,function(t,i){n(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(t,e,n,i){var r=p(t,function(t){return t}).reverse();c.reduce(r,e,n,i)},c.foldr=c.reduceRight;var _=function(t,e,n,i){var r=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&r.push(t),e()})},function(t){i(p(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.filter=v(_),c.filterSeries=b(_),c.select=c.filter,c.selectSeries=c.filterSeries;var C=function(t,e,n,i){var r=[];e=p(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||r.push(t),e()})},function(t){i(p(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};c.reject=v(C),c.rejectSeries=b(C);var k=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(t){i()})};c.detect=v(k),c.detectSeries=b(k),c.some=function(t,e,n){c.each(t,function(t,i){e(t,function(t){t&&(n(!0),n=function(){}),i()})},function(t){n(!1)})},c.any=c.some,c.every=function(t,e,n){c.each(t,function(t,i){e(t,function(t){t||(n(!1),n=function(){}),i()})},function(t){n(!0)})},c.all=c.every,c.sortBy=function(t,e,n){c.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);var i=function(t,e){var n=t.criteria,i=e.criteria;return n<i?-1:n>i?1:0};n(null,p(e.sort(i),function(t){return t.value}))})},c.auto=function(t,e){e=e||function(){};var n=g(t),i=n.length;if(!i)return e();var r={},o=[],s=function(t){o.unshift(t)},a=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},l=function(){i--,d(o.slice(0),function(t){t()})};s(function(){if(!i){var t=e;e=function(){},t(null,r)}}),d(n,function(n){var i=h(t[n])?t[n]:[t[n]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};d(g(r),function(t){o[t]=r[t]}),o[n]=i,e(t,o),e=function(){}}else r[n]=i,c.setImmediate(l)},u=i.slice(0,Math.abs(i.length-1))||[],p=function(){return f(u,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(p())i[i.length-1](o,r);else{var m=function(){p()&&(a(m),i[i.length-1](o,r))};s(m)}})},c.retry=function(t,e,n){var i=5,r=[];"function"==typeof t&&(n=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var s=function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},o)}};t;)r.push(s(e,!(t-=1)));c.series(r,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})};return n?o():o},c.waterfall=function(t,e){if(e=e||function(){},!h(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var i=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();o?r.push(i(o)):r.push(e),c.setImmediate(function(){t.apply(null,r)})}}};i(c.iterator(t))()};var S=function(t,e,n){if(n=n||function(){},h(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(g(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};c.parallel=function(t,e){S({map:c.map,each:c.each},t,e)},c.parallelLimit=function(t,e,n){S({map:x(e),each:m(e)},t,n)},c.series=function(t,e){if(e=e||function(){},h(t))c.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};c.eachSeries(g(t),function(e,i){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[e]=r,i(t)})},function(t){e(t,n)})}},c.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},c.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var T=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};c.concat=v(T),c.concatSeries=b(T),c.whilst=function(t,e,n){t()?e(function(i){return i?n(i):void c.whilst(t,e,n)}):n()},c.doWhilst=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?c.doWhilst(t,e,n):n()})},c.until=function(t,e,n){t()?n():e(function(i){return i?n(i):void c.until(t,e,n)})},c.doUntil=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?n():c.doUntil(t,e,n)})},c.queue=function(t,e){function n(t,e,n,i){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void d(e,function(e){var r={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(r):t.tasks.push(r),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}void 0===e&&(e=1);var i=0,r={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){n(r,t,!1,e)},kill:function(){r.drain=null,r.tasks=[]},unshift:function(t,e){n(r,t,!0,e)},process:function(){if(!r.paused&&i<r.concurrency&&r.tasks.length){var e=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),i+=1;var n=function(){i-=1,e.callback&&e.callback.apply(e,arguments),r.drain&&r.tasks.length+i===0&&r.drain(),r.process()},o=s(n);t(e.data,o)}},length:function(){return r.tasks.length},running:function(){return i},idle:function(){return r.tasks.length+i===0},pause:function(){r.paused!==!0&&(r.paused=!0)},resume:function(){if(r.paused!==!1){r.paused=!1;for(var t=1;t<=r.concurrency;t++)c.setImmediate(r.process)}}};return r},c.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;i<r;){var o=i+(r-i+1>>>1);n(e,t[o])>=0?i=o:r=o-1}return i}function r(t,e,r,o){return t.started||(t.started=!0),h(e)||(e=[e]),0==e.length?c.setImmediate(function(){t.drain&&t.drain()}):void d(e,function(e){var s={data:e,priority:r,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),c.setImmediate(t.process)})}var o=c.queue(t,e);return o.push=function(t,e,n){r(o,t,e,n)},delete o.unshift,o},c.cargo=function(t,e){var n=!1,i=[],r={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){h(t)||(t=[t]),d(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===e&&r.saturated()}),c.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var s="number"==typeof e?i.splice(0,e):i.splice(0,i.length),a=p(s,function(t){return t.data});r.empty&&r.empty(),n=!0,t(a,function(){n=!1;var t=arguments;d(s,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var M=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&d(n,function(e){console[t](e)}))}]))}};c.log=M("log"),c.dir=M("dir"),c.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),s=e.apply(null,r);s in n?c.nextTick(function(){o.apply(null,n[s])}):s in i?i[s].push(o):(i[s]=[o],t.apply(null,r.concat([function(){n[s]=arguments;var t=i[s];delete i[s];for(var e=0,r=t.length;e<r;e++)t[e].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=t,r},c.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},c.times=function(t,e,n){for(var i=[],r=0;r<t;r++)i.push(r);return c.map(i,e,n)},c.timesSeries=function(t,e,n){for(var i=[],r=0;r<t;r++)i.push(r);return c.mapSeries(i,e,n)},c.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),i=n.pop();c.reduce(t,n,function(t,n,i){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,n){i.apply(e,[t].concat(n))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var D=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};c.applyEach=v(D),c.applyEachSeries=b(D),c.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()},"undefined"!=typeof t&&t.exports?t.exports=c:(i=[],r=function(){return c}.apply(e,i),!(void 0!==r&&(t.exports=r)))}()}).call(e,n(61),n(62).setImmediate)},function(t,e){function n(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length&&i())}function i(){if(!c){var t=setTimeout(n);c=!0;for(var e=l.length;e;){for(s=l,l=[];++u<e;)s&&s[u].run();u=-1,e=l.length}s=null,c=!1,clearTimeout(t)}}function r(t,e){this.fun=t,this.array=e}function o(){}var s,a=t.exports={},l=[],c=!1,u=-1;a.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new r(t,e)),1!==l.length||c||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=o,a.addListener=o,a.once=o,a.off=o,a.removeListener=o,a.removeAllListeners=o,a.emit=o,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(t,e,n){(function(t,i){function r(t,e){this._id=t,this._clearFn=e}var o=n(61).nextTick,s=Function.prototype.apply,a=Array.prototype.slice,l={},c=0;e.setTimeout=function(){return new r(s.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(s.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},e.setImmediate="function"==typeof t?t:function(t){var n=c++,i=!(arguments.length<2)&&a.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(i?t.apply(null,i):t.call(null),e.clearImmediate(n))}),n},e.clearImmediate="function"==typeof i?i:function(t){delete l[t]}}).call(e,n(62).setImmediate,n(62).clearImmediate)},function(t,e,n){var i,r,o=function(t,e){function n(){this.constructor=t}for(var i in e)s.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;i=n(11),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.url="api/home",e}(i.Model),e.Model=r,e.View=n(64)},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;i=n(11),r=n(13),s=n(65),o=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.user=i.Radio.channel("user").request("user")}return a(e,t),e.prototype.template=s,e.prototype.ui={bodyIcon:"#home-body-icon",admin:"#home-admin-accounts-container"},e.prototype.bindings={"#home-exercise-count":"sLogs"},e.prototype.events={"click #home-strengths":function(){this.rootChannel.request("strengths")},"click #home-logs":function(){this.rootChannel.request("logs")},"click #home-calendar":function(){this.rootChannel.request("calendar")},"click #home-schedule":function(){this.rootChannel.request("schedule")},"click #home-weights":function(){this.rootChannel.request("weights")},"click #home-body":function(){this.rootChannel.request("body")},"click #home-logout":function(){this.rootChannel.request("logout")},"click #home-profile":function(){this.rootChannel.request("profile")},"click #home-account":function(){this.rootChannel.request("account")},"click #home-admin-accounts":function(){this.rootChannel.request("admin:accounts")}},e.prototype.onRender=function(){var t,e;"tth"!==(e=this.user.get("username"))&&"admin"!==e||this.ui.admin.removeClass("hide"),t=this.user.get("gender"),this.ui.bodyIcon.addClass(t?"fa-male":"fa-female"),this.stickit()},e}(r.ItemView),t.exports=o},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li class="active"><span>Home</span><i class="fa fa-fw fa-lg fa-home"></i></li></ol></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-fw fa-lg fa-pencil-square-o"></i>'+i.escape(null==(e=" ")?"":e)+'Journals</h3></div><ul class="list-group home-list"><li id="home-strengths" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-book"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'My Workouts</b></a><span id="home-exercise-count" class="badge badge-info">0</span></li><li id="home-weights" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-tachometer"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Weight</b></a></li></ul></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-fw fa-lg fa-database"></i>'+i.escape(null==(e=" ")?"":e)+'Tools</h3></div><ul class="list-group home-list"><li id="home-schedule" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-calendar-plus-o"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Scheduler</b></a></li><li id="home-calendar" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-calendar-check-o"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Calendar</b></a></li></ul></div></div></div><div id="home-admin-accounts-container" class="row hide"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-fw fa-lg fa-user-secret"></i>'+i.escape(null==(e=" ")?"":e)+'Admin</h3></div><ul class="list-group home-list"><li id="home-admin-accounts" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-users"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Accounts</b></a></li></ul></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title"><i class="fa fa-fw fa-lg fa-user"></i>'+i.escape(null==(e=" ")?"":e)+'User Settings</h3></div></div><ul class="list-group home-list"><li id="home-profile" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-folder-open-o"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Profile</b></a></li><li id="home-account" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-user"></i><a><b>'+i.escape(null==(e=" ")?"":e)+'Account</b></a></li><li id="home-logout" class="list-group-item"><i class="nav-icon fa fa-fw fa-lg fa-sign-out"></i><a><b>'+i.escape(null==(e=" ")?"":e)+"Log Out</b></a></li></ul></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(3),l=n(49),i=n(11),o=n(13),r=n(67),c=n(71),s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["sConfs","sLogs"]),this.rootChannel=i.Radio.channel("root"),this.channel=new i.Radio.Channel(this.cid),this.channel.reply({"show:events":function(t){return function(){var e,n;e=new r.Collection([],{sLogs:t.sLogs,sConfs:t.sConfs,parse:!0}),n=e.toJSON(),t.showChildView("calendar",new r.View({collection:t.collection,channel:t.channel,calendarEvents:n}))}}(this)})}return u(e,t),e.prototype.template=c,e.prototype.regions={calendar:"#calendar-view-container"},e.prototype.events={"click #calendar-home":function(){this.rootChannel.request("home")},"click #calendar-schedule":function(){this.rootChannel.request("schedule")}},e.prototype.onShow=function(){this.channel.request("show:events")},e.prototype.onBeforeDestroy=function(){this.channel.reset()},e}(o.LayoutView),t.exports.View=s},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;c=n(3),u=n(49),i=n(11),s=n(13),o=n(68),h=n(69),n(70),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.defaults={id:"",title:"",start:"",end:""},e}(i.Model),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.model=a,e.prototype.parse=function(t,e){var n,i;return n=[],i=e.sConfs,c.each(e.sLogs.models,function(t){var e,r,s,a,l;for(a=t.get("repData"),r=0,s=a.length;r<s;r++)e=a[r],l=i.get(t.id),l&&n.push({start:new Date(u(e.x)),end:new Date(u(e.x)),title:l.get("name"),color:o.Colors[c.sum(l.get("muscle"))%o.Colors.length],modelID:t.id})}),n},e}(i.Collection),l=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["channel","calendarEvents"]),this.rootChannel=i.Radio.channel("root")}return d(e,t),e.prototype.template=h,e.prototype.ui={calendar:"#calendar-widget"},e.prototype.events={"click #calendar-tab":function(){this.channel.request("show:schedule")}},e.prototype.onShow=function(){this.calendar=this.ui.calendar.fullCalendar({height:"auto",events:this.calendarEvents,header:{left:"title",center:"",right:"today prev,next"},eventClick:function(t){return function(e){t.rootChannel.request("strength:detail",e.modelID)}}(this)}),this.calendar.fullCalendar("today")},e.prototype.onBeforeDestroy=function(){this.calendar.fullCalendar("destroy")},e}(s.ItemView),e.Model=a,e.Collection=r,e.View=l},function(t,e,n){var i,r,o,s;o=n(3),s=n(49),i=["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#993897","#f88df2","#ac9748","#a0ac35","#ba68a2","#40b4c8"],r=[{value:0,label:"Abdominals"},{value:1,label:"Arms"},{value:2,label:"Back"},{value:3,label:"Biceps"},{value:4,label:"Calves"},{value:5,label:"Chest"},{value:6,label:"Forearms"},{value:7,label:"Glutes"},{value:8,label:"Hamstrings"},{value:9,label:"Lats"},{value:10,label:"Legs"},{value:11,label:"Neck"},{value:12,label:"Quadriceps"},{value:13,label:"Shoulders"},{value:14,label:"Traps"},{value:15,label:"Triceps"}],e.Colors=i,e.Muscles=r},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><div id="calendar-widget"></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o;!function(s){r=[n(2),n(49)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t,e){function n(t){return G(t,Zt)}function i(e){var n,i={views:e.views||{}};return t.each(e,function(e,r){"views"!=e&&(t.isPlainObject(r)&&!/(time|duration|interval)$/i.test(e)&&t.inArray(e,Zt)==-1?(n=null,t.each(r,function(t,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(t)?(i.views[t]||(i.views[t]={}),i.views[t][e]=r):(n||(n={}),n[t]=r)}),n&&(i[e]=n)):i[e]=r)}),i}function r(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})}function o(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function s(){t("body").addClass("fc-not-allowed")}function a(){t("body").removeClass("fc-not-allowed")}function l(e,n,i){var r=Math.floor(n/e.length),o=Math.floor(n-r*(e.length-1)),s=[],a=[],l=[],u=0;c(e),e.each(function(n,i){var c=n===e.length-1?o:r,h=t(i).outerHeight(!0);h<c?(s.push(i),a.push(h),l.push(t(i).height())):u+=h}),i&&(n-=u,r=Math.floor(n/s.length),o=Math.floor(n-r*(s.length-1))),t(s).each(function(e,n){var i=e===s.length-1?o:r,c=a[e],u=l[e],h=i-(c-u);c<i&&t(n).height(h)})}function c(t){t.height("")}function u(e){var n=0;return e.find("> span").each(function(e,i){var r=t(i).outerWidth();r>n&&(n=r)}),n++,e.width(n),n}function h(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n}function d(e){var n=e.css("position"),i=e.parents().filter(function(){var e=t(this);return/(auto|scroll)/.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:t(e[0].ownerDocument||document)}function p(t,e){var n=t.offset(),i=n.left-(e?e.left:0),r=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:r,bottom:r+t.outerHeight()}}function f(t,e){var n=t.offset(),i=m(t),r=n.left+b(t,"border-left-width")+i.left-(e?e.left:0),o=n.top+b(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:o,bottom:o+t[0].clientHeight}}function g(t,e){var n=t.offset(),i=n.left+b(t,"border-left-width")+b(t,"padding-left")-(e?e.left:0),r=n.top+b(t,"border-top-width")+b(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:r,bottom:r+t.height()}}function m(t){var e=t.innerWidth()-t[0].clientWidth,n={left:0,right:0,top:0,bottom:t.innerHeight()-t[0].clientHeight};return v()&&"rtl"==t.css("direction")?n.left=e:n.right=e,n}function v(){return null===Kt&&(Kt=y()),Kt}function y(){var e=t("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=e.children(),i=n.offset().left>e.offset().left;return e.remove(),i}function b(t,e){return parseFloat(t.css(e))||0}function w(t){return 1==t.which&&!t.ctrlKey}function x(t){if(void 0!==t.pageX)return t.pageX;var e=t.originalEvent.touches;return e?e[0].pageX:void 0}function _(t){if(void 0!==t.pageY)return t.pageY;var e=t.originalEvent.touches;return e?e[0].pageY:void 0}function C(t){return/^touch/.test(t.type)}function k(t){t.addClass("fc-unselectable").on("selectstart",S)}function S(t){t.preventDefault()}function T(t){return!!window.addEventListener&&(window.addEventListener("scroll",t,!0),!0)}function M(t){return!!window.removeEventListener&&(window.removeEventListener("scroll",t,!0),!0)}function D(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n}function A(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function E(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function P(t,e){return{left:t.left-e.left,top:t.top-e.top}}function I(e){var n,i,r=[],o=[];for("string"==typeof e?o=e.split(/\s*,\s*/):"function"==typeof e?o=[e]:t.isArray(e)&&(o=e),n=0;n<o.length;n++)i=o[n],"string"==typeof i?r.push("-"==i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&r.push({func:i});return r}function O(t,e,n){var i,r;for(i=0;i<n.length;i++)if(r=L(t,e,n[i]))return r;return 0}function L(t,e,n){return n.func?n.func(t,e):R(t[n.field],e[n.field])*(n.order||1)}function R(e,n){return e||n?null==n?-1:null==e?1:"string"===t.type(e)||"string"===t.type(n)?String(e).localeCompare(String(n)):e-n:0}function H(t,e){var n,i,r,o,s=t.start,a=t.end,l=e.start,c=e.end;if(a>l&&s<c)return s>=l?(n=s.clone(),r=!0):(n=l.clone(),r=!1),a<=c?(i=a.clone(),o=!0):(i=c.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}}function z(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:t.time()-n.time()})}function F(t,n){return e.duration({days:t.clone().stripTime().diff(n.clone().stripTime(),"days")})}function N(t,n,i){return e.duration(Math.round(t.diff(n,i,!0)),i)}function B(t,e){var n,i,r;for(n=0;n<Qt.length&&(i=Qt[n],r=W(i,t,e),!(r>=1&&at(r)));n++);return i}function W(t,n,i){return null!=i?i.diff(n,t,!0):e.isDuration(n)?n.as(t):n.end.diff(n.start,t,!0)}function V(t,e,n){var i;return j(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&at(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())}function q(t,e){var n,i;return j(t)||j(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&at(n)&&Math.abs(i)>=1&&at(i)?n/i:t.asDays()/e.asDays())}function Y(t,n){var i;return j(t)?e.duration(t*n):(i=t.asMonths(),Math.abs(i)>=1&&at(i)?e.duration({months:i*n}):e.duration({days:t.asDays()*n}))}function j(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function $(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function U(t){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)}function G(t,e){var n,i,r,o,s,a,l={};if(e)for(n=0;n<e.length;n++){for(i=e[n],r=[],o=t.length-1;o>=0;o--)if(s=t[o][i],"object"==typeof s)r.unshift(s);else if(void 0!==s){l[i]=s;break}r.length&&(l[i]=G(r))}for(n=t.length-1;n>=0;n--){a=t[n];for(i in a)i in l||(l[i]=a[i])}return l}function X(t){var e=function(){};return e.prototype=t,new e}function Z(t,e){for(var n in t)J(t,n)&&(e[n]=t[n])}function K(t,e){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],t[i]!==Object.prototype[i]&&(e[i]=t[i])}function J(t,e){return ie.call(t,e)}function Q(e){return/undefined|null|boolean|number|string/.test(t.type(e))}function tt(e,n,i){if(t.isFunction(e)&&(e=[e]),e){var r,o;for(r=0;r<e.length;r++)o=e[r].apply(n,i)||o;return o}}function et(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}function nt(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function it(t){return t.replace(/&.*?;/g,"")}function rt(e){var n=[];return t.each(e,function(t,e){null!=e&&n.push(t+":"+e)}),n.join(";")}function ot(t){return t.charAt(0).toUpperCase()+t.slice(1)}function st(t,e){return t-e}function at(t){return t%1===0}function lt(t,e){var n=t[e];return function(){return n.apply(t,arguments)}}function ct(t,e,n){var i,r,o,s,a,l=function(){var c=+new Date-s;c<e?i=setTimeout(l,e-c):(i=null,n||(a=t.apply(o,r),o=r=null))};return function(){o=this,r=arguments,s=+new Date;var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(a=t.apply(o,r),o=r=null),a}}function ut(e,n){return e&&e.then&&"resolved"!==e.state()?n?e.then(n):void 0:t.when(n())}function ht(n,i,r){var o,s,a,l,c=n[0],u=1==n.length&&"string"==typeof c;return e.isMoment(c)?(l=e.apply(null,n),
pt(c,l)):$(c)||void 0===c?l=e.apply(null,n):(o=!1,s=!1,u?re.test(c)?(c+="-01",n=[c],o=!0,s=!0):(a=oe.exec(c))&&(o=!a[5],s=!0):t.isArray(c)&&(s=!0),l=i||o?e.utc.apply(e,n):e.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(s?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(c):l.zone(c)))),l._fullCalendar=!0,l}function dt(t,n){var i,r,o=!1,s=!1,a=t.length,l=[];for(i=0;i<a;i++)r=t[i],e.isMoment(r)||(r=Gt.moment.parseZone(r)),o=o||r._ambigTime,s=s||r._ambigZone,l.push(r);for(i=0;i<a;i++)r=l[i],n||!o||r._ambigTime?s&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function pt(t,e){t._ambigTime?e._ambigTime=!0:e._ambigTime&&(e._ambigTime=!1),t._ambigZone?e._ambigZone=!0:e._ambigZone&&(e._ambigZone=!1)}function ft(t,e){t.year(e[0]||0).month(e[1]||0).date(e[2]||0).hours(e[3]||0).minutes(e[4]||0).seconds(e[5]||0).milliseconds(e[6]||0)}function gt(t,e){return ae.format.call(t,e)}function mt(t,e){return vt(t,_t(e))}function vt(t,e){var n,i="";for(n=0;n<e.length;n++)i+=yt(t,e[n]);return i}function yt(t,e){var n,i;return"string"==typeof e?e:(n=e.token)?le[n]?le[n](t):gt(t,n):e.maybe&&(i=vt(t,e.maybe),i.match(/[1-9]/))?i:""}function bt(t,e,n,i,r){var o;return t=Gt.moment.parseZone(t),e=Gt.moment.parseZone(e),o=(t.localeData||t.lang).call(t),n=o.longDateFormat(n)||n,i=i||" - ",wt(t,e,_t(n),i,r)}function wt(t,e,n,i,r){var o,s,a,l,c=t.clone().stripZone(),u=e.clone().stripZone(),h="",d="",p="",f="",g="";for(s=0;s<n.length&&(o=xt(t,e,c,u,n[s]),o!==!1);s++)h+=o;for(a=n.length-1;a>s&&(o=xt(t,e,c,u,n[a]),o!==!1);a--)d=o+d;for(l=s;l<=a;l++)p+=yt(t,n[l]),f+=yt(e,n[l]);return(p||f)&&(g=r?f+i+p:p+i+f),h+g+d}function xt(t,e,n,i,r){var o,s;return"string"==typeof r?r:!!((o=r.token)&&(s=ce[o.charAt(0)],s&&n.isSame(i,s)))&&gt(t,o)}function _t(t){return t in ue?ue[t]:ue[t]=Ct(t)}function Ct(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push(e[1]):e[2]?n.push({maybe:Ct(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push(e[5]);return n}function kt(){}function St(t,e){var n;return J(e,"constructor")&&(n=e.constructor),"function"!=typeof n&&(n=e.constructor=function(){t.apply(this,arguments)}),n.prototype=X(t.prototype),Z(e,n.prototype),K(e,n.prototype),Z(t,n),n}function Tt(t,e){Z(e,t.prototype)}function Mt(t,e){return!t&&!e||!(!t||!e)&&(t.component===e.component&&Dt(t,e)&&Dt(e,t))}function Dt(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}function At(t){var e=Pt(t);return"background"===e||"inverse-background"===e}function Et(t){return"inverse-background"===Pt(t)}function Pt(t){return et((t.source||{}).rendering,t.rendering)}function It(t){var e,n,i={};for(e=0;e<t.length;e++)n=t[e],(i[n._id]||(i[n._id]=[])).push(n);return i}function Ot(t,e){return t.start-e.start}function Lt(n){var i,r,o,s,a=Gt.dataAttrPrefix;return a&&(a+="-"),i=n.data(a+"event")||null,i&&(i="object"==typeof i?t.extend({},i):{},r=i.start,null==r&&(r=i.time),o=i.duration,s=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(a+"start")),null==r&&(r=n.data(a+"time")),null==o&&(o=n.data(a+"duration")),null==s&&(s=n.data(a+"stick")),r=null!=r?e.duration(r):null,o=null!=o?e.duration(o):null,s=Boolean(s),{eventProps:i,startTime:r,duration:o,stick:s}}function Rt(t,e){var n,i;for(n=0;n<e.length;n++)if(i=e[n],i.leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function Ht(t,e){return t.leftCol-e.leftCol}function zt(t){var e,n,i,r=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Bt(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Ft(t){var e,n,i,r,o;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],o=e+1;o<t.length;o++)Bt(r,t[o],r.forwardSegs)}function Nt(t){var e,n,i=t.forwardSegs,r=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)n=i[e],Nt(n),r=Math.max(r,1+n.forwardPressure);t.forwardPressure=r}}function Bt(t,e,n){n=n||[];for(var i=0;i<e.length;i++)Wt(t,e[i])&&n.push(e[i]);return n}function Wt(t,e){return t.bottom>e.top&&t.top<e.bottom}function Vt(n,r){function o(t){"_locale"in t?t._locale=U:t._lang=U}function s(){Z?u()&&(g(),h()):a()}function a(){n.addClass("fc"),$.bindOption("theme",function(t){K=t?"ui":"fc",n.toggleClass("ui-widget",t),n.toggleClass("fc-unthemed",!t)}),$.bindOptions(["isRTL","lang"],function(t){n.toggleClass("fc-ltr",!t),n.toggleClass("fc-rtl",t)}),Z=t("<div class='fc-view-container'/>").prependTo(n),G=$.header=new jt($),l(),h($.options.defaultView),$.options.handleWindowResize&&(tt=ct(y,$.options.windowResizeDelay),t(window).resize(tt))}function l(){G.render(),G.el&&n.prepend(G.el)}function c(){J&&J.removeElement(),G.removeElement(),Z.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),tt&&t(window).unbind("resize",tt)}function u(){return n.is(":visible")}function h(e,n){at++,J&&e&&J.type!==e&&(N(),d()),!J&&e&&(J=$.view=st[e]||(st[e]=$.instantiateView(e)),J.setElement(t("<div class='fc-view fc-"+e+"-view' />").appendTo(Z)),G.activateButton(e)),J&&(et=J.massageCurrentDate(et),J.displaying&&et.isWithin(J.intervalStart,J.intervalEnd)||u()&&(J.display(et,n),B(),T(),M(),_())),B(),at--}function d(){G.deactivateButton(J.type),J.removeElement(),J=$.view=null}function p(){at++,N();var t=J.type,e=J.queryScroll();d(),h(t,e),B(),at--}function f(t){if(u())return t&&m(),at++,J.updateSize(!0),at--,!0}function g(){u()&&m()}function m(){var t=$.options.contentHeight,e=$.options.height;Q="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-v():"function"==typeof e?e()-v():"parent"===e?n.parent().height()-v():Math.round(Z.width()/Math.max($.options.aspectRatio,.5))}function v(){return G.el?G.el.outerHeight(!0):0}function y(t){!at&&t.target===window&&J.start&&f(!0)&&J.trigger("windowResize",ot)}function b(){C()}function w(t){rt($.getEventSourcesByMatchArray(t))}function x(){u()&&(N(),J.displayEvents(lt),B())}function _(){!$.options.lazyFetching||nt(J.start,J.end)?C():x()}function C(){it(J.start,J.end)}function k(t){lt=t,x()}function S(){x()}function T(){G.updateTitle(J.title)}function M(){var t=$.getNow();t.isWithin(J.intervalStart,J.intervalEnd)?G.disableButton("today"):G.enableButton("today")}function D(t,e){J.select($.buildSelectSpan.apply($,arguments))}function A(){J&&J.unselect()}function E(){et=J.computePrevDate(et),h()}function P(){et=J.computeNextDate(et),h()}function I(){et.add(-1,"years"),h()}function O(){et.add(1,"years"),h()}function L(){et=$.getNow(),h()}function R(t){et=$.moment(t).stripZone(),h()}function H(t){et.add(e.duration(t)),h()}function z(t,e){var n;e=e||"day",n=$.getViewSpec(e)||$.getUnitViewSpec(e),et=t.clone(),h(n?n.type:null)}function F(){return $.applyTimezone(et)}function N(){Z.css({width:"100%",height:Z.height(),overflow:"hidden"})}function B(){Z.css({width:"",height:"",overflow:""})}function W(){return $}function V(){return J}function q(t,e){var n;if("string"==typeof t){if(void 0===e)return $.options[t];n={},n[t]=e,Y(n)}else"object"==typeof t&&Y(t)}function Y(t){var e,n=0;for(e in t)$.dynamicOverrides[e]=t[e];$.viewSpecCache={},$.populateOptionsHash();for(e in t)$.triggerOptionHandlers(e),n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void f(!0);if("defaultDate"===e)return;if("businessHours"===e)return void(J&&(J.unrenderBusinessHours(),J.renderBusinessHours()));if("timezone"===e)return $.rezoneArrayEventSources(),void b()}l(),st={},p()}function j(t,e){var n=Array.prototype.slice.call(arguments,2);if(e=e||ot,this.triggerWith(t,e,n),$.options[t])return $.options[t].apply(e,n)}var $=this;$.render=s,$.destroy=c,$.refetchEvents=b,$.refetchEventSources=w,$.reportEvents=k,$.reportEventChange=S,$.rerenderEvents=x,$.changeView=h,$.select=D,$.unselect=A,$.prev=E,$.next=P,$.prevYear=I,$.nextYear=O,$.today=L,$.gotoDate=R,$.incrementDate=H,$.zoomTo=z,$.getDate=F,$.getCalendar=W,$.getView=V,$.option=q,$.trigger=j,$.dynamicOverrides={},$.viewSpecCache={},$.optionHandlers={},$.overrides=i(r||{}),$.populateOptionsHash();var U;$.bindOptions(["lang","monthNames","monthNamesShort","dayNames","dayNamesShort","firstDay","weekNumberCalculation"],function(t,e,n,i,r,s,a){if(U=X(Yt(t)),e&&(U._months=e),n&&(U._monthsShort=n),i&&(U._weekdays=i),r&&(U._weekdaysShort=r),null!=s){var l=X(U._week);l.dow=s,U._week=l}"iso"===a&&(a="ISO"),"ISO"!==a&&"local"!==a&&"function"!=typeof a||(U._fullCalendar_weekCalc=a),et&&o(et)}),$.defaultAllDayEventDuration=e.duration($.options.defaultAllDayEventDuration),$.defaultTimedEventDuration=e.duration($.options.defaultTimedEventDuration),$.moment=function(){var t;return"local"===$.options.timezone?(t=Gt.moment.apply(null,arguments),t.hasTime()&&t.local()):t="UTC"===$.options.timezone?Gt.moment.utc.apply(null,arguments):Gt.moment.parseZone.apply(null,arguments),o(t),t},$.getIsAmbigTimezone=function(){return"local"!==$.options.timezone&&"UTC"!==$.options.timezone},$.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=$.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()===0&&(n=e)),n},$.getNow=function(){var t=$.options.now;return"function"==typeof t&&(t=t()),$.moment(t).stripZone()},$.getEventEnd=function(t){return t.end?t.end.clone():$.getDefaultEventEnd(t.allDay,t.start)},$.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add($.defaultAllDayEventDuration):n.add($.defaultTimedEventDuration),$.getIsAmbigTimezone()&&n.stripZone(),n},$.humanizeDuration=function(t){return(t.locale||t.lang).call(t,$.options.lang).humanize()},$t.call($);var G,Z,K,J,Q,tt,et,nt=$.isFetchNeeded,it=$.fetchEvents,rt=$.fetchEventSources,ot=n[0],st={},at=0,lt=[];et=null!=$.options.defaultDate?$.moment($.options.defaultDate).stripZone():$.getNow(),$.getSuggestedViewHeight=function(){return void 0===Q&&g(),Q},$.isHeightAuto=function(){return"auto"===$.options.contentHeight||"auto"===$.options.height},$.freezeContentHeight=N,$.unfreezeContentHeight=B,$.initialize()}function qt(e){t.each(Ae,function(t,n){null==e[t]&&(e[t]=n(e))})}function Yt(t){var n=e.localeData||e.langData;return n.call(e,t)||n.call(e,"en")}function jt(e){function n(){var n=e.options,o=n.header;p=n.theme?"ui":"fc",o?(d?d.empty():d=this.el=t("<div class='fc-toolbar'/>"),d.append(r("left")).append(r("right")).append(r("center")).append('<div class="fc-clear"/>')):i()}function i(){d&&(d.remove(),d=h.el=null)}function r(n){var i=t('<div class="fc-'+n+'"/>'),r=e.options,o=r.header[n];return o&&t.each(o.split(" "),function(n){var o,s=t(),a=!0;t.each(this.split(","),function(n,i){var o,l,c,u,h,d,g,m,v,y;"title"==i?(s=s.add(t("<h2>&nbsp;</h2>")),a=!1):((o=(r.customButtons||{})[i])?(c=function(t){o.click&&o.click.call(y[0],t)},u="",h=o.text):(l=e.getViewSpec(i))?(c=function(){e.changeView(i)},f.push(i),u=l.buttonTextOverride,h=l.buttonTextDefault):e[i]&&(c=function(){e[i]()},u=(e.overrides.buttonText||{})[i],h=r.buttonText[i]),c&&(d=o?o.themeIcon:r.themeButtonIcons[i],g=o?o.icon:r.buttonIcons[i],m=u?nt(u):d&&r.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":g&&!r.theme?"<span class='fc-icon fc-icon-"+g+"'></span>":nt(h),v=["fc-"+i+"-button",p+"-button",p+"-state-default"],y=t('<button type="button" class="'+v.join(" ")+'">'+m+"</button>").click(function(t){y.hasClass(p+"-state-disabled")||(c(t),(y.hasClass(p+"-state-active")||y.hasClass(p+"-state-disabled"))&&y.removeClass(p+"-state-hover"))}).mousedown(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-down")}).mouseup(function(){y.removeClass(p+"-state-down")}).hover(function(){y.not("."+p+"-state-active").not("."+p+"-state-disabled").addClass(p+"-state-hover")},function(){y.removeClass(p+"-state-hover").removeClass(p+"-state-down")}),s=s.add(y)))}),a&&s.first().addClass(p+"-corner-left").end().last().addClass(p+"-corner-right").end(),s.length>1?(o=t("<div/>"),a&&o.addClass("fc-button-group"),o.append(s),i.append(o)):i.append(s)}),i}function o(t){d&&d.find("h2").text(t)}function s(t){d&&d.find(".fc-"+t+"-button").addClass(p+"-state-active")}function a(t){d&&d.find(".fc-"+t+"-button").removeClass(p+"-state-active")}function l(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!0).addClass(p+"-state-disabled")}function c(t){d&&d.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(p+"-state-disabled")}function u(){return f}var h=this;h.render=n,h.removeElement=i,h.updateTitle=o,h.activateButton=s,h.deactivateButton=a,h.disableButton=l,h.enableButton=c,h.getViewsWithButtons=u,h.el=null;var d,p,f=[]}function $t(){function n(t,e){return!j||t<j||e>$}function i(t,e){j=t,$=e,r(Z,"reset")}function r(t,e){var n,i;for("reset"===e?J=[]:"add"!==e&&(J=w(J,t)),n=0;n<t.length;n++)i=t[n],"pending"!==i._status&&K++,i._fetchId=(i._fetchId||0)+1,i._status="pending";for(n=0;n<t.length;n++)i=t[n],o(i,i._fetchId)}function o(e,n){l(e,function(i){var r,o,s,l=t.isArray(e.events);if(n===e._fetchId&&"rejected"!==e._status){if(e._status="resolved",i)for(r=0;r<i.length;r++)o=i[r],s=l?o:D(o,e),s&&J.push.apply(J,I(s));a()}})}function s(t){var e="pending"===t._status;t._status="rejected",e&&a()}function a(){K--,K||G(J)}function l(e,n){var i,r,o=Gt.sourceFetchers;for(i=0;i<o.length;i++){if(r=o[i].call(Y,e,j.clone(),$.clone(),Y.options.timezone,n),r===!0)return;if("object"==typeof r)return void l(r,n)}var s=e.events;if(s)t.isFunction(s)?(Y.pushLoading(),s.call(Y,j.clone(),$.clone(),Y.options.timezone,function(t){n(t),Y.popLoading()})):t.isArray(s)?n(s):n();else{var a=e.url;if(a){var c,u=e.success,h=e.error,d=e.complete;c=t.isFunction(e.data)?e.data():e.data;var p=t.extend({},c||{}),f=et(e.startParam,Y.options.startParam),g=et(e.endParam,Y.options.endParam),m=et(e.timezoneParam,Y.options.timezoneParam);f&&(p[f]=j.format()),g&&(p[g]=$.format()),Y.options.timezone&&"local"!=Y.options.timezone&&(p[m]=Y.options.timezone),Y.pushLoading(),t.ajax(t.extend({},Ee,e,{data:p,success:function(e){e=e||[];var i=tt(u,this,arguments);t.isArray(i)&&(e=i),n(e)},error:function(){tt(h,this,arguments),n()},complete:function(){tt(d,this,arguments),Y.popLoading()}}))}else n()}}function c(t){var e=u(t);e&&(Z.push(e),r([e],"add"))}function u(e){var n,i,r=Gt.sourceNormalizers;if(t.isFunction(e)||t.isArray(e)?n={events:e}:"string"==typeof e?n={url:e}:"object"==typeof e&&(n=t.extend({},e)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],t.isArray(n.events)&&(n.origArray=n.events,n.events=t.map(n.events,function(t){return D(t,n)})),i=0;i<r.length;i++)r[i].call(Y,n);return n}}function h(t){p(v(t))}function d(t){null==t?p(Z,!0):p(m(t))}function p(e,n){var i;for(i=0;i<e.length;i++)s(e[i]);n?(Z=[],J=[]):(Z=t.grep(Z,function(t){for(i=0;i<e.length;i++)if(t===e[i])return!1;return!0}),J=w(J,e)),G(J)}function f(){return Z.slice(1)}function g(e){return t.grep(Z,function(t){return t.id&&t.id===e})[0]}function m(e){e?t.isArray(e)||(e=[e]):e=[];var n,i=[];for(n=0;n<e.length;n++)i.push.apply(i,v(e[n]));return i}function v(e){var n,i;for(n=0;n<Z.length;n++)if(i=Z[n],i===e)return[i];return i=g(e),i?[i]:t.grep(Z,function(t){return y(e,t)})}function y(t,e){return t&&e&&b(t)==b(e)}function b(t){return("object"==typeof t?t.origArray||t.googleCalendarId||t.url||t.events:null)||t}function w(e,n){return t.grep(e,function(t){for(var e=0;e<n.length;e++)if(t.source===n[e])return!1;return!0})}function x(t){t.start=Y.moment(t.start),t.end?t.end=Y.moment(t.end):t.end=null,O(t,_(t)),G(J)}function _(e){var n={};return t.each(e,function(t,e){C(t)&&void 0!==e&&Q(e)&&(n[t]=e)}),n}function C(t){return!/^_|^(id|allDay|start|end)$/.test(t)}function k(t,e){var n,i,r,o=D(t);if(o){for(n=I(o),i=0;i<n.length;i++)r=n[i],r.source||(e&&(X.events.push(r),r.source=X),J.push(r));return G(J),n}return[]}function S(e){var n,i;for(null==e?e=function(){return!0}:t.isFunction(e)||(n=e+"",e=function(t){return t._id==n}),J=t.grep(J,e,!0),i=0;i<Z.length;i++)t.isArray(Z[i].events)&&(Z[i].events=t.grep(Z[i].events,e,!0));G(J)}function T(e){return t.isFunction(e)?t.grep(J,e):null!=e?(e+="",t.grep(J,function(t){return t._id==e})):J}function M(t){t.start=Y.moment(t.start),t.end&&(t.end=Y.moment(t.end)),Ut(t)}function D(n,i){var r,o,s,a={};if(Y.options.eventDataTransform&&(n=Y.options.eventDataTransform(n)),i&&i.eventDataTransform&&(n=i.eventDataTransform(n)),t.extend(a,n),i&&(a.source=i),a._id=n._id||(void 0===n.id?"_fc"+Pe++:n.id+""),n.className?"string"==typeof n.className?a.className=n.className.split(/\s+/):a.className=n.className:a.className=[],r=n.start||n.date,o=n.end,U(r)&&(r=e.duration(r)),U(o)&&(o=e.duration(o)),n.dow||e.isDuration(r)||e.isDuration(o))a.start=r?e.duration(r):null,a.end=o?e.duration(o):null,a._recurring=!0;else{if(r&&(r=Y.moment(r),!r.isValid()))return!1;o&&(o=Y.moment(o),o.isValid()||(o=null)),s=n.allDay,void 0===s&&(s=et(i?i.allDayDefault:void 0,Y.options.allDayDefault)),A(r,o,s,a)}return Y.normalizeEvent(a),a}function A(t,e,n,i){i.start=t,i.end=e,i.allDay=n,E(i),Ut(i)}function E(t){P(t),t.end&&!t.end.isAfter(t.start)&&(t.end=null),t.end||(Y.options.forceEventDuration?t.end=Y.getDefaultEventEnd(t.allDay,t.start):t.end=null)}function P(t){null==t.allDay&&(t.allDay=!(t.start.hasTime()||t.end&&t.end.hasTime())),t.allDay?(t.start.stripTime(),t.end&&t.end.stripTime()):(t.start.hasTime()||(t.start=Y.applyTimezone(t.start.time(0))),t.end&&!t.end.hasTime()&&(t.end=Y.applyTimezone(t.end.time(0))))}function I(e,n,i){var r,o,s,a,l,c,u,h,d,p=[];if(n=n||j,i=i||$,e)if(e._recurring){if(o=e.dow)for(r={},s=0;s<o.length;s++)r[o[s]]=!0;for(a=n.clone().stripTime();a.isBefore(i);)r&&!r[a.day()]||(l=e.start,c=e.end,u=a.clone(),h=null,l&&(u=u.time(l)),c&&(h=a.clone().time(c)),d=t.extend({},e),A(u,h,!l&&!c,d),p.push(d)),a.add(1,"days")}else p.push(e);return p}function O(e,n,i){function r(t,e){return i?N(t,e,i):n.allDay?F(t,e):z(t,e)}var o,s,a,l,c,u,h={};return n=n||{},n.start||(n.start=e.start.clone()),void 0===n.end&&(n.end=e.end?e.end.clone():null),null==n.allDay&&(n.allDay=e.allDay),E(n),o={start:e._start.clone(),end:e._end?e._end.clone():Y.getDefaultEventEnd(e._allDay,e._start),allDay:n.allDay},E(o),s=null!==e._end&&null===n.end,a=r(n.start,o.start),n.end?(l=r(n.end,o.end),c=l.subtract(a)):c=null,t.each(n,function(t,e){C(t)&&void 0!==e&&(h[t]=e)}),u=L(T(e._id),s,n.allDay,a,c,h),{dateDelta:a,durationDelta:c,undo:u}}function L(e,n,i,r,o,s){var a=Y.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),t.each(e,function(e,c){var u,h;u={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},t.each(s,function(t){u[t]=c[t]}),h={start:c._start,end:c._end,allDay:i},E(h),n?h.end=null:o&&!h.end&&(h.end=Y.getDefaultEventEnd(h.allDay,h.start)),r&&(h.start.add(r),h.end&&h.end.add(r)),o&&h.end.add(o),a&&!h.allDay&&(r||o)&&(h.start.stripZone(),h.end&&h.end.stripZone()),t.extend(c,s,h),Ut(c),l.push(function(){t.extend(c,u),Ut(c)})}),function(){for(var t=0;t<l.length;t++)l[t]()}}function R(t,e){var n=e.source||{},i=et(e.constraint,n.constraint,Y.options.eventConstraint),r=et(e.overlap,n.overlap,Y.options.eventOverlap);return W(t,i,r,e)}function H(e,n,i){var r,o;return i&&(r=t.extend({},i,n),o=I(D(r))[0]),o?R(e,o):B(e)}function B(t){return W(t,Y.options.selectConstraint,Y.options.selectOverlap)}function W(t,e,n,i){var r,o,s,a,l,c;if(null!=e){for(r=V(e),o=!1,a=0;a<r.length;a++)if(Y.spanContainsSpan(r[a],t)){o=!0;break}if(!o)return!1}for(s=Y.getPeerEvents(t,i),a=0;a<s.length;a++)if(l=s[a],q(l,t)){if(n===!1)return!1;if("function"==typeof n&&!n(l,i))return!1;if(i){if(c=et(l.overlap,(l.source||{}).overlap),c===!1)return!1;if("function"==typeof c&&!c(i,l))return!1}}return!0}function V(t){return"businessHours"===t?Y.getCurrentBusinessHourEvents():"object"==typeof t?I(D(t)):T(t)}function q(t,e){var n=t.start.clone().stripZone(),i=Y.getEventEnd(t).stripZone();return e.start<i&&e.end>n}var Y=this;Y.isFetchNeeded=n,Y.fetchEvents=i,Y.fetchEventSources=r,Y.getEventSources=f,Y.getEventSourceById=g,Y.getEventSourcesByMatchArray=m,Y.getEventSourcesByMatch=v,Y.addEventSource=c,Y.removeEventSource=h,Y.removeEventSources=d,Y.updateEvent=x,Y.renderEvent=k,Y.removeEvents=S,Y.clientEvents=T,Y.mutateEvent=O,Y.normalizeEventDates=E,Y.normalizeEventTimes=P;var j,$,G=Y.reportEvents,X={events:[]},Z=[X],K=0,J=[];t.each((Y.options.events?[Y.options.events]:[]).concat(Y.options.eventSources||[]),function(t,e){var n=u(e);n&&Z.push(n)}),Y.rezoneArrayEventSources=function(){var e,n,i;for(e=0;e<Z.length;e++)if(n=Z[e].events,t.isArray(n))for(i=0;i<n.length;i++)M(n[i])},Y.buildEventFromInput=D,Y.expandEvent=I,Y.isEventSpanAllowed=R,Y.isExternalSpanAllowed=H,Y.isSelectionSpanAllowed=B,Y.getEventCache=function(){return J}}function Ut(t){t._allDay=t.allDay,t._start=t.start.clone(),t._end=t.end?t.end.clone():null}var Gt=t.fullCalendar={version:"<%= meta.version %>",internalApiVersion:5},Xt=Gt.views={};t.fn.fullCalendar=function(e){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var s,a=t(o),l=a.data("fullCalendar");"string"==typeof e?l&&t.isFunction(l[e])&&(s=l[e].apply(l,n),r||(i=s),"destroy"===e&&a.removeData("fullCalendar")):l||(l=new Se(a,e),a.data("fullCalendar",l),l.render())}),i};var Zt=["header","buttonText","buttonIcons","themeButtonIcons"];Gt.intersectRanges=H,Gt.applyAll=tt,Gt.debounce=ct,Gt.isInt=at,Gt.htmlEscape=nt,Gt.cssToStr=rt,Gt.proxy=lt,Gt.capitaliseFirstLetter=ot,Gt.getOuterRect=p,Gt.getClientRect=f,Gt.getContentRect=g,Gt.getScrollbarWidths=m;var Kt=null;Gt.preventDefault=S,Gt.intersectRects=D,Gt.parseFieldSpecs=I,Gt.compareByFieldSpecs=O,Gt.compareByFieldSpec=L,Gt.flexibleCompare=R,Gt.computeIntervalUnit=B,Gt.divideRangeByDuration=V,Gt.divideDurationByDuration=q,Gt.multiplyDuration=Y,Gt.durationHasTime=j;var Jt=["sun","mon","tue","wed","thu","fri","sat"],Qt=["year","month","week","day","hour","minute","second","millisecond"];Gt.log=function(){var t=window.console;if(t&&t.log)return t.log.apply(t,arguments)},Gt.warn=function(){var t=window.console;return t&&t.warn?t.warn.apply(t,arguments):Gt.log.apply(Gt,arguments)};var te,ee,ne,ie={}.hasOwnProperty,re=/^\s*\d{4}-\d\d$/,oe=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,se=e.fn,ae=t.extend({},se);Gt.moment=function(){return ht(arguments)},Gt.moment.utc=function(){var t=ht(arguments,!0);return t.hasTime()&&t.utc(),t},Gt.moment.parseZone=function(){return ht(arguments,!0,!0)},se.clone=function(){var t=ae.clone.apply(this,arguments);return pt(this,t),this._fullCalendar&&(t._fullCalendar=!0),t},se.week=se.weeks=function(t){var e=(this._locale||this._lang)._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?ae.isoWeek.apply(this,arguments):ae.week.apply(this,arguments)},se.time=function(t){if(!this._fullCalendar)return ae.time.apply(this,arguments);if(null==t)return e.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,e.isDuration(t)||e.isMoment(t)||(t=e.duration(t));var n=0;return e.isDuration(t)&&(n=24*Math.floor(t.asDays())),this.hours(n+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},se.stripTime=function(){var t;return this._ambigTime||(t=this.toArray(),this.utc(),ee(this,t.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},se.hasTime=function(){return!this._ambigTime},se.stripZone=function(){var t,e;return this._ambigZone||(t=this.toArray(),e=this._ambigTime,this.utc(),ee(this,t),this._ambigTime=e||!1,this._ambigZone=!0),this},se.hasZone=function(){return!this._ambigZone},se.local=function(){var t=this.toArray(),e=this._ambigZone;return ae.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,e&&ne(this,t),this},se.utc=function(){return ae.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},t.each(["zone","utcOffset"],function(t,e){ae[e]&&(se[e]=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),ae[e].apply(this,arguments)})}),se.format=function(){return this._fullCalendar&&arguments[0]?mt(this,arguments[0]):this._ambigTime?gt(this,"YYYY-MM-DD"):this._ambigZone?gt(this,"YYYY-MM-DD[T]HH:mm:ss"):ae.format.apply(this,arguments)},se.toISOString=function(){return this._ambigTime?gt(this,"YYYY-MM-DD"):this._ambigZone?gt(this,"YYYY-MM-DD[T]HH:mm:ss"):ae.toISOString.apply(this,arguments)},se.isWithin=function(t,e){var n=dt([this,t,e]);return n[0]>=n[1]&&n[0]<n[2]},se.isSame=function(t,e){var n;return this._fullCalendar?e?(n=dt([this,t],!0),ae.isSame.call(n[0],n[1],e)):(t=Gt.moment.parseZone(t),ae.isSame.call(this,t)&&Boolean(this._ambigTime)===Boolean(t._ambigTime)&&Boolean(this._ambigZone)===Boolean(t._ambigZone)):ae.isSame.apply(this,arguments)},t.each(["isBefore","isAfter"],function(t,e){se[e]=function(t,n){var i;return this._fullCalendar?(i=dt([this,t]),ae[e].call(i[0],i[1],n)):ae[e].apply(this,arguments)}}),te="_d"in e()&&"updateOffset"in e,ee=te?function(t,n){t._d.setTime(Date.UTC.apply(Date,n)),e.updateOffset(t,!1)}:ft,ne=te?function(t,n){t._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),e.updateOffset(t,!1)}:ft;var le={t:function(t){return gt(t,"a").charAt(0)},T:function(t){return gt(t,"A").charAt(0)}};Gt.formatRange=bt;var ce={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ue={};Gt.Class=kt,kt.extend=function(){var t,e,n=arguments.length;for(t=0;t<n;t++)e=arguments[t],t<n-1&&Tt(this,e);return St(this,e||{})},kt.mixin=function(t){Tt(this,t)};var he=Gt.EmitterMixin={on:function(e,n){var i=function(t,e){return n.apply(e.context||this,e.args||[])};return n.guid||(n.guid=t.guid++),i.guid=n.guid,t(this).on(e,i),this},off:function(e,n){return t(this).off(e,n),this},trigger:function(e){var n=Array.prototype.slice.call(arguments,1);return t(this).triggerHandler(e,{args:n}),this},triggerWith:function(e,n,i){return t(this).triggerHandler(e,{context:n,args:i}),this}},de=Gt.ListenerMixin=function(){var e=0,n={listenerId:null,listenTo:function(e,n,i){if("object"==typeof n)for(var r in n)n.hasOwnProperty(r)&&this.listenTo(e,r,n[r]);else"string"==typeof n&&e.on(n+"."+this.getListenerNamespace(),t.proxy(i,this))},stopListeningTo:function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=e++),"_listener"+this.listenerId}};return n}(),pe={isIgnoringMouse:!1,delayUnignoreMouse:null,initMouseIgnoring:function(t){this.delayUnignoreMouse=ct(lt(this,"unignoreMouse"),t||1e3)},tempIgnoreMouse:function(){this.isIgnoringMouse=!0,this.delayUnignoreMouse()},unignoreMouse:function(){this.isIgnoringMouse=!1}},fe=kt.extend(de,{isHidden:!0,options:null,el:null,margin:10,constructor:function(t){this.options=t||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var e=this,n=this.options;this.el=t('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){e.hide()}),n.autoHide&&this.listenTo(t(document),"mousedown",this.documentMousedown)},documentMousedown:function(e){this.el&&!t(e.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(t(document),"mousedown")},position:function(){var e,n,i,r,o,s=this.options,a=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=t(window),h=d(this.el);r=s.top||0,o=void 0!==s.left?s.left:void 0!==s.right?s.right-l:0,h.is(window)||h.is(document)?(h=u,e=0,n=0):(i=h.offset(),e=i.top,n=i.left),e+=u.scrollTop(),n+=u.scrollLeft(),s.viewportConstrain!==!1&&(r=Math.min(r,e+h.outerHeight()-c-this.margin),r=Math.max(r,e+this.margin),o=Math.min(o,n+h.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-a.top,left:o-a.left})},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))}}),ge=Gt.CoordCache=kt.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(e){this.els=t(e.els),this.isHorizontal=e.isHorizontal,this.isVertical=e.isVertical,this.forcedOffsetParentEl=e.offsetParent?t(e.offsetParent):null},build:function(){var t=this.forcedOffsetParentEl||this.els.eq(0).offsetParent();this.origin=t.offset(),this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},clear:function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},ensureBuilt:function(){this.origin||this.build()},buildElHorizontals:function(){var e=[],n=[];this.els.each(function(i,r){var o=t(r),s=o.offset().left,a=o.outerWidth();e.push(s),n.push(s+a)}),this.lefts=e,this.rights=n},buildElVerticals:function(){var e=[],n=[];this.els.each(function(i,r){var o=t(r),s=o.offset().top,a=o.outerHeight();e.push(s),n.push(s+a)}),this.tops=e,this.bottoms=n},getHorizontalIndex:function(t){this.ensureBuilt();var e,n=this.lefts,i=this.rights,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},getVerticalIndex:function(t){this.ensureBuilt();var e,n=this.tops,i=this.bottoms,r=n.length;for(e=0;e<r;e++)if(t>=n[e]&&t<i[e])return e},getLeftOffset:function(t){return this.ensureBuilt(),this.lefts[t]},getLeftPosition:function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},getRightOffset:function(t){return this.ensureBuilt(),this.rights[t]},getRightPosition:function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},getWidth:function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},getTopOffset:function(t){return this.ensureBuilt(),this.tops[t]},getTopPosition:function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},getBottomOffset:function(t){return this.ensureBuilt(),this.bottoms[t]},getBottomPosition:function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},getHeight:function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},queryBoundingRect:function(){var t=d(this.els.eq(0));if(!t.is(document))return f(t)},isPointInBounds:function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},isLeftInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},isTopInBounds:function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom}}),me=Gt.DragListener=kt.extend(de,pe,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,handleTouchScrollProxy:null,constructor:function(t){this.options=t||{},this.handleTouchScrollProxy=lt(this,"handleTouchScroll"),this.initMouseIgnoring(500)},startInteraction:function(e,n){var i=C(e);if("mousedown"===e.type){if(this.isIgnoringMouse)return;if(!w(e))return;e.preventDefault()}this.isInteracting||(n=n||{},this.delay=et(n.delay,this.options.delay,0),this.minDistance=et(n.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=i,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=x(e),this.originY=_(e),this.scrollEl=d(t(e.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(e),this.startDelay(e),this.minDistance||this.handleDistanceSurpassed(e))},handleInteractionStart:function(t){this.trigger("interactionStart",t)},endInteraction:function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),this.isTouch&&this.tempIgnoreMouse())},handleInteractionEnd:function(t,e){this.trigger("interactionEnd",t,e||!1);
},bindHandlers:function(){var e=this,n=1;this.isTouch?(this.listenTo(t(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(t){n?n--:e.endInteraction(t,!0)}}),!T(this.handleTouchScrollProxy)&&this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(t(document),{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t(document),{selectstart:S,contextmenu:S})},unbindHandlers:function(){this.stopListeningTo(t(document)),M(this.handleTouchScrollProxy),this.scrollEl&&this.stopListeningTo(this.scrollEl,"scroll")},startDrag:function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},handleDragStart:function(t){this.trigger("dragStart",t),this.initHrefHack()},handleMove:function(t){var e,n=x(t)-this.originX,i=_(t)-this.originY,r=this.minDistance;this.isDistanceSurpassed||(e=n*n+i*i,e>=r*r&&this.handleDistanceSurpassed(t)),this.isDragging&&this.handleDrag(n,i,t)},handleDrag:function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},endDrag:function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},handleDragEnd:function(t){this.trigger("dragEnd",t),this.destroyHrefHack()},startDelay:function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},handleDelayEnd:function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},handleDistanceSurpassed:function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},handleTouchMove:function(t){this.isDragging&&t.preventDefault(),this.handleMove(t)},handleMouseMove:function(t){this.handleMove(t)},handleTouchScroll:function(t){this.isDragging||this.endInteraction(t,!0)},initHrefHack:function(){var t=this.subjectEl;(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},destroyHrefHack:function(){var t=this.subjectEl,e=this.subjectHref;setTimeout(function(){e&&t.attr("href",e)},0)},trigger:function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1)),this["_"+t]&&this["_"+t].apply(this,Array.prototype.slice.call(arguments,1))}});me.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",ct(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=p(this.scrollEl))},updateAutoScroll:function(t){var e,n,i,r,o=this.scrollSensitivity,s=this.scrollBounds,a=0,l=0;s&&(e=(o-(_(t)-s.top))/o,n=(o-(s.bottom-_(t)))/o,i=(o-(x(t)-s.left))/o,r=(o-(s.right-x(t)))/o,e>=0&&e<=1?a=e*this.scrollSpeed*-1:n>=0&&n<=1&&(a=n*this.scrollSpeed),i>=0&&i<=1?l=i*this.scrollSpeed*-1:r>=0&&r<=1&&(l=r*this.scrollSpeed)),this.setScrollVel(a,l)},setScrollVel:function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(lt(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var ve=me.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(t,e){me.call(this,e),this.component=t},handleInteractionStart:function(t){var e,n,i,r=this.subjectEl;this.computeCoords(),t?(n={left:x(t),top:_(t)},i=n,r&&(e=p(r),i=A(i,e)),this.origHit=this.queryHit(i.left,i.top),r&&this.options.subjectCenter&&(this.origHit&&(e=D(this.origHit,e)||e),i=E(e)),this.coordAdjust=P(i,n)):(this.origHit=null,this.coordAdjust=null),me.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits(),this.computeScrollBounds()},handleDragStart:function(t){var e;me.prototype.handleDragStart.apply(this,arguments),e=this.queryHit(x(t),_(t)),e&&this.handleHitOver(e)},handleDrag:function(t,e,n){var i;me.prototype.handleDrag.apply(this,arguments),i=this.queryHit(x(n),_(n)),Mt(i,this.hit)||(this.hit&&this.handleHitOut(),i&&this.handleHitOver(i))},handleDragEnd:function(){this.handleHitDone(),me.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(t){var e=Mt(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){me.prototype.handleInteractionEnd.apply(this,arguments),this.origHit=null,this.hit=null,this.component.releaseHits()},handleScrollEnd:function(){me.prototype.handleScrollEnd.apply(this,arguments),this.computeCoords()},queryHit:function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)}}),ye=kt.extend(de,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(e,n){this.options=n=n||{},this.sourceEl=e,this.parentEl=n.parentEl?t(n.parentEl):e.parent()},start:function(e){this.isFollowing||(this.isFollowing=!0,this.y0=_(e),this.x0=x(e),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),C(e)?this.listenTo(t(document),"touchmove",this.handleMove):this.listenTo(t(document),"mousemove",this.handleMove))},stop:function(e,n){function i(){r.isAnimating=!1,r.removeElement(),r.top0=r.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(t(document)),e&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var t=this.el;return t||(this.sourceEl.width(),t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),t.addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var t,e;this.getEl(),null===this.top0&&(this.sourceEl.width(),t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(t){this.topDelta=_(t)-this.y0,this.leftDelta=x(t)-this.x0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),be=Gt.Grid=kt.extend(de,pe,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(t){this.view=t,this.isRTL=t.opt("isRTL"),this.elsByFill={},this.dayDragListener=this.buildDayDragListener(),this.initMouseIgnoring()},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(t){this.start=t.start.clone(),this.end=t.end.clone(),this.rangeUpdated(),this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var t,e,n=this.view;this.eventTimeFormat=n.opt("eventTimeFormat")||n.opt("timeFormat")||this.computeEventTimeFormat(),t=n.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),e=n.opt("displayEventEnd"),null==e&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},spanToSegs:function(t){},diffDates:function(t,e){return this.largeUnit?N(t,e,this.largeUnit):z(t,e)},prepareHits:function(){},releaseHits:function(){},queryHit:function(t,e){},getHitSpan:function(t){},getHitEl:function(t){},setElement:function(t){this.el=t,k(t),this.bindDayHandler("touchstart",this.dayTouchStart),this.bindDayHandler("mousedown",this.dayMousedown),this.bindSegHandlers(),this.bindGlobalHandlers()},bindDayHandler:function(e,n){var i=this;this.el.on(e,function(e){if(!t(e.target).is(".fc-event-container *, .fc-more"))return n.call(i,e)})},removeElement:function(){this.unbindGlobalHandlers(),this.clearDragListeners(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(t(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},dayMousedown:function(t){this.isIgnoringMouse||this.dayDragListener.startInteraction(t,{})},dayTouchStart:function(t){var e=this.view;(e.isSelected||e.selectedEvent)&&this.tempIgnoreMouse(),this.dayDragListener.startInteraction(t,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var t,e,n=this,i=this.view,r=i.opt("selectable"),o=new ve(this,{scroll:i.opt("dragScroll"),interactionStart:function(){t=o.origHit,e=null},dragStart:function(){i.unselect()},hitOver:function(i,o,a){a&&(o||(t=null),r&&(e=n.computeSelection(n.getHitSpan(a),n.getHitSpan(i)),e?n.renderSelection(e):e===!1&&s()))},hitOut:function(){t=null,e=null,n.unrenderSelection()},hitDone:function(){a()},interactionEnd:function(r,o){o||(t&&!n.isIgnoringMouse&&i.triggerDayClick(n.getHitSpan(t),n.getHitEl(t),r),e&&i.reportSelection(e,r))}});return o},clearDragListeners:function(){this.dayDragListener.endInteraction(),this.segDragListener&&this.segDragListener.endInteraction(),this.segResizeListener&&this.segResizeListener.endInteraction(),this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(t,e){var n=this.fabricateHelperEvent(t,e);return this.renderHelper(n,e)},fabricateHelperEvent:function(t,e){var n=e?X(e.event):{};return n.start=t.start.clone(),n.end=t.end?t.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventDates(n),n.className=(n.className||[]).concat("fc-helper"),e||(n.editable=!1),n},renderHelper:function(t,e){},unrenderHelper:function(){},renderSelection:function(t){this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(t,e){var n=this.computeSelectionSpan(t,e);return!(n&&!this.view.calendar.isSelectionSpanAllowed(n))&&n},computeSelectionSpan:function(t,e){var n=[t.start,t.end,e.start,e.end];return n.sort(st),{start:n[0].clone(),end:n[3].clone()}},renderHighlight:function(t){this.renderFill("highlight",this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},renderFill:function(t,e){},unrenderFill:function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},renderFillSegEls:function(e,n){var i,r=this,o=this[e+"SegEl"],s="",a=[];if(n.length){for(i=0;i<n.length;i++)s+=this.fillSegHtml(e,n[i]);t(s).each(function(e,i){var s=n[e],l=t(i);o&&(l=o.call(r,s,l)),l&&(l=t(l),l.is(r.fillSegTag)&&(s.el=l,a.push(s)))})}return a},fillSegTag:"div",fillSegHtml:function(t,e){var n=this[t+"SegClasses"],i=this[t+"SegCss"],r=n?n.call(this,e):[],o=rt(i?i.call(this,e):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},getDayClasses:function(t){var e=this.view,n=e.calendar.getNow(),i=["fc-"+Jt[t.day()]];return 1==e.intervalDuration.as("months")&&t.month()!=e.intervalStart.month()&&i.push("fc-other-month"),t.isSame(n,"day")?i.push("fc-today",e.highlightStateClass):t<n?i.push("fc-past"):i.push("fc-future"),i}});be.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(t){var e,n=[],i=[];for(e=0;e<t.length;e++)(At(t[e])?n:i).push(t[e]);this.segs=[].concat(this.renderBgEvents(n),this.renderFgEvents(i))},renderBgEvents:function(t){var e=this.eventsToSegs(t);return this.renderBgSegs(e)||e},renderFgEvents:function(t){var e=this.eventsToSegs(t);return this.renderFgSegs(e)||e},unrenderEvents:function(){this.handleSegMouseout(),this.clearDragListeners(),this.unrenderFgSegs(),this.unrenderBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(t){},unrenderFgSegs:function(){},renderFgSegEls:function(e,n){var i,r=this.view,o="",s=[];if(e.length){for(i=0;i<e.length;i++)o+=this.fgSegHtml(e[i],n);t(o).each(function(n,i){var o=e[n],a=r.resolveEventEl(o.event,t(i));a&&(a.data("fc-seg",o),o.el=a,s.push(o))})}return s},fgSegHtml:function(t,e){},renderBgSegs:function(t){return this.renderFill("bgEvent",t)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(t,e){return this.view.resolveEventEl(t.event,e)},bgEventSegClasses:function(t){var e=t.event,n=e.source||{};return["fc-bgevent"].concat(e.className,n.className||[])},bgEventSegCss:function(t){return{"background-color":this.getSegSkinCss(t)["background-color"]}},businessHoursSegClasses:function(t){return["fc-nonbusiness","fc-bgevent"]},buildBusinessHourSegs:function(e){var n=this.view.calendar.getCurrentBusinessHourEvents(e);return!n.length&&this.view.calendar.options.businessHours&&(n=[t.extend({},Ie,{start:this.view.end,end:this.view.end,dow:null})]),this.eventsToSegs(n)},bindSegHandlers:function(){this.bindSegHandlersToEl(this.el)},bindSegHandlersToEl:function(t){this.bindSegHandlerToEl(t,"touchstart",this.handleSegTouchStart),this.bindSegHandlerToEl(t,"touchend",this.handleSegTouchEnd),this.bindSegHandlerToEl(t,"mouseenter",this.handleSegMouseover),this.bindSegHandlerToEl(t,"mouseleave",this.handleSegMouseout),this.bindSegHandlerToEl(t,"mousedown",this.handleSegMousedown),this.bindSegHandlerToEl(t,"click",this.handleSegClick)},bindSegHandlerToEl:function(e,n,i){var r=this;e.on(n,".fc-event-container > *",function(e){var n=t(this).data("fc-seg");if(n&&!r.isDraggingSeg&&!r.isResizingSeg)return i.call(r,n,e)})},handleSegClick:function(t,e){return this.view.trigger("eventClick",t.el[0],t.event,e)},handleSegMouseover:function(t,e){this.isIgnoringMouse||this.mousedOverSeg||(this.mousedOverSeg=t,t.el.addClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseover",t.el[0],t.event,e))},handleSegMouseout:function(t,e){e=e||{},this.mousedOverSeg&&(t=t||this.mousedOverSeg,this.mousedOverSeg=null,t.el.removeClass("fc-allow-mouse-resize"),this.view.trigger("eventMouseout",t.el[0],t.event,e))},handleSegMousedown:function(t,e){var n=this.startSegResize(t,e,{distance:5});!n&&this.view.isEventDraggable(t.event)&&this.buildSegDragListener(t).startInteraction(e,{distance:5})},handleSegTouchStart:function(t,e){var n,i=this.view,r=t.event,o=i.isEventSelected(r),s=i.isEventDraggable(r),a=i.isEventResizable(r),l=!1;o&&a&&(l=this.startSegResize(t,e)),l||!s&&!a||(n=s?this.buildSegDragListener(t):this.buildSegSelectListener(t),n.startInteraction(e,{delay:o?0:this.view.opt("longPressDelay")})),this.tempIgnoreMouse()},handleSegTouchEnd:function(t,e){this.tempIgnoreMouse()},startSegResize:function(e,n,i){return!!t(n.target).is(".fc-resizer")&&(this.buildSegResizeListener(e,t(n.target).is(".fc-start-resizer")).startInteraction(n,i),!0)},buildSegDragListener:function(t){var e,n,i,r=this,o=this.view,l=o.calendar,c=t.el,u=t.event;if(this.segDragListener)return this.segDragListener;var h=this.segDragListener=new ve(o,{scroll:o.opt("dragScroll"),subjectEl:c,subjectCenter:!0,interactionStart:function(i){t.component=r,e=!1,n=new ye(t.el,{additionalClass:"fc-dragging",parentEl:o.el,opacity:h.isTouch?null:o.opt("dragOpacity"),revertDuration:o.opt("dragRevertDuration"),zIndex:2}),n.hide(),n.start(i)},dragStart:function(n){h.isTouch&&!o.isEventSelected(u)&&o.selectEvent(u),e=!0,r.handleSegMouseout(t,n),r.segDragStart(t,n),o.hideEvent(u)},hitOver:function(e,a,c){var d;t.hit&&(c=t.hit),i=r.computeEventDrop(c.component.getHitSpan(c),e.component.getHitSpan(e),u),i&&!l.isEventSpanAllowed(r.eventToSpan(i),u)&&(s(),i=null),i&&(d=o.renderDrag(i,t))?(d.addClass("fc-dragging"),h.isTouch||r.applyDragOpacity(d),n.hide()):n.show(),a&&(i=null)},hitOut:function(){o.unrenderDrag(),n.show(),i=null},hitDone:function(){a()},interactionEnd:function(s){delete t.component,n.stop(!i,function(){e&&(o.unrenderDrag(),o.showEvent(u),r.segDragStop(t,s)),i&&o.reportEventDrop(u,i,this.largeUnit,c,s)}),r.segDragListener=null}});return h},buildSegSelectListener:function(t){var e=this,n=this.view,i=t.event;if(this.segDragListener)return this.segDragListener;var r=this.segDragListener=new me({dragStart:function(t){r.isTouch&&!n.isEventSelected(i)&&n.selectEvent(i)},interactionEnd:function(t){e.segDragListener=null}});return r},segDragStart:function(t,e){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",t.el[0],t.event,e,{})},segDragStop:function(t,e){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",t.el[0],t.event,e,{})},computeEventDrop:function(t,e,n){var i,r,o=this.view.calendar,s=t.start,a=e.start;return s.hasTime()===a.hasTime()?(i=this.diffDates(a,s),n.allDay&&j(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:a.clone(),end:null,allDay:!a.hasTime()},r},applyDragOpacity:function(t){var e=this.view.opt("dragOpacity");null!=e&&t.each(function(t,n){n.style.opacity=e})},externalDragStart:function(e,n){var i,r,o=this.view;o.opt("droppable")&&(i=t((n?n.item:null)||e.target),r=o.opt("dropAccept"),(t.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,e,n)))},listenToExternalDrag:function(t,e,n){var i,r=this,o=this.view.calendar,l=Lt(t),c=r.externalDragListener=new ve(this,{interactionStart:function(){r.isDraggingExternal=!0},hitOver:function(t){i=r.computeExternalDrop(t.component.getHitSpan(t),l),i&&!o.isExternalSpanAllowed(r.eventToSpan(i),i,l.eventProps)&&(s(),i=null),i&&r.renderDrag(i)},hitOut:function(){i=null},hitDone:function(){a(),r.unrenderDrag()},interactionEnd:function(e){i&&r.view.reportExternalDrop(l,i,t,e,n),r.isDraggingExternal=!1,r.externalDragListener=null}});c.startDrag(e)},computeExternalDrop:function(t,e){var n=this.view.calendar,i={start:n.applyTimezone(t.start),end:null};return e.startTime&&!i.start.hasTime()&&i.start.time(e.startTime),e.duration&&(i.end=i.start.clone().add(e.duration)),i},renderDrag:function(t,e){},unrenderDrag:function(){},buildSegResizeListener:function(t,e){var n,i,r=this,o=this.view,l=o.calendar,c=t.el,u=t.event,h=l.getEventEnd(u),d=this.segResizeListener=new ve(this,{scroll:o.opt("dragScroll"),subjectEl:c,interactionStart:function(){n=!1},dragStart:function(e){n=!0,r.handleSegMouseout(t,e),r.segResizeStart(t,e)},hitOver:function(n,a,c){var d=r.getHitSpan(c),p=r.getHitSpan(n);i=e?r.computeEventStartResize(d,p,u):r.computeEventEndResize(d,p,u),i&&(l.isEventSpanAllowed(r.eventToSpan(i),u)?i.start.isSame(u.start)&&i.end.isSame(h)&&(i=null):(s(),i=null)),i&&(o.hideEvent(u),r.renderEventResize(i,t))},hitOut:function(){i=null},hitDone:function(){r.unrenderEventResize(),o.showEvent(u),a()},interactionEnd:function(e){n&&r.segResizeStop(t,e),i&&o.reportEventResize(u,i,this.largeUnit,c,e),r.segResizeListener=null}});return d},segResizeStart:function(t,e){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",t.el[0],t.event,e,{})},segResizeStop:function(t,e){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",t.el[0],t.event,e,{})},computeEventStartResize:function(t,e,n){return this.computeEventResize("start",t,e,n)},computeEventEndResize:function(t,e,n){return this.computeEventResize("end",t,e,n)},computeEventResize:function(t,e,n,i){var r,o,s=this.view.calendar,a=this.diffDates(n[t],e[t]);return r={start:i.start.clone(),end:s.getEventEnd(i),allDay:i.allDay},r.allDay&&j(a)&&(r.allDay=!1,s.normalizeEventTimes(r)),r[t].add(a),r.start.isBefore(r.end)||(o=this.minResizeDuration||(i.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration),"start"==t?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(t,e){},unrenderEventResize:function(){},getEventTimeText:function(t,e,n){return null==e&&(e=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&t.start.hasTime()?n&&t.end?this.view.formatRange(t,e):t.start.format(e):""},getSegClasses:function(t,e,n){var i=this.view,r=t.event,o=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return e&&o.push("fc-draggable"),n&&o.push("fc-resizable"),i.isEventSelected(r)&&o.push("fc-selected"),o},getSegSkinCss:function(t){var e=t.event,n=this.view,i=e.source||{},r=e.color,o=i.color,s=n.opt("eventColor");return{"background-color":e.backgroundColor||r||i.backgroundColor||o||n.opt("eventBackgroundColor")||s,"border-color":e.borderColor||r||i.borderColor||o||n.opt("eventBorderColor")||s,color:e.textColor||i.textColor||n.opt("eventTextColor")}},eventToSegs:function(t){return this.eventsToSegs([t])},eventToSpan:function(t){return this.eventToSpans(t)[0]},eventToSpans:function(t){var e=this.eventToRange(t);return this.eventRangeToSpans(e,t)},eventsToSegs:function(e,n){var i=this,r=It(e),o=[];return t.each(r,function(t,e){var r,s=[];for(r=0;r<e.length;r++)s.push(i.eventToRange(e[r]));if(Et(e[0]))for(s=i.invertRanges(s),r=0;r<s.length;r++)o.push.apply(o,i.eventRangeToSegs(s[r],e[0],n));else for(r=0;r<s.length;r++)o.push.apply(o,i.eventRangeToSegs(s[r],e[r],n))}),o},eventToRange:function(t){return{start:t.start.clone().stripZone(),end:(t.end?t.end.clone():this.view.calendar.getDefaultEventEnd(null!=t.allDay?t.allDay:!t.start.hasTime(),t.start)).stripZone()}},eventRangeToSegs:function(t,e,n){var i,r=this.eventRangeToSpans(t,e),o=[];for(i=0;i<r.length;i++)o.push.apply(o,this.eventSpanToSegs(r[i],e,n));return o},eventRangeToSpans:function(e,n){return[t.extend({},e)]},eventSpanToSegs:function(t,e,n){var i,r,o=n?n(t):this.spanToSegs(t);for(i=0;i<o.length;i++)r=o[i],r.event=e,r.eventStartMS=+t.start,r.eventDurationMS=t.end-t.start;return o},invertRanges:function(t){var e,n,i=this.view,r=i.start.clone(),o=i.end.clone(),s=[],a=r;for(t.sort(Ot),e=0;e<t.length;e++)n=t[e],n.start>a&&s.push({start:a,end:n.start}),a=n.end;return a<o&&s.push({start:a,end:o}),s},sortEventSegs:function(t){t.sort(lt(this,"compareEventSegs"))},compareEventSegs:function(t,e){return t.eventStartMS-e.eventStartMS||e.eventDurationMS-t.eventDurationMS||e.event.allDay-t.event.allDay||O(t.event,e.event,this.view.eventOrderSpecs)}}),Gt.isBgEvent=At,Gt.dataAttrPrefix="";var we=Gt.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,updateDayTable:function(){for(var t,e,n,i=this.view,r=this.start.clone(),o=-1,s=[],a=[];r.isBefore(this.end);)i.isHiddenDay(r)?s.push(o+.5):(o++,s.push(o),a.push(r.clone())),r.add(1,"days");if(this.breakOnWeeks){for(e=a[0].day(),t=1;t<a.length&&a[t].day()!=e;t++);n=Math.ceil(a.length/t)}else n=1,t=a.length;this.dayDates=a,this.dayIndices=s,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.view.opt("columnFormat")||this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},getCellRange:function(t,e){var n=this.getCellDate(t,e),i=n.clone().add(1,"days");return{start:n,end:i}},getCellDayIndex:function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},getColDayIndex:function(t){return this.isRTL?this.colCnt-1-t:t},getDateDayIndex:function(t){var e=this.dayIndices,n=t.diff(this.start,"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},computeColHeadFormat:function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(t){var e,n,i,r,o,s=this.daysPerRow,a=this.view.computeDayRange(t),l=this.getDateDayIndex(a.start),c=this.getDateDayIndex(a.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)n=e*s,i=n+s-1,r=Math.max(l,n),o=Math.min(c,i),r=Math.ceil(r),o=Math.floor(o),r<=o&&u.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:o-n,isStart:r===l,isEnd:o===c});return u},sliceRangeByDay:function(t){var e,n,i,r,o,s,a=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),u=this.getDateDayIndex(l.end.clone().subtract(1,"days")),h=[];for(e=0;e<this.rowCnt;e++)for(n=e*a,i=n+a-1,r=n;r<=i;r++)o=Math.max(c,r),s=Math.min(u,r),o=Math.ceil(o),s=Math.floor(s),o<=s&&h.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:s-n,isStart:o===c,isEnd:s===u});return h},renderHeadHtml:function(){var t=this.view;return'<div class="fc-row '+t.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},renderHeadDateCellHtml:function(t,e,n){var i=this.view;return'<th class="fc-day-header '+i.widgetHeaderClass+" fc-"+Jt[t.day()]+'"'+(1==this.rowCnt?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+nt(t.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},renderBgIntroHtml:function(t){return this.renderIntroHtml()},renderBgCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},renderBgCellHtml:function(t,e){var n=this.view,i=this.getDayClasses(t);return i.unshift("fc-day",n.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+t.format("YYYY-MM-DD")+'"'+(e?" "+e:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))}},xe=Gt.DayGrid=be.extend(we,{numbersVisible:!1,bottomCoordPadding:0,rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(t){var e,n,i=this.view,r=this.rowCnt,o=this.colCnt,s="";for(e=0;e<r;e++)s+=this.renderDayRowHtml(e,t);for(this.el.html(s),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day"),this.rowCoordCache=new ge({els:this.rowEls,isVertical:!0}),this.colCoordCache=new ge({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),e=0;e<r;e++)for(n=0;n<o;n++)i.trigger("dayRender",null,this.getCellDate(e,n),this.getCellEl(e,n))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var t=this.buildBusinessHourSegs(!0);this.renderFill("businessHours",t,"bgevent")},unrenderBusinessHours:function(){this.unrenderFill("businessHours")},renderDayRowHtml:function(t,e){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},renderNumberIntroHtml:function(t){return this.renderIntroHtml()},renderNumberCellsHtml:function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},renderNumberCellHtml:function(t){var e;return this.view.dayNumbersVisible?(e=this.getDayClasses(t),e.unshift("fc-day-number"),'<td class="'+e.join(" ")+'" data-date="'+t.format()+'">'+t.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(t){var e,n,i=this.sliceRangeByRow(t);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},prepareHits:function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},queryHit:function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=n)return this.getCellHit(i,n)}},getHitSpan:function(t){return this.getCellRange(t.row,t.col)},getHitEl:function(t){return this.getCellEl(t.row,t.col)},getCellHit:function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},getCellEl:function(t,e){return this.cellEls.eq(t*this.colCnt+e)},renderDrag:function(t,e){if(this.renderHighlight(this.eventToSpan(t)),e&&e.component!==this)return this.renderEventLocationHelper(t,e)},unrenderDrag:function(){this.unrenderHighlight(),this.unrenderHelper()},renderEventResize:function(t,e){return this.renderHighlight(this.eventToSpan(t)),this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHighlight(),this.unrenderHelper()},renderHelper:function(e,n){var i,r=[],o=this.eventToSegs(e);return o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(e,o){var s,a=t(o),l=t('<div class="fc-helper-skeleton"><table/></div>');s=n&&n.row===e?n.el.position().top:a.find(".fc-content-skeleton tbody").position().top,l.css("top",s).find("table").append(i[e].tbodyEl),a.append(l),r.push(l[0])}),this.helperEls=t(r)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(e,n,i){var r,o,s,a=[];for(n=this.renderFillSegEls(e,n),r=0;r<n.length;r++)o=n[r],s=this.renderFillRow(e,o,i),this.rowEls.eq(o.row).append(s),a.push(s[0]);return this.elsByFill[e]=t(a),n},renderFillRow:function(e,n,i){var r,o,s=this.colCnt,a=n.leftCol,l=n.rightCol+1;return i=i||e.toLowerCase(),
r=t('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),o=r.find("tr"),a>0&&o.append('<td colspan="'+a+'"/>'),o.append(n.el.attr("colspan",l-a)),l<s&&o.append('<td colspan="'+(s-l)+'"/>'),this.bookendCells(o),r}});xe.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover(),be.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return be.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(e){var n=t.grep(e,function(t){return t.event.allDay});return be.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(e){var n;return e=this.renderFgSegEls(e),n=this.rowStructs=this.renderSegRows(e),this.rowEls.each(function(e,i){t(i).find(".fc-content-skeleton > table").append(n[e].tbodyEl)}),e},unrenderFgSegs:function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},fgSegHtml:function(t,e){var n,i,r=this.view,o=t.event,s=r.isEventDraggable(o),a=!e&&o.allDay&&t.isStart&&r.isEventResizableFromStart(o),l=!e&&o.allDay&&t.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(t,s,a||l),u=rt(this.getSegSkinCss(t)),h="";return c.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getEventTimeText(o),n&&(h='<span class="fc-time">'+nt(n)+"</span>")),i='<span class="fc-title">'+(nt(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+nt(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+h:h+" "+i)+"</div>"+(a?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(e,n){function i(e){for(;s<e;)u=(v[r-1]||[])[s],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=t("<td/>"),a.append(u)),m[r][s]=u,v[r][s]=u,s++}var r,o,s,a,l,c,u,h=this.colCnt,d=this.buildSegLevels(n),p=Math.max(1,d.length),f=t("<tbody/>"),g=[],m=[],v=[];for(r=0;r<p;r++){if(o=d[r],s=0,a=t("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(c=o[l],i(c.leftCol),u=t('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[r][s]=u;s<=c.rightCol;)m[r][s]=u,g[r][s]=c,s++;a.append(u)}i(h),this.bookendCells(a),f.append(a)}return{row:e,tbodyEl:f,cellMatrix:m,segMatrix:g,segLevels:d,segs:n}},buildSegLevels:function(t){var e,n,i,r=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],i=0;i<r.length&&Rt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(Ht);return r},groupSegRows:function(t){var e,n=[];for(e=0;e<this.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n}}),xe.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(t){var e,n,i=this.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)),n!==!1&&this.limitRow(e,n)},computeRowLevelLimit:function(e){function n(e,n){o=Math.max(o,t(n).outerHeight())}var i,r,o,s=this.rowEls.eq(e),a=s.height(),l=this.rowStructs[e].tbodyEl.children();for(i=0;i<l.length;i++)if(r=l.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>a)return i;return!1},limitRow:function(e,n){function i(i){for(;_<i;)c=b.getCellSegs(e,_,n),c.length&&(d=o[n-1][_],y=b.renderMoreLink(e,_,c),v=t("<div/>").append(y),d.append(v),x.push(v[0])),_++}var r,o,s,a,l,c,u,h,d,p,f,g,m,v,y,b=this,w=this.rowStructs[e],x=[],_=0;if(n&&n<w.segLevels.length){for(r=w.segLevels[n-1],o=w.cellMatrix,s=w.tbodyEl.children().slice(n).addClass("fc-limited").get(),a=0;a<r.length;a++){for(l=r[a],i(l.leftCol),h=[],u=0;_<=l.rightCol;)c=this.getCellSegs(e,_,n),h.push(c),u+=c.length,_++;if(u){for(d=o[n-1][l.leftCol],p=d.attr("rowspan")||1,f=[],g=0;g<h.length;g++)m=t('<td class="fc-more-cell"/>').attr("rowspan",p),c=h[g],y=this.renderMoreLink(e,l.leftCol+g,[l].concat(c)),v=t("<div/>").append(y),m.append(v),f.push(m[0]),x.push(m[0]);d.addClass("fc-limited").after(t(f)),s.push(d[0])}}i(this.colCnt),w.moreEls=t(x),w.limitedEls=t(s)}},unlimitRow:function(t){var e=this.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},renderMoreLink:function(e,n,i){var r=this,o=this.view;return t('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(s){var a=o.opt("eventLimitClick"),l=r.getCellDate(e,n),c=t(this),u=r.getCellEl(e,n),h=r.getCellSegs(e,n),d=r.resliceDaySegs(h,l),p=r.resliceDaySegs(i,l);"function"==typeof a&&(a=o.trigger("eventLimitClick",null,{date:l,dayEl:u,moreEl:c,segs:d,hiddenSegs:p},s)),"popover"===a?r.showSegPopover(e,n,c,d):"string"==typeof a&&o.calendar.zoomTo(l,a)})},showSegPopover:function(t,e,n,i){var r,o,s=this,a=this.view,l=n.parent();r=1==this.rowCnt?a.el:this.rowEls.eq(t),o={className:"fc-more-popover",content:this.renderSegPopoverContent(t,e,i),parentEl:this.view.el,top:r.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){s.segPopover.removeElement(),s.segPopover=null,s.popoverSegs=null}},this.isRTL?o.right=l.offset().left+l.outerWidth()+1:o.left=l.offset().left-1,this.segPopover=new fe(o),this.segPopover.show(),this.bindSegHandlersToEl(this.segPopover.el)},renderSegPopoverContent:function(e,n,i){var r,o=this.view,s=o.opt("theme"),a=this.getCellDate(e,n).format(o.opt("dayPopoverFormat")),l=t('<div class="fc-header '+o.widgetHeaderClass+'"><span class="fc-close '+(s?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+nt(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+o.widgetContentClass+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,r=0;r<i.length;r++)this.prepareHits(),i[r].hit=this.getCellHit(e,n),this.releaseHits(),c.append(i[r].el);return l},resliceDaySegs:function(e,n){var i=t.map(e,function(t){return t.event}),r=n.clone(),o=r.clone().add(1,"days"),s={start:r,end:o};return e=this.eventsToSegs(i,function(t){var e=H(t,s);return e?[e]:[]}),this.sortEventSegs(e),e},getMoreLinkText:function(t){var e=this.view.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},getCellSegs:function(t,e,n){for(var i,r=this.rowStructs[t].segMatrix,o=n||0,s=[];o<r.length;)i=r[o][e],i&&s.push(i),o++;return s}});var _e=Gt.TimeGrid=be.extend(we,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){be.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.colEls=this.el.find(".fc-day"),this.slatContainerEl=this.el.find(".fc-slats"),this.slatEls=this.slatContainerEl.find("tr"),this.colCoordCache=new ge({els:this.colEls,isHorizontal:!0}),this.slatCoordCache=new ge({els:this.slatEls,isVertical:!0}),this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var t,n,i,r=this.view,o=this.isRTL,s="",a=e.duration(+this.minTime);a<this.maxTime;)t=this.start.clone().time(a),n=at(q(a,this.labelInterval)),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(n?"<span>"+nt(t.format(this.labelFormat))+"</span>":"")+"</td>",s+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(n?"":' class="fc-minor"')+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",a.add(this.slotDuration);return s},processOptions:function(){var n,i=this.view,r=i.opt("slotDuration"),o=i.opt("snapDuration");r=e.duration(r),o=o?e.duration(o):r,this.slotDuration=r,this.snapDuration=o,this.snapsPerSlot=r/o,this.minResizeDuration=o,this.minTime=e.duration(i.opt("minTime")),this.maxTime=e.duration(i.opt("maxTime")),n=i.opt("slotLabelFormat"),t.isArray(n)&&(n=n[n.length-1]),this.labelFormat=n||i.opt("axisFormat")||i.opt("smallTimeFormat"),n=i.opt("slotLabelInterval"),this.labelInterval=n?e.duration(n):this.computeLabelInterval(r)},computeLabelInterval:function(t){var n,i,r;for(n=Be.length-1;n>=0;n--)if(i=e.duration(Be[n]),r=q(i,t),at(r)&&r>1)return i;return e.duration(t)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build(),this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,r=this.slatCoordCache;if(i.isLeftInBounds(t)&&r.isTopInBounds(e)){var o=i.getHorizontalIndex(t),s=r.getVerticalIndex(e);if(null!=o&&null!=s){var a=r.getTopOffset(s),l=r.getHeight(s),c=(e-a)/l,u=Math.floor(c*n),h=s*n+u,d=a+u/n*l,p=a+(u+1)/n*l;return{col:o,snap:h,component:this,left:i.getLeftOffset(o),right:i.getRightOffset(o),top:d,bottom:p}}}},getHitSpan:function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),{start:n,end:e}},getHitEl:function(t){return this.colEls.eq(t.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(t){return e.duration(this.minTime+this.snapDuration*t)},spanToSegs:function(t){var e,n=this.sliceRangeByTimes(t);for(e=0;e<n.length;e++)this.isRTL?n[e].col=this.daysPerRow-1-n[e].dayIndex:n[e].col=n[e].dayIndex;return n},sliceRangeByTimes:function(t){var e,n,i,r,o=[];for(n=0;n<this.daysPerRow;n++)i=this.dayDates[n].clone(),r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},e=H(t,r),e&&(e.dayIndex=n,o.push(e));return o},updateSize:function(t){this.slatCoordCache.build(),t&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(t,n){return this.computeTimeTop(e.duration(t-n.clone().stripTime()))},computeTimeTop:function(t){var e,n,i=this.slatEls.length,r=(t-this.minTime)/this.slotDuration;return r=Math.max(0,r),r=Math.min(i,r),e=Math.floor(r),e=Math.min(e,i-1),n=r-e,this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},renderDrag:function(t,e){return e?this.renderEventLocationHelper(t,e):void this.renderHighlight(this.eventToSpan(t))},unrenderDrag:function(){this.unrenderHelper(),this.unrenderHighlight()},renderEventResize:function(t,e){return this.renderEventLocationHelper(t,e)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(t,e){return this.renderHelperSegs(this.eventToSegs(t),e)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){this.renderBusinessSegs(this.buildBusinessHourSegs())},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(e){var n,i=this.spanToSegs({start:e,end:e}),r=this.computeDateTop(e,e),o=[];for(n=0;n<i.length;n++)o.push(t('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",r).appendTo(this.colContainerEls.eq(i[n].col))[0]);i.length>0&&o.push(t('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",r).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=t(o)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(t){this.view.opt("selectHelper")?this.renderEventLocationHelper(t):this.renderHighlight(t)},unrenderSelection:function(){this.unrenderHelper(),this.unrenderHighlight()},renderHighlight:function(t){this.renderHighlightSegs(this.spanToSegs(t))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});_e.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var e,n,i="";for(e=0;e<this.colCnt;e++)i+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';n=t('<div class="fc-content-skeleton"><table><tr>'+i+"</tr></table></div>"),this.colContainerEls=n.find(".fc-content-col"),this.helperContainerEls=n.find(".fc-helper-container"),this.fgContainerEls=n.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=n.find(".fc-bgevent-container"),this.highlightContainerEls=n.find(".fc-highlight-container"),this.businessContainerEls=n.find(".fc-business-container"),this.bookendCells(n.find("tr")),this.el.append(n)},renderFgSegs:function(t){return t=this.renderFgSegsIntoContainers(t,this.fgContainerEls),this.fgSegs=t,t},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(e,n){var i,r,o,s=[];for(e=this.renderFgSegsIntoContainers(e,this.helperContainerEls),i=0;i<e.length;i++)r=e[i],n&&n.col===r.col&&(o=n.el,r.el.css({left:o.css("left"),right:o.css("right"),"margin-left":o.css("margin-left"),"margin-right":o.css("margin-right")})),s.push(r.el[0]);return this.helperSegs=e,t(s)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},renderBgSegs:function(t){return t=this.renderFillSegEls("bgEvent",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.bgContainerEls),this.bgSegs=t,t},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(t){t=this.renderFillSegEls("highlight",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.highlightContainerEls),this.highlightSegs=t},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},renderBusinessSegs:function(t){t=this.renderFillSegEls("businessHours",t),this.updateSegVerticals(t),this.attachSegsByCol(this.groupSegsByCol(t),this.businessContainerEls),this.businessSegs=t},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},attachSegsByCol:function(t,e){var n,i,r;for(n=0;n<this.colCnt;n++)for(i=t[n],r=0;r<i.length;r++)e.eq(n).append(i[r].el)},unrenderNamedSegs:function(t){var e,n=this[t];if(n){for(e=0;e<n.length;e++)n[e].el.remove();this[t]=null}},renderFgSegsIntoContainers:function(t,e){var n,i;for(t=this.renderFgSegEls(t),n=this.groupSegsByCol(t),i=0;i<this.colCnt;i++)this.updateFgSegCoords(n[i]);return this.attachSegsByCol(n,e),t},fgSegHtml:function(t,e){var n,i,r,o=this.view,s=t.event,a=o.isEventDraggable(s),l=!e&&t.isStart&&o.isEventResizableFromStart(s),c=!e&&t.isEnd&&o.isEventResizableFromEnd(s),u=this.getSegClasses(t,a,l||c),h=rt(this.getSegSkinCss(t));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(s)?(t.isStart||t.isEnd)&&(n=this.getEventTimeText(t),i=this.getEventTimeText(t,"LT"),r=this.getEventTimeText(t,null,!1)):(n=this.getEventTimeText(s),i=this.getEventTimeText(s,"LT"),r=this.getEventTimeText(s,null,!1)),'<a class="'+u.join(" ")+'"'+(s.url?' href="'+nt(s.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+nt(r)+'" data-full="'+nt(i)+'"><span>'+nt(n)+"</span></div>":"")+(s.title?'<div class="fc-title">'+nt(s.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},computeSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},assignSegVerticals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateSegVerticalCss(n))},generateSegVerticalCss:function(t){return{top:t.top,bottom:-t.bottom}},updateFgSegCoords:function(t){this.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.assignSegVerticals(t),this.assignFgSegHorizontals(t)},computeFgSegHorizontals:function(t){var e,n,i;if(this.sortEventSegs(t),e=zt(t),Ft(e),n=e[0]){for(i=0;i<n.length;i++)Nt(n[i]);for(i=0;i<n.length;i++)this.computeFgSegForwardBack(n[i],0,0)}},computeFgSegForwardBack:function(t,e,n){var i,r=t.forwardSegs;if(void 0===t.forwardCoord)for(r.length?(this.sortForwardSegs(r),this.computeFgSegForwardBack(r[0],e+1,n),t.forwardCoord=r[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<r.length;i++)this.computeFgSegForwardBack(r[i],0,t.forwardCoord)},sortForwardSegs:function(t){t.sort(lt(this,"compareForwardSegs"))},compareForwardSegs:function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},assignFgSegHorizontals:function(t){var e,n;for(e=0;e<t.length;e++)n=t[e],n.el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},generateFgSegHorizontalCss:function(t){var e,n,i=this.view.opt("slotEventOverlap"),r=t.backwardCoord,o=t.forwardCoord,s=this.generateSegVerticalCss(t);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(e=1-o,n=r):(e=r,n=1-o),s.zIndex=t.level+1,s.left=100*e+"%",s.right=100*n+"%",i&&t.forwardPressure&&(s[this.isRTL?"marginLeft":"marginRight"]=20),s}});var Ce=Gt.View=kt.extend(he,de,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(t,n,i,r){this.calendar=t,this.type=this.name=n,this.options=i,this.intervalDuration=r||e.duration(1,"day"),this.nextDayThreshold=e.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.isRTL=this.opt("isRTL"),this.eventOrderSpecs=I(this.opt("eventOrder")),this.initialize()},initialize:function(){},opt:function(t){return this.options[t]},trigger:function(t,e){var n=this.calendar;return n.trigger.apply(n,[t,e||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(t){this.setRange(this.computeRange(t))},setRange:function(e){t.extend(this,e),this.updateTitle()},computeRange:function(t){var e,n,i=B(this.intervalDuration),r=t.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.time(0)),o.hasTime()||(o=this.calendar.time(0))),e=r.clone(),e=this.skipHiddenDays(e),n=o.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:e,end:n}},computePrevDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(t){return this.massageCurrentDate(t.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(t,e){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(t)&&(t=this.skipHiddenDays(t,e),t.startOf("day")),t},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(t,e,n){var i=t.end;return i.hasTime()||(i=i.clone().subtract(1)),bt(t.start,i,e,n,this.opt("isRTL"))},setElement:function(t){this.el=t,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(t,e){var n=this,i=null;return null!=e&&this.displaying&&(i=this.queryScroll()),this.calendar.freezeContentHeight(),ut(this.clear(),function(){return n.displaying=ut(n.displayView(t),function(){null!=e?n.setScroll(e):n.forceScroll(n.computeInitialScroll(i)),n.calendar.unfreezeContentHeight(),n.triggerRender()})})},clear:function(){var e=this,n=this.displaying;return n?ut(n,function(){return e.displaying=null,e.clearEvents(),e.clearView()}):t.when()},displayView:function(t){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),t&&this.setDate(t),this.render&&this.render(),this.renderDates(),this.updateSize(),this.renderBusinessHours(),this.startNowIndicator()},clearView:function(){this.unselect(),this.stopNowIndicator(),this.triggerUnrender(),this.unrenderBusinessHours(),this.unrenderDates(),this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(t(document),"mousedown",this.handleDocumentMousedown),this.listenTo(t(document),"touchstart",this.processUnselect)},unbindGlobalHandlers:function(){this.stopListeningTo(t(document))},initThemingProps:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header",this.widgetContentClass=t+"-widget-content",this.highlightStateClass=t+"-state-highlight"},renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var t,n,i,r=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit(),t&&(n=lt(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,i=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){r.nowIndicatorTimeoutID=null,n(),i=+e.duration(1,t),i=Math.max(100,i),r.nowIndicatorIntervalID=setInterval(n,i)},i)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(t){},unrenderNowIndicator:function(){},updateSize:function(t){var e;t&&(e=this.queryScroll()),this.updateHeight(t),this.updateWidth(t),this.updateNowIndicator(),t&&this.setScroll(e)},updateWidth:function(t){},updateHeight:function(t){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(t,e){},computeInitialScroll:function(t){return 0},queryScroll:function(){},setScroll:function(t){},forceScroll:function(t){var e=this;this.setScroll(t),setTimeout(function(){e.setScroll(t)},0)},displayEvents:function(t){var e=this.queryScroll();this.clearEvents(),this.renderEvents(t),this.isEventsRendered=!0,this.setScroll(e),this.triggerEventRender()},clearEvents:function(){var t;this.isEventsRendered&&(t=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(t),this.isEventsRendered=!1)},renderEvents:function(t){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(t){this.trigger("eventAfterRender",t.event,t.event,t.el)}),this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(t){this.trigger("eventDestroy",t.event,t.event,t.el)})},resolveEventEl:function(e,n){var i=this.trigger("eventRender",e,e,n);return i===!1?n=null:i&&i!==!0&&(n=t(i)),n},showEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","")},t)},hideEvent:function(t){this.renderedEventSegEach(function(t){t.el.css("visibility","hidden")},t)},renderedEventSegEach:function(t,e){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)e&&i[n].event._id!==e._id||i[n].el&&t.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(t){var e=t.source||{};return et(t.startEditable,e.startEditable,this.opt("eventStartEditable"),t.editable,e.editable,this.opt("editable"))},reportEventDrop:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventDrop(t,s.dateDelta,a,i,r),o.reportEventChange()},triggerEventDrop:function(t,e,n,i,r){this.trigger("eventDrop",i[0],t,e,n,r,{})},reportExternalDrop:function(e,n,i,r,o){var s,a,l=e.eventProps;l&&(s=t.extend({},l,n),a=this.calendar.renderEvent(s,e.stick)[0]),this.triggerExternalDrop(a,n,i,r,o)},triggerExternalDrop:function(t,e,n,i,r){this.trigger("drop",n[0],e.start,i,r),t&&this.trigger("eventReceive",null,t)},renderDrag:function(t,e){},unrenderDrag:function(){},isEventResizableFromStart:function(t){return this.opt("eventResizableFromStart")&&this.isEventResizable(t)},isEventResizableFromEnd:function(t){return this.isEventResizable(t)},isEventResizable:function(t){var e=t.source||{};return et(t.durationEditable,e.durationEditable,this.opt("eventDurationEditable"),t.editable,e.editable,this.opt("editable"))},reportEventResize:function(t,e,n,i,r){var o=this.calendar,s=o.mutateEvent(t,e,n),a=function(){s.undo(),o.reportEventChange()};this.triggerEventResize(t,s.durationDelta,a,i,r),o.reportEventChange()},triggerEventResize:function(t,e,n,i,r){this.trigger("eventResize",i[0],t,e,n,r,{})},select:function(t,e){this.unselect(e),this.renderSelection(t),this.reportSelection(t,e)},renderSelection:function(t){},reportSelection:function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},triggerSelect:function(t,e){this.trigger("select",null,this.calendar.applyTimezone(t.start),this.calendar.applyTimezone(t.end),e)},unselect:function(t){this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,t))},unrenderSelection:function(){},selectEvent:function(t){this.selectedEvent&&this.selectedEvent===t||(this.unselectEvent(),this.renderedEventSegEach(function(t){t.el.addClass("fc-selected")},t),this.selectedEvent=t)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(t){t.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},isEventSelected:function(t){return this.selectedEvent&&this.selectedEvent._id===t._id},handleDocumentMousedown:function(t){w(t)&&this.processUnselect(t)},processUnselect:function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},processRangeUnselect:function(e){var n;this.isSelected&&this.opt("unselectAuto")&&(n=this.opt("unselectCancel"),n&&t(e.target).closest(n).length||this.unselect(e))},processEventUnselect:function(e){this.selectedEvent&&(t(e.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(t,e,n){this.trigger("dayClick",e,this.calendar.applyTimezone(t.start),n)},initHiddenDays:function(){var e,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),e=0;e<7;e++)(i[e]=t.inArray(e,n)!==-1)||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(t){return e.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},skipHiddenDays:function(t,e,n){var i=t.clone();for(e=e||1;this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},computeDayRange:function(t){var e,n=t.start.clone().stripTime(),i=t.end,r=null;return i&&(r=i.clone().stripTime(),e=+i.time(),e&&e>=this.nextDayThreshold&&r.add(1,"days")),(!i||r<=n)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1}}),ke=Gt.Scroller=kt.extend({el:null,scrollEl:null,overflowX:null,overflowY:null,constructor:function(t){t=t||{},this.overflowX=t.overflowX||t.overflow||"auto",this.overflowY=t.overflowY||t.overflow||"auto"},render:function(){this.el=this.renderEl(),this.applyOverflow()},renderEl:function(){return this.scrollEl=t('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto"),this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},lockOverflow:function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},setHeight:function(t){this.scrollEl.height(t)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(t){this.scrollEl.scrollTop(t)},getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return m(this.scrollEl)}}),Se=Gt.Calendar=kt.extend({dirDefaults:null,langDefaults:null,overrides:null,dynamicOverrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,constructor:Vt,initialize:function(){},populateOptionsHash:function(){var t,e,i,r;t=et(this.dynamicOverrides.lang,this.overrides.lang),e=Te[t],e||(t=Se.defaults.lang,e=Te[t]||{}),i=et(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,Se.defaults.isRTL),r=i?Se.rtlDefaults:{},this.dirDefaults=r,this.langDefaults=e,this.options=n([Se.defaults,r,e,this.overrides,this.dynamicOverrides]),qt(this.options)},getViewSpec:function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},getUnitViewSpec:function(e){var n,i,r;if(t.inArray(e,Qt)!=-1)for(n=this.header.getViewsWithButtons(),t.each(Gt.views,function(t){n.push(t)}),i=0;i<n.length;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==e)return r},buildViewSpec:function(t){for(var i,r,o,s,a=this.overrides.views||{},l=[],c=[],u=[],h=t;h;)i=Xt[h],r=a[h],h=null,"function"==typeof i&&(i={class:i}),i&&(l.unshift(i),c.unshift(i.defaults||{}),o=o||i.duration,h=h||i.type),r&&(u.unshift(r),o=o||r.duration,h=h||r.type);return i=G(l),i.type=t,!!i.class&&(o&&(o=e.duration(o),o.valueOf()&&(i.duration=o,s=B(o),1===o.as(s)&&(i.singleUnit=s,u.unshift(a[s]||{})))),i.defaults=n(c),i.overrides=n(u),this.buildViewSpecOptions(i),this.buildViewSpecButtonText(i,t),i)},buildViewSpecOptions:function(t){t.options=n([Se.defaults,t.defaults,this.dirDefaults,this.langDefaults,this.overrides,t.overrides,this.dynamicOverrides]),qt(t.options)},buildViewSpecButtonText:function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.singleUnit?i[t.singleUnit]:null)}t.buttonTextOverride=n(this.dynamicOverrides)||n(this.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||t.defaults.buttonText||n(Se.defaults)||(t.duration?this.humanizeDuration(t.duration):null)||e},instantiateView:function(t){var e=this.getViewSpec(t);return new e.class(this,t,e.options,e.duration)},isValidViewType:function(t){return Boolean(this.getViewSpec(t))},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view);
},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),{start:i,end:n}}});Se.mixin(he),Se.mixin({optionHandlers:null,bindOption:function(t,e){this.bindOptions([t],e)},bindOptions:function(t,e){var n,i={func:e,names:t};for(n=0;n<t.length;n++)this.registerOptionHandlerObj(t[n],i);this.triggerOptionHandlerObj(i)},registerOptionHandlerObj:function(t,e){(this.optionHandlers[t]||(this.optionHandlers[t]=[])).push(e)},triggerOptionHandlers:function(t){var e,n=this.optionHandlers[t]||[];for(e=0;e<n.length;e++)this.triggerOptionHandlerObj(n[e])},triggerOptionHandlerObj:function(t){var e,n=t.names,i=[];for(e=0;e<n.length;e++)i.push(this.options[n[e]]);t.func.apply(this,i)}}),Se.defaults={titleRangeSeparator:" – ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},Se.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},Se.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Te=Gt.langs={};Gt.datepickerLang=function(e,n,i){var r=Te[e]||(Te[e]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,t.each(Me,function(t,e){r[t]=e(i)}),t.datepicker&&(t.datepicker.regional[n]=t.datepicker.regional[e]=i,t.datepicker.regional.en=t.datepicker.regional[""],t.datepicker.setDefaults(i))},Gt.lang=function(e,i){var r,o;r=Te[e]||(Te[e]={}),i&&(r=Te[e]=n([r,i])),o=Yt(e),t.each(De,function(t,e){null==r[t]&&(r[t]=e(o,r))}),Se.defaults.lang=e};var Me={buttonText:function(t){return{prev:it(t.prevText),next:it(t.nextText),today:it(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},De={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},Ae={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};Gt.lang("en",Se.englishDefaults),Gt.sourceNormalizers=[],Gt.sourceFetchers=[];var Ee={dataType:"json",cache:!1},Pe=1;Se.prototype.normalizeEvent=function(t){},Se.prototype.spanContainsSpan=function(t,e){var n=t.start.clone().stripZone(),i=this.getEventEnd(t).stripZone();return e.start>=n&&e.end<=i},Se.prototype.getPeerEvents=function(t,e){var n,i,r=this.getEventCache(),o=[];for(n=0;n<r.length;n++)i=r[n],e&&e._id===i._id||o.push(i);return o};var Ie={id:"_fcBusinessHours",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};Se.prototype.getCurrentBusinessHourEvents=function(t){return this.computeBusinessHourEvents(t,this.options.businessHours)},Se.prototype.computeBusinessHourEvents=function(e,n){return n===!0?this.expandBusinessHourEvents(e,[{}]):t.isPlainObject(n)?this.expandBusinessHourEvents(e,[n]):t.isArray(n)?this.expandBusinessHourEvents(e,n,!0):[]},Se.prototype.expandBusinessHourEvents=function(e,n,i){var r,o,s=this.getView(),a=[];for(r=0;r<n.length;r++)o=n[r],i&&!o.dow||(o=t.extend({},Ie,o),e&&(o.start=null,o.end=null),a.push.apply(a,this.expandEvent(this.buildEventFromInput(o),s.start,s.end)));return a};var Oe=Gt.BasicView=Ce.extend({scroller:null,dayGridClass:xe,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid(),this.scroller=new ke({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Le);return new t(this)},setRange:function(t){Ce.prototype.setRange.call(this,t),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(t)},computeRange:function(t){var e=Ce.prototype.computeRange.call(this,t);return/year|month/.test(e.intervalUnit)&&(e.start.startOf("week"),e.start=this.skipHiddenDays(e.start),e.end.weekday()&&(e.end.add(1,"week").startOf("week"),e.end=this.skipHiddenDays(e.end,-1,!0))),e},renderDates:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-day-grid-container"),n=t('<div class="fc-day-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.dayGrid.setElement(n),this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml()),this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates(),this.dayGrid.removeElement(),this.scroller.destroy()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.dayGrid.unrenderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=u(this.el.find(".fc-week-number")))},setHeight:function(t,e){var n,i,s=this.opt("eventLimit");this.scroller.clear(),o(this.headRowEl),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),n=this.computeScrollerHeight(t),this.setGridHeight(n,e),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),e||(this.scroller.setHeight(n),i=this.scroller.getScrollbarWidths(),(i.left||i.right)&&(r(this.headRowEl,i),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(i))},computeScrollerHeight:function(t){return t-h(this.el,this.scroller.el)},setGridHeight:function(t,e){e?c(this.dayGrid.rowEls):l(this.dayGrid.rowEls,t,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(t,e){return this.dayGrid.queryHit(t,e)},getHitSpan:function(t){return this.dayGrid.getHitSpan(t)},getHitEl:function(t){return this.dayGrid.getHitEl(t)},renderEvents:function(t){this.dayGrid.renderEvents(t),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return this.dayGrid.renderDrag(t,e)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(t){this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),Le={renderHeadIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<th class="fc-week-number '+t.widgetHeaderClass+'" '+t.weekNumberStyleAttr()+"><span>"+nt(t.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(t){var e=this.view;return e.weekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+"><span>"+this.getCellDate(t,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number '+t.widgetContentClass+'" '+t.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var t=this.view;return t.weekNumbersVisible?'<td class="fc-week-number" '+t.weekNumberStyleAttr()+"></td>":""}},Re=Gt.MonthView=Oe.extend({computeRange:function(t){var e,n=Oe.prototype.computeRange.call(this,t);return this.isFixedWeeks()&&(e=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-e,"weeks")),n},setGridHeight:function(t,e){e=e||"variable"===this.opt("weekMode"),e&&(t*=this.rowCnt/6),l(this.dayGrid.rowEls,t,!e)},isFixedWeeks:function(){var t=this.opt("weekMode");return t?"fixed"===t:this.opt("fixedWeekCount")}});Xt.basic={class:Oe},Xt.basicDay={type:"basic",duration:{days:1}},Xt.basicWeek={type:"basic",duration:{weeks:1}},Xt.month={class:Re,duration:{months:1},defaults:{fixedWeekCount:!0}};var He=Gt.AgendaView=Ce.extend({scroller:null,timeGridClass:_e,timeGrid:null,dayGridClass:xe,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=this.instantiateTimeGrid(),this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid()),this.scroller=new ke({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){var t=this.timeGridClass.extend(ze);return new t(this)},instantiateDayGrid:function(){var t=this.dayGridClass.extend(Fe);return new t(this)},setRange:function(t){Ce.prototype.setRange.call(this,t),this.timeGrid.setRange(t),this.dayGrid&&this.dayGrid.setRange(t)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.renderHead(),this.scroller.render();var e=this.scroller.el.addClass("fc-time-grid-container"),n=t('<div class="fc-time-grid" />').appendTo(e);this.el.find(".fc-body > tr > td").append(e),this.timeGrid.setElement(n),this.timeGrid.renderDates(),this.bottomRuleEl=t('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement()),this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours(),this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},renderNowIndicator:function(t){this.timeGrid.renderNowIndicator(t)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(t){this.timeGrid.updateSize(t),Ce.prototype.updateSize.call(this,t)},updateWidth:function(){this.axisWidth=u(this.el.find(".fc-axis"))},setHeight:function(t,e){var n,i,s;this.bottomRuleEl.hide(),this.scroller.clear(),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.removeSegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=Ne),n&&this.dayGrid.limitRows(n)),e||(i=this.computeScrollerHeight(t),this.scroller.setHeight(i),s=this.scroller.getScrollbarWidths(),(s.left||s.right)&&(r(this.noScrollRowEls,s),i=this.computeScrollerHeight(t),this.scroller.setHeight(i)),this.scroller.lockOverflow(s),this.timeGrid.getTotalSlatHeight()<i&&this.bottomRuleEl.show())},computeScrollerHeight:function(t){return t-h(this.el,this.scroller.el)},computeInitialScroll:function(){var t=e.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(t);return n=Math.ceil(n),n&&n++,n},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(t){this.scroller.setScrollTop(t)},prepareHits:function(){this.timeGrid.prepareHits(),this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits(),this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(t,e){var n=this.timeGrid.queryHit(t,e);return!n&&this.dayGrid&&(n=this.dayGrid.queryHit(t,e)),n},getHitSpan:function(t){return t.component.getHitSpan(t)},getHitEl:function(t){return t.component.getHitEl(t)},renderEvents:function(t){var e,n,i=[],r=[],o=[];for(n=0;n<t.length;n++)t[n].allDay?i.push(t[n]):r.push(t[n]);e=this.timeGrid.renderEvents(r),this.dayGrid&&(o=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents(),this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(t,e){return t.start.hasTime()?this.timeGrid.renderDrag(t,e):this.dayGrid?this.dayGrid.renderDrag(t,e):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag(),this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(t){t.start.hasTime()||t.end.hasTime()?this.timeGrid.renderSelection(t):this.dayGrid&&this.dayGrid.renderSelection(t)},unrenderSelection:function(){this.timeGrid.unrenderSelection(),this.dayGrid&&this.dayGrid.unrenderSelection()}}),ze={renderHeadIntroHtml:function(){var t,e=this.view;return e.opt("weekNumbers")?(t=this.start.format(e.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"><span>"+nt(t)+"</span></th>"):'<th class="fc-axis '+e.widgetHeaderClass+'" '+e.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Fe={renderBgIntroHtml:function(){var t=this.view;return'<td class="fc-axis '+t.widgetContentClass+'" '+t.axisStyleAttr()+"><span>"+(t.opt("allDayHtml")||nt(t.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){var t=this.view;return'<td class="fc-axis" '+t.axisStyleAttr()+"></td>"}},Ne=5,Be=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return Xt.agenda={class:He,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},Xt.agendaDay={type:"agenda",duration:{days:1}},Xt.agendaWeek={type:"agenda",duration:{weeks:1}},Gt})},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="calendar-home"><a>Home</a></li><li class="active"><span>Calendar</span><i class="fa fa-fw fa-lg fa-calendar-plus-o"></i></li></ol></div></div><div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Calendar</h3></div><div class="panel-body"><div id="calendar-view-container"></div></div><div class="panel-footer clearfix"><a id="calendar-schedule" class="pull-right"><i class="fa fa-lg fa-calendar-check-o"></i></a></div></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;h=n(3),d=n(49),i=n(11),a=n(13),o=n(73),c=n(74),s=n(76),p=n(78),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.idAttribute="_id",e.prototype.urlRoot="/api/schedule",e.prototype.defaults={sunday:[],monday:[],tuesday:[],wednesday:[],thursday:[],friday:[],saturday:[]},e}(i.Model),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.model=l,e.prototype.parse=function(t,e){var n,i,r;return i=[],n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],r=h.pick(e.schedule.attributes,n),h.each(e.sConfs.models,function(t){var e,s,a,l,c;for(a=s=0,l=n.length;s<l;a=++s)e=n[a],c=t.get("muscle"),h.intersection(c,r[e]).length>0&&i.push({start:new Date(d().startOf("week").add(a,"days")),end:new Date(d().startOf("week").add(a,"days")),title:t.get("name"),color:o.Colors[h.sum(c)%o.Colors.length],allDay:!0,strengthID:t.id})}),i},e}(i.Collection),u=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["sConfs","sLogs"]),this.rootChannel=i.Radio.channel("root"),this.channel=new i.Radio.Channel(this.cid),this.channel.reply({"show:schedule":function(t){return function(){var e,n;t.updateLabels(),e=new r([],{sLogs:t.sLogs,sConfs:t.sConfs,schedule:t.model,parse:!0}),n=e.toJSON(),t.showChildView("calendar",new c.View({channel:t.channel,model:t.model,calendarEvents:n,sLogs:t.sLogs}))}}(this)})}return f(e,t),e.prototype.template=p,e.prototype.regions={calendar:"#calendar-view-container",modal:"#schedule-modal-view"},e.prototype.ui={edit:"#schedule-edit",target:"#schedule-target",title:"#schedule-target-title"},e.prototype.events={"click #calendar-home":function(){this.rootChannel.request("home")},"click #schedule-edit":function(){this.showChildView("modal",new s({model:this.model,channel:this.channel}))}},e.prototype.onShow=function(){this.channel.request("show:schedule")},e.prototype.updateLabels=function(){var t,e,n,i,r,s,a;for(t=d().format("dddd").toLowerCase(),a=this.model.get(t),r="No muscle group today.",i=[],e=0,n=a.length;e<n;e++)s=a[e],i.push(h.find(o.Muscles,{value:s}).label);i.length&&(r=i.join(", ")),this.ui.target.html(r),this.ui.title.html(d().format("dddd")+"'s Workout")},e.prototype.onBeforeDestroy=function(){this.channel.reset()},e}(a.LayoutView),e.Model=l,e.Collection=r,e.View=u},function(t,e,n){var i,r,o,s;o=n(3),s=n(49),i=["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1","#993897","#f88df2","#ac9748","#a0ac35","#ba68a2","#40b4c8"],r=[{value:0,label:"Abdominals"},{value:1,label:"Arms"},{value:2,label:"Back"},{value:3,label:"Biceps"},{value:4,label:"Calves"},{value:5,label:"Chest"},{value:6,label:"Forearms"},{value:7,label:"Glutes"},{value:8,label:"Hamstrings"},{value:9,label:"Lats"},{value:10,label:"Legs"},{value:11,label:"Neck"},{value:12,label:"Quadriceps"},{value:13,label:"Shoulders"},{value:14,label:"Traps"},{value:15,label:"Triceps"}],e.Colors=i,e.Muscles=r},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(2),a=n(3),l=n(49),r=n(11),o=n(13),c=n(75),n(70),s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["channel","calendarEvents","sLogs"]),this.rootChannel=r.Radio.channel("root")}return u(e,t),e.prototype.template=c,e.prototype.ui={calendar:"#schedule-widget"},e.prototype.events={"click #schedule-calendar-btn":function(){this.rootChannel.request("calendar")}},e.prototype.onShow=function(){this.calendar=this.ui.calendar.fullCalendar({height:"auto",events:this.calendarEvents,eventOrder:"color",header:{left:"prev,next",center:"title",right:"basicDay,basicWeek"},eventClick:function(t){return function(e){t.rootChannel.request("strength:detail",e.strengthID)}}(this),eventRender:function(t){return function(e,n){var i,r,o;i=l(e.start).startOf("day"),r=a(t.sLogs.models).filter(function(t){var n,i,r,o,s,a,c,u;if(t.id!==e.strengthID)return!1;for(i=l(e.start).format("YYYY-MM-DD"),c=t.get("repData"),r=0,s=c.length;r<s;r++)if(n=c[r],i===l(n.x).format("YYYY-MM-DD"))return!0;for(u=t.get("weightData"),o=0,a=u.length;o<a;o++)if(n=u[o],i===l(n.x).format("YYYY-MM-DD"))return!0;return!1}).value(),o=n.find(".fc-title"),r.length?o.prepend("<i class='fa fa-fw fa-check'></i>"):o.prepend("<i class='fa fa-fw'></i>")}}(this),viewRender:function(t){var e,n;n=i("#schedule-widget .fc-prev-button"),e=i("#schedule-widget .fc-next-button"),l(t.start).startOf("day").isAfter(l().startOf("week"))?n.css("visibility","visible"):n.css("visibility","hidden"),l(t.end).endOf("day").isBefore(l().endOf("week"))?e.css("visibility","visible"):e.css("visibility","hidden"),"basicWeek"===t.type&&(n.css("visibility","hidden"),e.css("visibility","hidden"))}}),this.calendar.fullCalendar("today"),this.calendar.fullCalendar("changeView","basicDay"),r.Radio.channel("user").request("isOwner")||this.ui.edit.hide()},e.prototype.onBeforeDestroy=function(){this.calendar.fullCalendar("destroy")},e}(o.ItemView),t.exports.View=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Schedule</h3></div><div class="panel-body"><div id="schedule-widget"></div></div><div class="panel-footer clearfix"><a id="schedule-calendar-btn" class="pull-right"><i class="fa fa-lg fa-calendar-plus-o"></i></a></div></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(2),l=n(49),r=n(11),s=n(13),o=n(73),c=n(77),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel"),this.rootChannel=r.Radio.channel("root")}return u(e,t),e.prototype.template=c,e.prototype.ui={dialog:"#calendar-modal-dialog",sunday:"#calendar-modal-sunday",monday:"#calendar-modal-monday",tuesday:"#calendar-modal-tuesday",wednesday:"#calendar-modal-wednesday",thursday:"#calendar-modal-thursday",friday:"#calendar-modal-friday",saturday:"#calendar-modal-saturday"},e.prototype.events={submit:function(t){t.preventDefault(),this.model.set({sunday:this.ui.sunday.val()||[],monday:this.ui.monday.val()||[],tuesday:this.ui.tuesday.val()||[],wednesday:this.ui.wednesday.val()||[],thursday:this.ui.thursday.val()||[],friday:this.ui.friday.val()||[],saturday:this.ui.saturday.val()||[]}),this.model.save([],{success:function(t){return function(){t.saved=!0,t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"hidden.bs.modal":function(){this.ui.sunday.multiselect("destroy"),this.ui.monday.multiselect("destroy"),this.ui.tuesday.multiselect("destroy"),this.ui.wednesday.multiselect("destroy"),this.ui.thursday.multiselect("destroy"),this.ui.friday.multiselect("destroy"),this.ui.saturday.multiselect("destroy"),this.saved&&this.channel.request("show:schedule")}},e.prototype.onRender=function(){this.createSelect("sunday"),this.createSelect("monday"),this.createSelect("tuesday"),this.createSelect("wednesday"),this.createSelect("thursday"),this.createSelect("friday"),this.createSelect("saturday"),this.ui.dialog.modal({backdrop:"static",keyboard:!1})},e.prototype.createSelect=function(t){this.ui[t].multiselect({includeSelectAllOption:!0,maxHeight:450,buttonWidth:"100%",buttonClass:"btn btn-default",dropRight:!0}).multiselect("dataprovider",o.Muscles).multiselect("select",this.model.get(t))},e.prototype.onBeforeDestroy=function(){i(".modal-backdrop").remove(),i("body").removeClass("modal-open")},e}(s.LayoutView),t.exports=a},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div role="dialog" id="calendar-modal-dialog" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close">×</button><h4 class="modal-title">Edit weekly schedule</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><label for="calendar-modal-sunday" class="col-sm-2 control-label">Sunday</label><div class="col-sm-10"><select id="calendar-modal-sunday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-monday" class="col-sm-2 control-label">Monday</label><div class="col-sm-10"><select id="calendar-modal-monday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-tuesday" class="col-sm-2 control-label">Tuesday</label><div class="col-sm-10"><select id="calendar-modal-tuesday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-wednesday" class="col-sm-2 control-label">Wednesday</label><div class="col-sm-10"><select id="calendar-modal-wednesday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-thursday" class="col-sm-2 control-label">Thursday</label><div class="col-sm-10"><select id="calendar-modal-thursday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-friday" class="col-sm-2 control-label">Friday</label><div class="col-sm-10"><select id="calendar-modal-friday" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><label for="calendar-modal-saturday" class="col-sm-2 control-label">Saturday</label><div class="col-sm-10"><select id="calendar-modal-saturday" multiple="multiple" class="form-control"></select></div></div><hr><div class="form-group"><div class="col-xs-12"><div class="pull-right"><button data-dismiss="modal" type="button" class="btn btn-default btn-lg">Cancel</button>'+i.escape(null==(e=" ")?"":e)+'<button id="calendar-modal-submit" type="submit" class="btn btn-primary btn-lg"><i class="fa fa-fw fa-lg fa-save"></i>'+i.escape(null==(e=" ")?"":e)+"<span>save</span></button></div></div></div></form></div></div></div></div>"),n.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><div id="schedule-modal-view"></div></div></div><div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="calendar-home"><a>Home</a></li><li class="active"><span>Schedule</span><i class="fa fa-fw fa-lg fa-calendar-check-o"></i></li></ol></div></div><div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading clearfix"><div class="pull-right"><button id="schedule-edit" class="btn btn-xs btn-primary"><i class="fa fa-fw fa fa-wrench"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Edit</span></button></div><h3 id="schedule-target-title" class="panel-title"></h3></div><div class="panel-body"><div id="schedule-target-container"><b id="schedule-target"></b></div></div></div></div></div><div class="row"><div class="col-xs-12"><div id="calendar-view-container"></div></div></div>'),n.join("")}},function(t,e,n){t.exports.Master=n(80),t.exports.Detail=n(94)},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;r=n(11),a=n(13),i=n(81),c=n(84),s=n(89),h=n(91),n(92),n(93),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.idAttribute="_id",e.prototype.defaults={name:"",muscle:0,count:0},e}(r.Model),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.url="/api/strengths",e.prototype.model=l,e.prototype.comparator=function(t){return-t.get("date")},e}(r.Collection),u=function(t){function e(t){var n;e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["sLogs","muscle"]),this.rootChannel=r.Radio.channel("root"),this.channel=new r.Radio.channel(this.cid),this.isOwner=r.Radio.channel("user").request("isOwner"),this.channel.reply({add:function(t){return function(){t.addWorkout()}}(this),"edit:row":function(t){return function(e){return t.showChildView("modal",new i.View({model:e,edit:!0}))}}(this)}),this.tableCollection=new c.Collection(this.collection.models,{sLogs:this.sLogs}),null!=this.muscle&&(n=this.collection.filter(function(t){return function(e){return parseInt(e.get("muscle"),10)===parseInt(t.muscle,10)}}(this)),this.tableCollection.reset(n))}return d(e,t),e.prototype.template=h,e.prototype.ui={add:"#strength-add"},e.prototype.regions={modal:"#strength-modal-view",filter:"#strength-filter-view",table:"#strength-table-view"},e.prototype.events={"click #strength-home":function(){this.rootChannel.request("home")},"click #strength-add":function(){this.addWorkout()}},e.prototype.modelEvents={"change:muscle":function(t,e){this.filterCollection(e)}},e.prototype.collectionEvents={update:function(){this.getChildView("filter").filterCollection()}},e.prototype.onShow=function(){this.showChildView("filter",new s({collection:this.collection,tableCollection:this.tableCollection,muscle:this.muscle})),this.showChildView("table",new c.View({collection:this.tableCollection,channel:this.channel,muscle:this.muscle})),0===this.collection.length&&this.isOwner&&this.channel.request("add"),r.Radio.channel("user").request("isOwner")||this.ui.add.hide()},e.prototype.addWorkout=function(){this.showChildView("modal",new i.View({collection:this.collection,model:new i.Model}))},e.prototype.onDestroy=function(){this.channel.reset()},e}(a.LayoutView),t.exports.Model=l,t.exports.Collection=o,t.exports.View=u},function(t,e,n){var i,r,o,s,a,l,c,u,h=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;i=n(2),c=n(49),r=n(11),s=n(13),o=n(82),u=n(83),n(23),n(51),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.idAttribute="_id",e.prototype.defaults={date:c(),name:"",muscle:[],note:"",body:!1},e}(r.Model),l=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"edit"),this.rootChannel=r.Radio.channel("root")}return h(e,t),e.prototype.template=u,e.prototype.ui={dialog:"#strength-modal-dialog",name:"#strength-modal-name",muscle:"#strength-modal-muscle",body:"#strength-modal-body",submit:"#strength-modal-submit"},e.prototype.bindings={"#strength-modal-name":"name","#strength-modal-muscle":{
observe:"muscle",onSet:function(t){return _.map(t,function(t){return parseInt(t)})}}},e.prototype.events={"shown.bs.modal":function(){this.ui.body.prop("checked",this.model.get("body"))},"click @ui.body":function(){this.model.set("body",this.ui.body.is(":checked"))},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.collection.create(this.model.attributes,{wait:!0,at:0,success:function(t){return function(){t.rootChannel.request("spin:page:loader",!1),t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"hidden.bs.modal":function(){this.ui.muscle.multiselect("destroy")}},e.prototype.onRender=function(){var t;t=c(this.model.get("date")),this.ui.muscle.multiselect({maxHeight:330,dropRight:!0,buttonWidth:"100%",buttonClass:"btn btn-default"}).multiselect("dataprovider",o.Muscles).multiselect("select",this.model.get("muscle")),this.stickit(),this.ui.dialog.modal()},e.prototype.onBeforeDestroy=function(){i(".modal-backdrop").remove(),i("body").removeClass("modal-open")},e}(s.LayoutView),t.exports.Model=a,t.exports.View=l},function(t,e){var n;n=[{value:0,label:"Abdominals"},{value:1,label:"Arms"},{value:2,label:"Back"},{value:3,label:"Biceps"},{value:4,label:"Calves"},{value:5,label:"Chest"},{value:6,label:"Forearms"},{value:7,label:"Glutes"},{value:8,label:"Hamstrings"},{value:9,label:"Lats"},{value:10,label:"Legs"},{value:11,label:"Neck"},{value:12,label:"Quadriceps"},{value:13,label:"Shoulders"},{value:14,label:"Traps"},{value:15,label:"Triceps"}],e.Muscles=n},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div role="dialog" id="strength-modal-dialog" class="modal fade"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close">×</button><h4 class="modal-title">Create a new workout</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group"><div class="col-xs-12"><label for="strength-modal-muscle" class="control-label">Muscle Targeted</label></div><div class="col-xs-12"><select id="strength-modal-muscle" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><div class="col-xs-12"><label for="strength-modal-name" class="control-label">Workout Name</label></div><div class="col-xs-12"><input id="strength-modal-name" type="text" required minlength="1" maxlength="25" class="form-control"><div class="help-block with-errors"></div></div></div><div class="form-group"><div class="col-xs-12"><div class="checkbox"><label><input type="checkbox" id="strength-modal-body">Will Use my body as weights</label></div></div></div><hr><div class="form-group"><div class="col-xs-12"><div class="pull-right"><button data-dismiss="modal" type="button" class="btn btn-default btn-lg">Cancel</button>'+i.escape(null==(e=" ")?"":e)+'<button id="strength-modal-submit" type="submit" class="btn btn-primary btn-lg"><i class="fa fa-fw fa-lg fa-save"></i>'+i.escape(null==(e=" ")?"":e)+"<span>save</span></button></div></div></div></form></div></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m,v=function(t,e){function n(){this.constructor=t}for(var i in e)y.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},y={}.hasOwnProperty;i=n(2),d=n(3),f=n(49),r=n(11),l=n(13),s=n(82),g=n(85),p=n(86),m=n(87),n(88),n(23),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return v(e,t),e.prototype.defaults={name:"",muscle:[],count:0},e}(r.Model),o=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments),d.each(t,function(t){var e;e=n.sLogs.get(t.id),e&&t.set("count",e.get("repData").length)})}return v(e,t),e.prototype.url="/api/strengths",e.prototype.model=c,e.prototype.state={currentPage:1,pageSize:10},e.prototype.comparator=function(t){return-t.get("date")},e}(r.Collection),u=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel")}return v(e,t),e.prototype.tagName="tr",e.prototype.template=g,e.prototype.events={click:function(){return this.channel.request("add")}},e}(l.ItemView),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel"),this.rootChannel=r.Radio.channel("root")}return v(e,t),e.prototype.tagName="tr",e.prototype.template=p,e.prototype.ui={td:".strength-table-td",count:".strength-table-td-count"},e.prototype.bindings={".strength-table-td-name":"name",".strength-table-td-count":{observe:"count",onGet:function(t){return t}},".strength-table-td-muscle":{observe:"muscle",onGet:function(t){var e,n,i,r;if(t.length>0){for(i=[],e=0,n=t.length;e<n;e++)r=t[e],i.push(d.find(s.Muscles,{value:r}).label);return d.truncate(i.toString(),{length:20,separator:" "})}return"---"}}},e.prototype.events={click:function(){this.rootChannel.request("strength:detail",this.model.id)}},e.prototype.onRender=function(){this.stickit()},e.prototype.onShow=function(){this.updateProgressBar(this.model.get("count"))},e.prototype.updateProgressBar=function(t){var e,n,r;n=i(this.el).find(".progress-bar-striped"),t>0?(e=this.channel.request("get:average"),r=d.round(t/e*100,2),r=d.clamp(r,0,100),0<r&&r<=33?n.addClass("progress-bar-danger"):33<r&&r<=66?n.addClass("progress-bar-warning"):n.addClass("progress-bar-info"),n.css("width",r+"%").addClass("progress-bar")):n.css("width","0%")},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(l.ItemView),h=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["channel"]),this.channel.reply({"get:average":function(t){return function(){return d.meanBy(t.collection.models,function(t){return t.get("count")})}}(this)})}return v(e,t),e.prototype.childViewContainer="tbody",e.prototype.emptyView=u,e.prototype.childView=a,e.prototype.template=m,e.prototype.ui={table:"#strength-table",header:".strength-table-th"},e.prototype.childViewOptions=function(){return{channel:this.channel}},e.prototype.onShow=function(){},e}(l.CompositeView),t.exports.Collection=o,t.exports.View=h},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td colspan="3" id="strength-table-null"><span class="lead">Add a new workout.</span></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td class="strength-table-td-name"></td><td class="strength-table-td-muscle"></td><td class="test123"><div class="progress"><div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:0%" class="progress-bar progress-bar-striped"><div class="strength-table-td-count"></div></div></div></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><table id="strength-table" class="table table-striped table-hover table-condensed table-responsive"><thead><tr><th class="col-sm-4">Workout</th><th class="col-sm-4">Muscle</th><th class="col-sm-4">Count</th></tr></thead><tbody></tbody></table></div></div>'),e.join("")}},function(t,e,n){var i=(n(2),n(2)),i=n(2);!function(t){"use strict";function e(t,e){for(var n=0;n<t.length;++n)e(t[n],n)}function n(e,n){this.$select=t(e),this.$select.attr("data-placeholder")&&(n.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(t.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=t.proxy(this.options.onInitialized,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(e,n,i,r,o){var s=t(e),a=ko.toJS(n());if(s.multiselect(a),i.has("options")){var l=i.get("options");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){var t=s.data("multiselect");t&&t.updateOriginalOptions(),s.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(i.has("value")){var c=i.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var u=i.get("selectedOptions");ko.isObservable(u)&&ko.computed({read:function(){u(),setTimeout(function(){s.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var h=function(t){setTimeout(function(){t?s.multiselect("enable"):s.multiselect("disable")})};if(i.has("enable")){var d=i.get("enable");ko.isObservable(d)?ko.computed({read:function(){h(d())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):h(d)}if(i.has("disable")){var p=i.get("disable");ko.isObservable(p)?ko.computed({read:function(){h(!p())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):h(!p)}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){s.multiselect("destroy")})},update:function(e,n,i,r,o){var s=t(e),a=ko.toJS(n());s.multiselect("setOptions",a),s.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(e,n){if(this.disabledText.length>0&&(this.disableIfEmpty||n.prop("disabled"))&&0==e.length)return this.disabledText;if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===t("option",t(n)).length&&1!==t("option",t(n)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var i="",r=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();i+=e+r}),i.substr(0,i.length-2)},buttonTitle:function(e,n){if(0===e.length)return this.nonSelectedText;var i="",r=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();i+=e+r}),i.substr(0,i.length-2)},optionLabel:function(e){return t(e).attr("label")||t(e).text()},optionClass:function(e){return t(e).attr("class")||""},onChange:function(t,e){},onDropdownShow:function(t){},onDropdownHide:function(t){},onDropdownShown:function(t){},onDropdownHidden:function(t){},onSelectAll:function(t){},onInitialized:function(t,e){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibelOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:n,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var e=Math.min(this.options.maxHeight,26*t('option[data-role!="divider"]',this.$select).length+19*t('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),n=e+34;this.$ul.css({"max-height":e+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+n+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,n){var i=t(n),r=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===r?this.createOptgroup(n):"option"===r&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n)))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var n=t(e.target),i=n.prop("checked")||!1,r=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var o=n.val(),s=this.getOptionByValue(o),a=t("option",this.$select).not(s),l=t("input",this.$container).not(n);if(r?i?this.selectAll(this.options.selectAllJustVisible):this.deselectAll(this.options.selectAllJustVisible):(i?(s.prop("selected",!0),this.options.multiple?s.prop("selected",!0):(this.options.selectedClass&&t(l).closest("li").removeClass(this.options.selectedClass),t(l).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):s.prop("selected",!1),this.options.onChange(s,i)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.preventInputChangeEvent)return!1},this)),t("li a",this.$ul).on("mousedown",function(t){if(t.shiftKey)return!1}),t("li a",this.$ul).on("touchstart click",t.proxy(function(e){e.stopPropagation();var n=t(e.target);if(e.shiftKey&&this.options.multiple){n.is("label")&&(e.preventDefault(),n=n.find("input"),n.prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var r=n.closest("li").index(),o=this.lastToggledInput.closest("li").index();if(r>o){var s=o;o=r,r=s}++o;var a=this.$ul.find("li").slice(r,o).find("input");a.prop("checked",i),this.options.selectedClass&&a.closest("li").toggleClass(this.options.selectedClass,i);for(var l=0,c=a.length;l<c;l++){var u=t(a[l]),h=this.getOptionByValue(u.val());h.prop("selected",i)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=t(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus"));38===e.keyCode&&i>0?i--:40===e.keyCode&&i<n.length-1?i++:~i||(i=0);var r=n.eq(i);if(r.focus(),32===e.keyCode||13===e.keyCode){var o=r.find("input");o.prop("checked",!o.prop("checked")),o.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&t("li.multiselect-group",this.$ul).on("click",t.proxy(function(e){e.stopPropagation(),console.log("test");var n=t(e.target).parent(),i=n.nextUntil("li.multiselect-group"),r=i.filter(":visible:not(.disabled)"),o=!0,s=r.find("input"),a=[];s.each(function(){o=o&&t(this).prop("checked"),a.push(t(this).val())}),o?this.deselect(a,!1):this.select(a,!1),this.options.onChange(s,!o)},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(t("li.multiselect-group input",this.$ul).off(),t("li.multiselect-group",this.$ul).siblings().not("li.multiselect-group, li.multiselect-all",this.$ul).each(function(){t(this).toggleClass("hidden",!0)}),t("li.multiselect-group",this.$ul).on("click",t.proxy(function(t){t.stopPropagation()},this)),t("li.multiselect-group > a > b",this.$ul).on("click",t.proxy(function(e){e.stopPropagation();var n=t(e.target).closest("li"),i=n.nextUntil("li.multiselect-group"),r=!0;i.each(function(){r=r&&t(this).hasClass("hidden")}),i.toggleClass("hidden",!r)},this)),t("li.multiselect-group > a > input",this.$ul).on("change",t.proxy(function(e){e.stopPropagation();var n=t(e.target).closest("li"),i=n.nextUntil("li.multiselect-group",":not(.disabled)"),r=i.find("input"),o=!0;r.each(function(){o=o&&t(this).prop("checked")}),r.prop("checked",!o).trigger("change")},this)),t("li.multiselect-group",this.$ul).each(function(){var e=t(this).nextUntil("li.multiselect-group",":not(.disabled)"),n=e.find("input"),i=!0;n.each(function(){i=i&&t(this).prop("checked")}),t(this).find("input").prop("checked",i)}),t("li input",this.$ul).on("change",t.proxy(function(e){e.stopPropagation();var n=t(e.target).closest("li"),i=n.prevUntil("li.multiselect-group",":not(.disabled)"),r=n.nextUntil("li.multiselect-group",":not(.disabled)"),o=i.find("input"),s=r.find("input"),a=t(e.target).prop("checked");o.each(function(){a=a&&t(this).prop("checked")}),s.each(function(){a=a&&t(this).prop("checked")}),n.prevAll(".multiselect-group").find("input").prop("checked",a)},this)),t("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),t("li.multiselect-group > a, li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),t("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(e){var n=t(e);n.is(":selected")&&n.prop("selected",!0);var i=this.options.optionLabel(e),r=this.options.optionClass(e),o=n.val(),s=this.options.multiple?"checkbox":"radio",a=t(this.options.templates.li),l=t("label",a);l.addClass(s),a.addClass(r),this.options.enableHTML?l.html(" "+i):l.text(" "+i);var c=t("<input/>").attr("type",s);this.options.checkboxName&&c.attr("name",this.options.checkboxName),l.prepend(c);var u=n.prop("selected")||!1;c.val(o),o===this.options.selectAllValue&&(a.addClass("multiselect-item multiselect-all"),c.parent().parent().addClass("multiselect-all")),l.attr("title",n.attr("title")),this.$ul.append(a),n.is(":disabled")&&c.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),c.prop("checked",u),u&&this.options.selectedClass&&c.closest("li").addClass(this.options.selectedClass)},createDivider:function(e){var n=t(this.options.templates.divider);this.$ul.append(n)},createOptgroup:function(e){if(this.options.enableCollapsibleOptGroups&&this.options.multiple){var n=t(e).attr("label"),i=t(e).attr("value"),r=t('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><input type="checkbox" value="'+i+'"/><b> '+n+'<b class="caret"></b></b></a></li>');this.options.enableClickableOptGroups&&r.addClass("multiselect-group-clickable"),this.$ul.append(r),t(e).is(":disabled")&&r.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))}else{var o=t(e).prop("label"),s=t(this.options.templates.liGroup);this.options.enableHTML?t("label",s).html(o):t("label",s).text(o),this.options.enableClickableOptGroups&&s.addClass("multiselect-group-clickable"),this.$ul.append(s),t(e).is(":disabled")&&s.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))}},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var e=this.hasSelectAll();if(!e&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));var n=t(this.options.templates.li);t("label",n).addClass("checkbox"),this.options.enableHTML?t("label",n).html(" "+this.options.selectAllText):t("label",n).text(" "+this.options.selectAllText),this.options.selectAllName?t("label",n).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",n).prepend('<input type="checkbox" />');var i=t("input",n);i.val(this.options.selectAllValue),n.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(n),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=t(this.options.templates.filterClearBtn);n.on("click",t.proxy(function(e){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){if(this.query!==e.target.value){this.query=e.target.value;var n,i;t.each(t("li",this.$ul),t.proxy(function(e,r){var o=t("input",r).length>0?t("input",r).val():"",s=t("label",r).text(),a="";if("text"===this.options.filterBehavior?a=s:"value"===this.options.filterBehavior?a=o:"both"===this.options.filterBehavior&&(a=s+"\n"+o),o!==this.options.selectAllValue&&s){var l=!1;if(this.options.enableCaseInsensitiveFiltering&&(a=a.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var c=a.trim().substring(0,this.query.length);this.query.indexOf(c)>-1&&(l=!0)}else a.indexOf(this.query)>-1&&(l=!0);t(r).toggle(l).toggleClass("filter-hidden",!l),t(r).hasClass("multiselect-group")?(n=r,i=l):(l&&t(n).show().removeClass("filter-hidden"),!l&&i&&t(r).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){var e=t.map(t("li input",this.$ul),t);t("option",this.$select).each(t.proxy(function(n,i){for(var r,o=t(i),s=o.val(),a=e.length;0<a--;)if(s===(r=e[a]).val()){o.is(":selected")?(r.prop("checked",!0),this.options.selectedClass&&r.closest("li").addClass(this.options.selectedClass)):(r.prop("checked",!1),this.options.selectedClass&&r.closest("li").removeClass(this.options.selectedClass)),o.is(":disabled")?r.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):r.prop("disabled",!1).closest("li").removeClass("disabled");break}},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(null!==r&&void 0!==r){var o=this.getOptionByValue(r),s=this.getInputByValue(r);void 0!==o&&void 0!==s&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&s.closest("li").addClass(this.options.selectedClass),s.prop("checked",!0),o.prop("selected",!0),n&&this.options.onChange(o,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var r=e[i];if(null!==r&&void 0!==r){var o=this.getOptionByValue(r),s=this.getInputByValue(r);void 0!==o&&void 0!==s&&(this.options.selectedClass&&s.closest("li").removeClass(this.options.selectedClass),s.prop("checked",!1),o.prop("selected",!1),n&&this.options.onChange(o,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(e,n){e=(!this.options.enableCollapsibleOptGroups||!this.options.multiple)&&e;var e="undefined"==typeof e||e,i=t("li input[type='checkbox']:enabled",this.$ul),r=i.filter(":visible"),o=i.length,s=r.length;if(e?(r.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),o===s||e===!1)t("option:not([data-role='divider']):enabled",this.$select).prop("selected",!0);else{var a=r.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(e){return t.inArray(t(this).val(),a)!==-1}).prop("selected",!0)}n&&this.options.onSelectAll()},deselectAll:function(e){if(e=(!this.options.enableCollapsibleOptGroups||!this.options.multiple)&&e,e="undefined"==typeof e||e){var n=t("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");n.prop("checked",!1);var i=n.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(e){return t.inArray(t(this).val(),i)!==-1}).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else t("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),t("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(n){var i=0,r=this.$select.empty();t.each(n,function(n,o){var s;t.isArray(o.children)?(i++,s=t("<optgroup/>").attr({label:o.label||"Group "+i,disabled:!!o.disabled}),e(o.children,function(e){s.append(t("<option/>").attr({value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled}))})):(s=t("<option/>").attr({value:o.value,label:o.label||o.value,title:o.title,class:o.class,selected:!!o.selected,disabled:!!o.disabled}),s.text(o.label||o.value)),r.append(s)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("li.multiselect-all",this.$ul).length>0},updateSelectAll:function(e){if(this.hasSelectAll()){var n=t("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),i=n.length,r=n.filter(":checked").length,o=t("li.multiselect-all",this.$ul),s=o.find("input");r>0&&r===i?(s.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll(!0)):(s.prop("checked",!1),o.removeClass(this.options.selectedClass),0===r&&(e||this.options.onSelectAll(!1)))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?t(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var n=t("option",this.$select),i=e.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return t(o)}},getInputByValue:function(e){for(var n=t("li input",this.$ul),i=e.toString(),r=0;r<n.length;r+=1){var o=n[r];if(o.value===i)return t(o)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(n||window,i)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(e,i,r){return this.each(function(){var o=t(this).data("multiselect"),s="object"==typeof e&&e;o||(o=new n(this,s),t(this).data("multiselect",o)),"string"==typeof e&&(o[e](i,r),"destroy"===e&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=n,t(function(){t("select[data-role=multiselect]").multiselect()})}(i)},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;s=n(3),r=n(13),i=n(82),a=n(90),o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["tableCollection","muscle"]),this.muscles=[],null!=this.muscle&&this.muscles.push(this.muscle)}return l(e,t),e.prototype.template=a,e.prototype.ui={muscle:"#strength-filter-muscle"},e.prototype.onRender=function(){this.ui.muscle.multiselect({dropRight:!0,maxHeight:350,buttonClass:"btn btn-default strength-filter-btn",buttonWidth:35,templates:{button:'<span class="multiselect dropdown-toggle" data-toggle="dropdown"><i class="fa fa-lg fa-caret-down"></i></span>'},onChange:function(t){return function(){return t.muscles=s.map(t.ui.muscle.val(),function(t){return parseInt(t)}),t.filterCollection()}}(this)}).multiselect("dataprovider",i.Muscles).multiselect("select",this.muscles)},e.prototype.filterCollection=function(){var t;t=this.collection.models,this.muscles.length>0&&(t=this.collection.filter(function(t){return function(e){return s.intersection(t.muscles,e.get("muscle")).length>0}}(this))),this.tableCollection.reset(t)},e.prototype.onBeforeDestroy=function(){this.ui.muscle.multiselect("destroy")},e}(r.ItemView),t.exports=o},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<select id="strength-filter-muscle" multiple="multiple" class="form-control"></select>'),
e.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><div id="strength-modal-view"></div></div></div><div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="strength-home"><a>Home</a></li><li id="strength-journals" class="active"><span>Journals</span><i class="fa fa-fw fa-lg fa-book"></i></li></ol></div></div><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading clearfix"><div class="pull-right"><button id="strength-add" class="btn btn-xs btn-primary"><i class="fa fa-fw fa fa-plus"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Add Workout</span></button></div><div class="pull-right"><div id="strength-filter-view"></div></div><h3 class="panel-title">Workouts</h3></div><div class="panel-body"><div id="strength-table-view"></div></div></div></div></div>'),n.join("")}},function(t,e,n){n(11);!function(e){t.exports=e(n(12),n(11))}(function(t,e){"use strict";function n(e,n){if(!t.isNumber(e)||t.isNaN(e)||!t.isFinite(e)||~~e!==e)throw new TypeError("`"+n+"` must be a finite integer");return e}function i(t){for(var e,n,i,r,o={},s=decodeURIComponent,a=t.split("&"),l=0,c=a.length;l<c;l++){var u=a[l];e=u.split("="),n=e[0],i=e[1]||!0,n=s(n),i=s(i),r=o[n],f(r)?r.push(i):r?o[n]=[r,i]:o[n]=i}return o}function r(t,e,n){var i=t._events[e];if(i&&i.length){var r=i[i.length-1],o=r.callback;r.callback=function(){try{o.apply(this,arguments),n()}catch(t){throw t}finally{r.callback=o}}}else n()}var o=t.extend,s=t.omit,a=t.clone,l=t.each,c=t.pick,u=t.contains,h=t.isEmpty,d=t.pairs,p=t.invert,f=t.isArray,g=t.isFunction,m=t.isObject,v=t.keys,y=t.isUndefined,b=Math.ceil,w=Math.floor,x=Math.max,_=e.Collection.prototype,C=/[\s'"]/g,k=/[<>\s'"]/g,S=e.PageableCollection=e.Collection.extend({state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(t,e){_.constructor.apply(this,arguments),e=e||{};var n=this.mode=e.mode||this.mode||T.mode,i=o({},T.queryParams,this.queryParams,e.queryParams||{});i.directions=o({},T.queryParams.directions,this.queryParams.directions,i.directions||{}),this.queryParams=i;var r=this.state=o({},T.state,this.state,e.state||{});r.currentPage=null==r.currentPage?r.firstPage:r.currentPage,f(t)||(t=t?[t]:[]),t=t.slice(),"server"==n||null!=r.totalRecords||h(t)||(r.totalRecords=t.length),this.switchMode(n,o({fetch:!1,resetState:!1,models:t},e));var s=e.comparator;if(r.sortKey&&!s&&this.setSorting(r.sortKey,r.order,e),"server"!=n){var l=this.fullCollection;s&&e.full&&(this.comparator=null,l.comparator=s),e.full&&l.sort(),t&&!h(t)&&(this.reset(t,o({silent:!0},e)),this.getPage(r.currentPage),t.splice.apply(t,[0,t.length].concat(this.models)))}this._initState=a(this.state)},_makeFullCollection:function(t,n){var i,r,o,s=["url","model","sync","comparator"],a=this.constructor.prototype,l={};for(i=0,r=s.length;i<r;i++)o=s[i],y(a[o])||(l[o]=a[o]);var c=new(e.Collection.extend(l))(t,n);for(i=0,r=s.length;i<r;i++)o=s[i],this[o]!==a[o]&&(c[o]=this[o]);return c},_makeCollectionEventHandler:function(t,e){return function(n,i,s,c){var u=t._handlers;l(v(u),function(n){var i=u[n];t.off(n,i),e.off(n,i)});var h=a(t.state),d=h.firstPage,p=0===d?h.currentPage:h.currentPage-1,f=h.pageSize,g=p*f,m=g+f;if("add"==n){var w,x,_,C,c=c||{};if(s==e)x=e.indexOf(i),x>=g&&x<m&&(C=t,w=_=x-g);else{w=t.indexOf(i),x=g+w,C=e;var _=y(c.at)?x:c.at+g}if(c.onRemove||(++h.totalRecords,delete c.onRemove),t.state=t._checkState(h),C){C.add(i,o({},c||{},{at:_}));var k=w>=f?i:!y(c.at)&&_<m&&t.length>f?t.at(f):null;k&&r(s,n,function(){t.remove(k,{onAdd:!0})})}}if("remove"==n)if(c.onAdd)delete c.onAdd;else{if(--h.totalRecords){var S=h.totalPages=b(h.totalRecords/f);h.lastPage=0===d?S-1:S||d,h.currentPage>S&&(h.currentPage=h.lastPage)}else h.totalRecords=null,h.totalPages=null;t.state=t._checkState(h);var T,M=c.index;s==t?((T=e.at(m))?r(t,n,function(){t.push(T,{onRemove:!0})}):!t.length&&h.totalRecords&&t.reset(e.models.slice(g-f,m-f),o({},c,{parse:!1})),e.remove(i)):M>=g&&M<m&&((T=e.at(m-1))&&r(t,n,function(){t.push(T,{onRemove:!0})}),t.remove(i),!t.length&&h.totalRecords&&t.reset(e.models.slice(g-f,m-f),o({},c,{parse:!1})))}if("reset"==n)if(c=s,s=i,s==t&&null==c.from&&null==c.to){var D=e.models.slice(0,g),A=e.models.slice(g+t.models.length);e.reset(D.concat(t.models).concat(A),c)}else s==e&&((h.totalRecords=e.models.length)||(h.totalRecords=null,h.totalPages=null),"client"==t.mode&&(h.lastPage=h.currentPage=h.firstPage),t.state=t._checkState(h),t.reset(e.models.slice(g,m),o({},c,{parse:!1})));"sort"==n&&(c=s,s=i,s===e&&t.reset(e.models.slice(g,m),o({},c,{parse:!1}))),l(v(u),function(n){var i=u[n];l([t,e],function(t){t.on(n,i);var e=t._events[n]||[];e.unshift(e.pop())})})}},_checkState:function(t){var e=this.mode,i=this.links,r=t.totalRecords,o=t.pageSize,s=t.currentPage,a=t.firstPage,l=t.totalPages;if(null!=r&&null!=o&&null!=s&&null!=a&&("infinite"!=e||i)){if(r=n(r,"totalRecords"),o=n(o,"pageSize"),s=n(s,"currentPage"),a=n(a,"firstPage"),o<1)throw new RangeError("`pageSize` must be >= 1");if(l=t.totalPages=b(r/o),a<0||a>1)throw new RangeError("`firstPage must be 0 or 1`");if(t.lastPage=0===a?x(0,l-1):l||a,"infinite"==e){if(!i[s+""])throw new RangeError("No link found for page "+s)}else if(s<a||l>0&&(a?s>l:s>=l))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(a?">":">=")+" totalPages if "+a+"-based. Got "+s+".")}return t},setPageSize:function(t,e){t=n(t,"pageSize"),e=e||{first:!1};var i=this.state,r=b(i.totalRecords/t),a=r?x(i.firstPage,w(r*i.currentPage/i.totalPages)):i.firstPage;return i=this.state=this._checkState(o({},i,{pageSize:t,currentPage:e.first?i.firstPage:a,totalPages:r})),this.getPage(i.currentPage,s(e,["first"]))},switchMode:function(e,n){if(!u(["server","client","infinite"],e))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');n=n||{fetch:!0,resetState:!0};var i=this.state=n.resetState?a(this._initState):this._checkState(o({},this.state));this.mode=e;var r,c=this,h=this.fullCollection,d=this._handlers=this._handlers||{};if("server"==e||h)"server"==e&&h&&(l(v(d),function(t){r=d[t],c.off(t,r),h.off(t,r)}),delete this._handlers,this._fullComparator=h.comparator,delete this.fullCollection);else{h=this._makeFullCollection(n.models||[],n),h.pageableCollection=this,this.fullCollection=h;var p=this._makeCollectionEventHandler(this,h);l(["add","remove","reset","sort"],function(e){d[e]=r=t.bind(p,{},e),c.on(e,r),h.on(e,r)}),h.comparator=this._fullComparator}if("infinite"==e)for(var f=this.links={},g=i.firstPage,m=b(i.totalRecords/i.pageSize),y=0===g?x(0,m-1):m||g,w=i.firstPage;w<=y;w++)f[w]=this.url;else this.links&&delete this.links;return n.fetch?this.fetch(s(n,"fetch","resetState")):this},hasPreviousPage:function(){var t=this.state,e=t.currentPage;return"infinite"!=this.mode?e>t.firstPage:!!this.links[e-1]},hasNextPage:function(){var t=this.state,e=this.state.currentPage;return"infinite"!=this.mode?e<t.lastPage:!!this.links[e+1]},getFirstPage:function(t){return this.getPage("first",t)},getPreviousPage:function(t){return this.getPage("prev",t)},getNextPage:function(t){return this.getPage("next",t)},getLastPage:function(t){return this.getPage("last",t)},getPage:function(t,e){var i=this.mode,r=this.fullCollection;e=e||{fetch:!1};var a=this.state,l=a.firstPage,c=a.currentPage,u=a.lastPage,d=a.pageSize,p=t;switch(t){case"first":p=l;break;case"prev":p=c-1;break;case"next":p=c+1;break;case"last":p=u;break;default:p=n(t,"index")}this.state=this._checkState(o({},a,{currentPage:p})),e.from=c,e.to=p;var f=(0===l?p:p-1)*d,g=r&&r.length?r.models.slice(f,f+d):[];return"client"!=i&&("infinite"!=i||h(g))||e.fetch?("infinite"==i&&(e.url=this.links[p]),this.fetch(s(e,"fetch"))):(this.reset(g,s(e,"fetch")),this)},getPageByOffset:function(t,e){if(t<0)throw new RangeError("`offset must be > 0`");t=n(t);var i=w(t/this.state.pageSize);return 0!==this.state.firstPage&&i++,i>this.state.lastPage&&(i=this.state.lastPage),this.getPage(i,e)},sync:function(t,n,i){var r=this;if("infinite"==r.mode){var s=i.success,a=r.state.currentPage;i.success=function(t,e,n){var l=r.links,c=r.parseLinks(t,o({xhr:n},i));c.first&&(l[r.state.firstPage]=c.first),c.prev&&(l[a-1]=c.prev),c.next&&(l[a+1]=c.next),s&&s(t,e,n)}}return(_.sync||e.sync).call(r,t,n,i)},parseLinks:function(t,e){var n={},i=e.xhr.getResponseHeader("Link");if(i){var r=["first","prev","next"];l(i.split(","),function(t){var e=t.split(";"),i=e[0].replace(k,""),o=e.slice(1);l(o,function(t){var e=t.split("="),o=e[0].replace(C,""),s=e[1].replace(C,"");"rel"==o&&u(r,s)&&(n[s]=i)})})}return n},parse:function(t,e){var n=this.parseState(t,a(this.queryParams),a(this.state),e);return n&&(this.state=this._checkState(o({},this.state,n))),this.parseRecords(t,e)},parseState:function(e,n,i,r){if(e&&2===e.length&&m(e[0])&&f(e[1])){var o=a(i),c=e[0];return l(d(s(n,"directions")),function(e){var n=e[0],i=e[1],r=c[i];y(r)||t.isNull(r)||(o[n]=c[i])}),c.order&&(o.order=1*p(n.directions)[c.order]),o}},parseRecords:function(t,e){return t&&2===t.length&&m(t[0])&&f(t[1])?t[1]:t},fetch:function(t){t=t||{};var e=this._checkState(this.state),n=this.mode;"infinite"!=n||t.url||(t.url=this.links[e.currentPage]);var r=t.data||{},l=t.url||this.url||"";g(l)&&(l=l.call(this));var u=l.indexOf("?");u!=-1&&(o(r,i(l.slice(u+1))),l=l.slice(0,u)),t.url=l,t.data=r;var h,p,f,m,b="client"==this.mode?c(this.queryParams,"sortKey","order"):s(c(this.queryParams,v(T.queryParams)),"directions"),w=d(b),x=a(this);for(h=0;h<w.length;h++)p=w[h],f=p[0],m=p[1],m=g(m)?m.call(x):m,null!=e[f]&&null!=m&&(r[m]=e[f]);if(e.sortKey&&e.order){var C=g(b.order)?b.order.call(x):b.order;r[C]=this.queryParams.directions[e.order+""]}else e.sortKey||delete r[b.order];var k=d(s(this.queryParams,v(T.queryParams)));for(h=0;h<k.length;h++)p=k[h],m=p[1],m=g(m)?m.call(x):m,null!=m&&(r[p[0]]=m);if("server"!=n){var S=this,M=this.fullCollection,D=t.success;return t.success=function(e,i,r){r=r||{},y(t.silent)?delete r.silent:r.silent=t.silent;var s=e.models;"client"==n?M.reset(s,r):(M.add(s,o({at:M.length},o(r,{parse:!1}))),S.trigger("reset",S,r)),D&&D(e,i,r)},_.fetch.call(this,o({},t,{silent:!0}))}return _.fetch.call(this,t)},_makeComparator:function(t,e,n){var i=this.state;if(t=t||i.sortKey,e=e||i.order,t&&e)return n||(n=function(t,e){return t.get(e)}),function(i,r){var o,s=n(i,t),a=n(r,t);return 1===e&&(o=s,s=a,a=o),s===a?0:s<a?-1:1}},setSorting:function(t,e,n){var i=this.state;i.sortKey=t,i.order=e=e||i.order;var r=this.fullCollection,s=!1,a=!1;t||(s=a=!0);var l=this.mode;n=o({side:"client"==l?l:"server",full:!0},n);var c=this._makeComparator(t,e,n.sortValue),u=n.full,h=n.side;return"client"==h?u?(r&&(r.comparator=c),s=!0):(this.comparator=c,a=!0):"server"!=h||u||(this.comparator=c),s&&(this.comparator=null),a&&r&&(r.comparator=null),this}}),T=S.prototype;return S})},function(t,e,n){var i=n(2);!function(t){i.fn.rPage=function(){function e(e){this.label=function(){var e=this.els.filter(".active").index(),n=this;this.els.each(function(){0==n.isNextOrPrevLink(t(this))?t(this).addClass("page-away-"+Math.abs(e-t(this).index()).toString()):t(this).index()>e?t(this).addClass("right-etc"):t(this).addClass("left-etc")})},this.makeResponsive=function(){this.reset();for(var t=this.calculateWidth();t>this.els.parent().parent().outerWidth()-10;){var e=this.removeOne();if(0==e)break;t=this.calculateWidth()}},this.isNextOrPrevLink=function(t){return t.hasClass("pagination-prev")||t.hasClass("pagination-next")||"»"==t.text()||"«"==t.text()},this.isRemovable=function(t){if(this.isNextOrPrevLink(t))return!1;var n=this.els.filter(t).index();return 1!=n&&!this.isNextOrPrevLink(e.find("li").eq(n+1))&&"..."!=t.text()},this.removeOne=function(){for(var t=this.els.filter(".active").index(),n=e.find("li").length-1,i=n-1;i>0;i--){var r=this.els.filter(".page-away-"+i.toString()),o=r.filter(function(){return"none"!=this.style.display});if(o.length>0)for(var s=0;s<o.length;s++){var a=o.eq(s);if(this.isRemovable(a))return a.css("display","none"),this.needsEtcSign(t,n-1)&&this.els.eq(n-2).before("<li class='disabled removable'><span>...</span></li>"),this.needsEtcSign(1,t)&&this.els.eq(1).after("<li class='disabled removable'><span>...</span></li>"),!0}}return!1},this.needsEtcSign=function(t,n){if(n-t<=1)return!1;for(var i=!1,r=!1,o=t+1;o<n;o++){var s=e.find("li").eq(o);"none"==s.css("display")&&(r=!0),"..."==s.text()&&(i=!0)}return 1==r&&0==i},this.reset=function(){for(var t=0;t<this.els.length;t++)this.els.eq(t).css("display","inline");e.find("li").filter(".removable").remove()},this.calculateWidth=function(){for(var t=0,n=0;n<e.find("li").length;n++)t+=e.find("li").eq(n).children("a").eq(0).outerWidth(),t+=e.find("li").eq(n).children("span").eq(0).outerWidth();return t},this.els=e.find("li"),this.label(),this.makeResponsive();var n;t(window).resize(t.proxy(function(){clearTimeout(n),n=setTimeout(t.proxy(function(){this.makeResponsive()},this),100)},this))}for(var n=t(this),i=0,r=n.length;i<r;i++)new e(t(n[i]))}}(i)},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m,v,y,b,w,x=function(t,e){function n(){this.constructor=t}for(var i in e)_.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},_={}.hasOwnProperty;y=n(3),b=n(49),r=n(11),f=n(16),d=n(13),i=n(95),l=n(98),h=n(100),u=n(108),g=n(111),c=n(113),v=n(119),s=n(121),o=n(124),w=n(126),p=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return x(e,t),e.prototype.urlRoot="/api/strengths",e.prototype.idAttribute="_id",e}(r.Model),a=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments),this.url="/api/strengths/"+n.id+"/log"}return x(e,t),e.prototype.model=p,e.prototype.comparator="date",e}(r.Collection),m=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=r.Radio.channel("root"),this.mergeOptions(t,["strengthID","wLogs"]),this.channel=new f.channel(this.cid),this.date=b(),this.channel.reply({"add:workout":function(t){return function(e){t.showChildView("modal",new i.View({collection:t.collection,date:e,wLogs:t.wLogs,model:new i.Model({exercise:t.model.id})}))}}(this),"change:date":function(t){return function(e){t.date=e,t.updateViews()}}(this)}),this.summaryModel=new v.Model({},{sConf:this.model,sLogs:this.collection})}return x(e,t),e.prototype.template=w,e.prototype.ui={add:"#strength-detail-add",edit:"#strength-detail-edit"},e.prototype.regions={modal:"#strength-modal-view",history:"#strength-history-view",challenge:"#strength-challenge-view",goal:"#strength-goal-view",summary:"#strength-summary-view",workout:"#strength-workout-view",calendar:"#strength-calendar-view",graph:"#strength-graph-view"},e.prototype.bindings={"#strength-title":"name"},e.prototype.events={"click #strength-home":function(){this.rootChannel.request("home")},"click #strength-journals":function(){this.rootChannel.request("strengths")},"click #strength-detail-add":function(){this.channel.request("add:workout",b())},"click #strength-detail-edit":function(){this.showChildView("modal",new l.View({model:this.model,summary:this.summaryModel}))},"click #strength-graph-btn":function(){this.rootChannel.request("log:detail",this.model.get("exercise"))},"click #strength-schedule-btn":function(){this.rootChannel.request("schedule")}},e.prototype.collectionEvents={"sync update":function(){this.summaryModel.update(this.model,this.collection),this.updateViews()}},e.prototype.modelEvents={"change:date":function(){this.updateAfterDateChange()},sync:function(t){this.summaryModel.update(this.model,this.collection),this.updateViews()}},e.prototype.onRender=function(){this.stickit()},e.prototype.onShow=function(){this.updateViews()},e.prototype.updateAfterDateChange=function(){this.showChildView("history",new h({sLogs:this.collection,sConf:this.model,channel:this.channel,date:this.date})),this.showChildView("challenge",new s({sLogs:this.collection,date:this.date,type:this.model.get("body")===!0?"rep":"weight"})),this.showChildView("goal",new c({sLogs:this.collection,sConf:this.model,date:this.date}))},e.prototype.updateViews=function(){this.showChildView("goal",new c({sLogs:this.collection,date:this.date})),this.showChildView("graph",new u({sLogs:this.collection,sConf:this.model})),this.showChildView("calendar",new o({collection:this.collection,type:this.model.get("body")===!0?"rep":"weight"})),this.showChildView("summary",new g({sLogs:this.collection,sConf:this.model})),this.showChildView("workout",new v.View({model:this.summaryModel})),this.updateAfterDateChange()},e.prototype.onBeforeDestroy=function(){this.unstickit(),this.channel.reset()},e}(d.LayoutView),t.exports.Model=p,t.exports.Collection=a,t.exports.View=m},function(t,e,n){var i,r,o,s,a,l,c,u,h=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;a=n(3),c=n(49),i=n(11),r=n(13),u=n(96),n(97),n(23),n(51),l=function(t){var e;return e=a.maxBy(t.models,function(t){return t.get("date")}),e.get("weight")},o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.url="/api/slogs",e.prototype.idAttribute="_id",e.prototype.defaults={date:c(),name:"",exercise:"",rep:null,weight:null,note:"",body:!1},e}(i.Model),s=function(t){function e(t){var n,r;e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.mergeOptions(t,"wLogs"),t.date&&this.model.set("date",t.date),this.collection.length&&(n=this.collection.at(this.collection.length-1),this.model.set("rep",n.get("rep")),this.model.set("weight",n.get("weight"))),r=i.Radio.channel("user").request("user"),this.model.get("body")&&this.wLogs.length&&this.model.set("weight",l(this.wLogs))}return h(e,t),e.prototype.template=u,e.prototype.ui={dialog:".modal",rep:"#strength-modal-rep",weight:"#strength-modal-weight",submit:"#strength-modal-submit",date:"#strength-modal-date",time:"#strength-modal-time",weightView:"#strength-modal-weight-container",labelView:"#strength-modal-weight-label-container"},e.prototype.bindings={"#strength-modal-timestamp-date":{observe:"date",onGet:function(t){return c(t).format("MMMM DD, YYYY")}},"#strength-modal-timestamp-time":{observe:"date",onGet:function(t){return c(t).format("hh:mm a")}},"#strength-modal-rep":{observe:"rep",onSet:function(t){return parseInt(t)}},"#strength-modal-weight":{observe:"weight",onSet:function(t){return parseInt(t)}},"#strength-modal-weight-label":{observe:"weight",onGet:function(t){return t+" lbs"}},"#strength-modal-note":"note"},e.prototype.events={"click #strength-modal-exercise":function(){this.rootChannel.request("exercise")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.save({},{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),t.collection.add(e.attributes),t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"hidden.bs.modal":function(){this.ui.rep.TouchSpin("destroy"),this.ui.weight.TouchSpin("destroy"),this.ui.date.data("DateTimePicker").destroy(),this.unstickit()}},e.prototype.onRender=function(){var t;t=this.model.get("date"),this.ui.rep.TouchSpin({buttondown_class:"btn btn-info",buttonup_class:"btn btn-info",min:0,max:99999}),this.model.get("body")?this.ui.weightView.hide():(this.ui.labelView.hide(),this.ui.weight.TouchSpin({postfix:"pounds",buttondown_class:"btn btn-info",buttonup_class:"btn btn-info",min:0,max:99999})),this.ui.date.datetimepicker({inline:!0,sideBySide:!1,minDate:c(t).subtract(1,"years"),maxDate:c(t).add(1,"years"),defaultDate:c(t)}),this.ui.date.on("dp.change",function(t){return function(){t.model.set("date",t.ui.date.data("DateTimePicker").date())}}(this)),this.stickit(),this.ui.dialog.modal()},e.prototype.onBeforeDestroy=function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div role="dialog" class="modal fade"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close">×</button><h4 class="modal-title">Add a new session</h4></div><div class="modal-body"><form novalidate class="form-horizontal"><!-- Nav tabs--><ul role="tablist" class="nav nav-tabs"><li role="presentation" class="active"><a href="#strength-modal-basic" aria-controls="basic" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-pencil"></i>'+i.escape(null==(e=" ")?"":e)+'Basic</a></li><li role="presentation"><a href="#strength-modal-advance" aria-controls="advance" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-cogs"></i>'+i.escape(null==(e=" ")?"":e)+'Optional</a></li></ul><br><!-- Tab panes--><div class="tab-content"><!-- Basic--><div id="strength-modal-basic" role="tabpanel" class="tab-pane active"><div class="form-group"><div class="col-xs-12"><label class="control-label">Timestamp</label></div><div class="col-xs-12"><p class="form-control-static"><span id="strength-modal-timestamp-date"></span>'+i.escape(null==(e=" - ")?"":e)+'<i><u id="strength-modal-timestamp-time"></u></i></p></div></div><div id="strength-modal-weight-container" class="form-group"><div class="col-xs-12"><label class="control-label">Weight</label></div><div class="col-xs-12"><input id="strength-modal-weight" type="number" placeholder="0" required class="form-control"></div></div><div id="strength-modal-weight-label-container" class="form-group"><div class="col-xs-12"><label class="control-label">Weight</label></div><div class="col-xs-12"><p class="form-control-static"><span id="strength-modal-weight-label"></span></p></div></div><div class="form-group"><div class="col-xs-12"><label class="control-label">Reps</label></div><div class="col-xs-12"><input id="strength-modal-rep" type="number" placeholder="0" required class="form-control"></div></div><hr><div class="form-group"><div class="pull-right"><div class="col-xs-12"><button data-dismiss="modal" type="button" class="btn btn-default btn-lg">Cancel</button>'+i.escape(null==(e=" ")?"":e)+'<button type="submit" class="btn btn-primary btn-lg"><i class="fa fa-fw fa-lg fa-save"></i>'+i.escape(null==(e=" ")?"":e)+'<span>save</span></button></div></div></div></div><!-- Advance--><div id="strength-modal-advance" role="tabpanel" class="tab-pane"><div class="form-group"><div class="col-xs-12"><div style="overflow:hidden;"><div class="form-group"><div class="row"><div class="col-xs-12"><div id="strength-modal-date"></div></div></div></div></div></div></div><div class="form-group"><div class="col-xs-12"><label for="strength-modal-note" class="control-label">Note</label></div><div class="col-xs-12"><textarea id="strength-modal-note" minlength="1" maxlength="50" class="form-control"></textarea></div></div></div></div></form></div></div></div></div>'),n.join("")}},function(t,e,n){var i=(n(2),n(2)),i=n(2);!function(t){"use strict";function e(t,e){return t+".touchspin_"+e}function n(n,i){return t.map(n,function(t){return e(t,i)})}var i=0;t.fn.TouchSpin=function(e){if("destroy"===e)return void this.each(function(){var e=t(this),i=e.data();t(document).off(n(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],i.spinnerid).join(" "))});var r={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},o={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function s(){if(!R.data("alreadyinitialized")){if(R.data("alreadyinitialized",!0),i+=1,R.data("spinnerid",i),!R.is("input"))return void console.log("Must be an input.");c(),a(),w(),d(),g(),m(),v(),y(),A.input.css("display","block")}}function a(){""!==M.initval&&""===R.val()&&R.val(M.initval)}function l(t){h(t),w();var e=A.input.val();""!==e&&(e=Number(A.input.val()),A.input.val(e.toFixed(M.decimals)))}function c(){M=t.extend({},r,H,u(),e)}function u(){var e={};return t.each(o,function(t,n){var i="bts-"+n;R.is("[data-"+i+"]")&&(e[t]=R.data(i))}),e}function h(e){M=t.extend({},M,e)}function d(){var t=R.val(),e=R.parent();""!==t&&(t=Number(t).toFixed(M.decimals)),R.data("initvalue",t).val(t),R.addClass("form-control"),e.hasClass("input-group")?p(e):f()}function p(e){e.addClass("bootstrap-touchspin");var n,i,r=R.prev(),o=R.next(),s='<span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+"</span>";r.hasClass("input-group-btn")?(n='<button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+"</button>",r.append(n)):(n='<span class="input-group-btn"><button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+"</button></span>",t(n).insertBefore(R)),o.hasClass("input-group-btn")?(i='<button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button>",o.prepend(i)):(i='<span class="input-group-btn"><button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button></span>",t(i).insertAfter(R)),t(s).insertBefore(R),t(a).insertAfter(R),D=e}function f(){var e;e=M.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+'</span><span class="input-group-btn-vertical"><button class="'+M.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+M.verticalupclass+'"></i></button><button class="'+M.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+M.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+M.buttondown_class+' bootstrap-touchspin-down" type="button">'+M.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+M.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+M.postfix+'</span><span class="input-group-btn"><button class="'+M.buttonup_class+' bootstrap-touchspin-up" type="button">'+M.buttonup_txt+"</button></span></div>",D=t(e).insertBefore(R),t(".bootstrap-touchspin-prefix",D).after(R),R.hasClass("input-sm")?D.addClass("input-group-sm"):R.hasClass("input-lg")&&D.addClass("input-group-lg")}function g(){A={down:t(".bootstrap-touchspin-down",D),up:t(".bootstrap-touchspin-up",D),input:t("input",D),prefix:t(".bootstrap-touchspin-prefix",D).addClass(M.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",D).addClass(M.postfix_extraclass)}}function m(){""===M.prefix&&A.prefix.hide(),""===M.postfix&&A.postfix.hide()}function v(){R.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==F&&(_(),S()),t.preventDefault()):40===e&&("down"!==F&&(C(),k()),t.preventDefault())}),R.on("keyup",function(t){var e=t.keyCode||t.which;38===e?T():40===e&&T()}),R.on("blur",function(){w()}),A.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==F&&(C(),k()),t.preventDefault())}),A.down.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||T()}),A.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==F&&(_(),S()),t.preventDefault())}),A.up.on("keyup",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||T()}),A.down.on("mousedown.touchspin",function(t){A.down.off("touchstart.touchspin"),R.is(":disabled")||(C(),k(),t.preventDefault(),t.stopPropagation())}),A.down.on("touchstart.touchspin",function(t){A.down.off("mousedown.touchspin"),R.is(":disabled")||(C(),k(),t.preventDefault(),t.stopPropagation())}),A.up.on("mousedown.touchspin",function(t){A.up.off("touchstart.touchspin"),R.is(":disabled")||(_(),S(),t.preventDefault(),t.stopPropagation())}),A.up.on("touchstart.touchspin",function(t){A.up.off("mousedown.touchspin"),R.is(":disabled")||(_(),S(),t.preventDefault(),t.stopPropagation())}),A.up.on("mouseout touchleave touchend touchcancel",function(t){F&&(t.stopPropagation(),T())}),A.down.on("mouseout touchleave touchend touchcancel",function(t){F&&(t.stopPropagation(),T())}),A.down.on("mousemove touchmove",function(t){F&&(t.stopPropagation(),t.preventDefault())}),A.up.on("mousemove touchmove",function(t){F&&(t.stopPropagation(),t.preventDefault())}),t(document).on(n(["mouseup","touchend","touchcancel"],i).join(" "),function(t){F&&(t.preventDefault(),T())}),t(document).on(n(["mousemove","touchmove","scroll","scrollstart"],i).join(" "),function(t){F&&(t.preventDefault(),T())}),R.on("mousewheel DOMMouseScroll",function(t){if(M.mousewheel&&R.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),e<0?C():_()}})}function y(){R.on("touchspin.uponce",function(){T(),_()}),R.on("touchspin.downonce",function(){T(),C()}),R.on("touchspin.startupspin",function(){S()}),R.on("touchspin.startdownspin",function(){k()}),R.on("touchspin.stopspin",function(){T()}),R.on("touchspin.updatesettings",function(t,e){l(e)})}function b(t){switch(M.forcestepdivisibility){case"round":return(Math.round(t/M.step)*M.step).toFixed(M.decimals);case"floor":return(Math.floor(t/M.step)*M.step).toFixed(M.decimals);case"ceil":return(Math.ceil(t/M.step)*M.step).toFixed(M.decimals);default:return t}}function w(){var t,e,n;return t=R.val(),""===t?void(""!==M.replacementval&&(R.val(M.replacementval),R.trigger("change"))):void(M.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=""!==M.replacementval?M.replacementval:0),n=e,e.toString()!==t&&(n=e),e<M.min&&(n=M.min),e>M.max&&(n=M.max),n=b(n),Number(t).toString()!==n.toString()&&(R.val(n),R.trigger("change"))))}function x(){if(M.booster){var t=Math.pow(2,Math.floor(z/M.boostat))*M.step;return M.maxboostedstep&&t>M.maxboostedstep&&(t=M.maxboostedstep,E=Math.round(E/t)*t),Math.max(M.step,t)}return M.step}function _(){w(),E=parseFloat(A.input.val()),isNaN(E)&&(E=0);var t=E,e=x();E+=e,E>M.max&&(E=M.max,R.trigger("touchspin.on.max"),T()),A.input.val(Number(E).toFixed(M.decimals)),t!==E&&R.trigger("change")}function C(){w(),E=parseFloat(A.input.val()),isNaN(E)&&(E=0);var t=E,e=x();E-=e,E<M.min&&(E=M.min,R.trigger("touchspin.on.min"),T()),A.input.val(E.toFixed(M.decimals)),t!==E&&R.trigger("change")}function k(){T(),z=0,F="down",R.trigger("touchspin.on.startspin"),R.trigger("touchspin.on.startdownspin"),O=setTimeout(function(){P=setInterval(function(){z++,C()},M.stepinterval)},M.stepintervaldelay)}function S(){T(),z=0,F="up",R.trigger("touchspin.on.startspin"),
R.trigger("touchspin.on.startupspin"),L=setTimeout(function(){I=setInterval(function(){z++,_()},M.stepinterval)},M.stepintervaldelay)}function T(){switch(clearTimeout(O),clearTimeout(L),clearInterval(P),clearInterval(I),F){case"up":R.trigger("touchspin.on.stopupspin"),R.trigger("touchspin.on.stopspin");break;case"down":R.trigger("touchspin.on.stopdownspin"),R.trigger("touchspin.on.stopspin")}z=0,F=!1}var M,D,A,E,P,I,O,L,R=t(this),H=R.data(),z=0,F=!1;s()})}}(i)},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;l=n(49),i=n(11),o=n(13),r=n(82),c=n(99),n(23),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.idAttribute="_id",e.prototype.defaults={date:l(),name:"",muscle:[],note:"",body:!1},e}(i.Model),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["edit","summary"]),this.rootChannel=i.Radio.channel("root"),this.redirect=!1}return u(e,t),e.prototype.template=c,e.prototype.ui={dialog:"#strength-modal-dialog",name:"#strength-modal-name",muscle:"#strength-modal-muscle",body:"#strength-modal-body",submit:"#strength-modal-submit"},e.prototype.bindings={"#strength-modal-name":"name","#strength-modal-note":"note","#strength-modal-muscle":{observe:"muscle",onSet:function(t){return _.map(t,function(t){return parseInt(t)})}}},e.prototype.events={"shown.bs.modal":function(){this.ui.body.prop("checked",this.model.get("body"))},"click @ui.body":function(){this.model.set("body",this.ui.body.is(":checked"))},"click #strength-modal-delete":function(t){t.preventDefault(),this.model.destroy({wait:!0,success:function(t){return function(){t.redirect=!0,t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},submit:function(t){t.preventDefault(),this.model.save({},{success:function(t){return function(){t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"hidden.bs.modal":function(){this.ui.muscle.multiselect("destroy"),this.redirect&&i.Radio.channel("root").request("strengths")}},e.prototype.onRender=function(){this.ui.muscle.multiselect({maxHeight:330,dropRight:!0,buttonWidth:"100%",buttonClass:"btn btn-default"}).multiselect("dataprovider",r.Muscles),this.stickit(),this.ui.dialog.modal()},e.prototype.onBeforeDestroy=function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open")},e}(o.LayoutView),t.exports.Model=s,t.exports.View=a},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div role="dialog" id="strength-modal-dialog" class="modal fade"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close">×</button><h4 class="modal-title">Create a new workout</h4></div><div class="modal-body"><form id="strength-modal-form" class="form-horizontal"><!-- Nav tabs--><ul role="tablist" class="nav nav-tabs"><li role="presentation" class="active"><a href="#strength-modal-basic" aria-controls="basic" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-pencil"></i></a></li><li role="presentation"><a href="#strength-modal-remove" aria-controls="advance" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-trash"></i></a></li></ul><br><!-- Tab panes--><div class="tab-content"><!-- Basic--><div id="strength-modal-basic" role="tabpanel" class="tab-pane active"><div class="form-group"><div class="col-xs-12"><label for="strength-modal-muscle" class="control-label">Muscle</label></div><div class="col-xs-12"><select id="strength-modal-muscle" multiple="multiple" class="form-control"></select></div></div><div class="form-group"><div class="col-xs-12"><label for="strength-modal-name" class="control-label">Name</label></div><div class="col-xs-12"><input id="strength-modal-name" required minlength="1" maxlength="25" class="form-control"><div class="help-block with-errors"></div></div></div><div class="form-group"><div class="col-xs-12"><div class="checkbox"><label><input type="checkbox" id="strength-modal-body">Use body as weights</label></div></div></div><div class="form-group"><div class="col-xs-12"><label for="strength-modal-note" class="control-label">Note</label></div><div class="col-xs-12"><textarea id="strength-modal-note" minlength="1" maxlength="50" class="form-control"></textarea></div></div><hr><div class="form-group"><div class="col-xs-12"><div class="pull-right"><button data-dismiss="modal" type="button" class="btn btn-default btn-lg">Cancel</button>'+i.escape(null==(e=" ")?"":e)+'<button id="strength-modal-submit" type="submit" class="btn btn-primary btn-lg"><i class="fa fa-fw fa-lg fa-save"></i>'+i.escape(null==(e=" ")?"":e)+'<span>save</span></button></div></div></div></div><!-- Remove--><div id="strength-modal-remove" role="tabpanel" class="tab-pane"><br><div class="form-group"><div class="col-xs-12"><button id="strength-modal-delete" type="button" class="btn btn-danger btn-block"><i class="fa fa-fw fa-lg fa-exclamation-circle"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Delete</span></button></div></div></div></div></form></div></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;c=n(3),u=n(49),i=n(11),s=n(16),o=n(13),r=n(101),a=n(103),h=n(107),l=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.mergeOptions(t,["channel","sLogs","sConf","date"])}return d(e,t),e.prototype.template=h,e.prototype.regions={date:"#strength-date-container",table:"#strength-table-container"},e.prototype.onShow=function(){this.showChildView("date",new r({date:this.date,channel:this.channel})),this.showChildView("table",new a({sLogs:this.sLogs,channel:this.channel,date:this.date}))},e}(o.LayoutView),t.exports=l},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=n(49),i=n(13),s=n(102),r=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["date","channel"])}return a(e,t),e.prototype.template=s,e.prototype.ui={date:"#strength-date-datepicker",prev:"#strength-date-prev",next:"#strength-date-next"},e.prototype.events={"click @ui.prev":function(){this.channel.request("change:date",o(this.date).subtract(1,"days"))},"click @ui.next":function(){this.channel.request("change:date",o(this.date).add(1,"days"))},"click @ui.date":function(){this.channel.request("add:workout",this.date)}},e.prototype.onRender=function(){this.ui.date.html(o(this.date).format("dddd MMM DD"))},e}(i.ItemView),t.exports=r},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="input-group"><span class="input-group-btn"><button id="strength-date-prev" class="btn btn-info date-navigate-btn"><i class="fa fa-lg fa-caret-left"></i></button></span><div id="strength-date-datepicker-container"><span id="strength-date-datepicker" style="cursor:pointer"></span></div><span class="input-group-btn"><button id="strength-date-next" class="btn btn-info date-navigate-btn"><i class="fa fa-lg fa-caret-right"></i></button></span></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=n(3),u=n(49),i=n(11),o=n(13),h=n(104),c=n(105),d=n(106),n(88),n(23),s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel")}return p(e,t),e.prototype.tagName="tr",e.prototype.template=h,e}(o.ItemView),r=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return p(e,t),e.prototype.tagName="tr",e.prototype.template=c,e.prototype.bindings={".strength-table-td-time":{observe:"date",onGet:function(t){return u(t).format("h:mm A")}},".strength-table-td-rep":"rep",".strength-table-td-weight":"weight"},e.prototype.events={"click .strength-table-td-remove":function(){this.model.urlRoot="/api/slogs",this.model.destroy({wait:!0})}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(o.ItemView),a=function(t){function e(t){var n;n=t.sLogs.filter(function(e){var n,i;return n=u(e.get("date")).startOf("day"),i=u(t.date).startOf("day"),n.isSame(i)}),e.__super__.constructor.call(this,l.extend({},t,{collection:new i.Collection(n)})),this.mergeOptions(t,["channel","date"])}return p(e,t),e.prototype.childViewContainer="tbody",e.prototype.childView=r,e.prototype.emptyView=s,e.prototype.template=d,e.prototype.childViewOptions=function(){return{channel:this.channel}},e}(o.CompositeView),t.exports=a},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td colspan="4" style="text-align:center;"><span class="lead">No entry on this date.</span></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td style="text-align:center;" class="strength-table-td-remove"><i class="fa fa-fw fa-lg fa-times-circle"></i></td><td class="strength-table-td-time"></td><td class="strength-table-td-rep"></td><td class="strength-table-td-weight"></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><table class="table table-condensed table-hover"><thead><tr><td class="col-xs-1"></td><td><b>Time</b></td><td><b>Reps</b></td><td><b>Weight(lb)</b></td></tr></thead><tbody></tbody></table></div></div>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="strength-date-container"></div><div id="strength-table-container"></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m=function(t,e){function n(){this.constructor=t}for(var i in e)v.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},v={}.hasOwnProperty;l=n(3),h=n(49),i=n(11),s=n(13),r=n(109),o=n(5),g=n(110),c=function(t,e){var n,r;return r=[],n=[],e.each(function(t){var e;return e=h(t.get("date")).valueOf(),r.push({id:e,x:e,y:t.get("weight")}),n.push({id:e,x:e,y:t.get("rep")})}),new i.Model({exerciseID:t.id,name:t.get("name"),weightData:l.sortBy(r,function(t){return t.x}),repData:l.sortBy(n,function(t){return t.x}),muscle:t.get("muscle"),user:t.get("user")})},p=function(t,e,n){var i,r;return r={type:n,yAxis:0,shadow:!0},0===e?(i="#00ffa4",l.assign(r,{name:"Reps",data:t.get("repData"),color:i,lineColor:i,marker:{enabled:!0,fillColor:i,radius:6}})):(i="#FE7935",l.assign(r,{name:"Weights",data:t.get("weightData"),tooltip:{valueSuffix:" lb"},color:i,lineColor:i,marker:{enabled:!0,fillColor:i,radius:6}}))},u=function(t){return l.mean(l.map(t,function(t){return t.y}))},d=function(t,e){return{value:e,width:2,color:"red",dashStyle:"shortdash",zIndex:5,label:{text:"",float:!0,align:"left",x:5,style:{fontWeight:"bold",color:"grey"}}}},f=function(t){var e;e=this.chart,"syncExtremes"!==t.trigger&&r.each(r.charts,function(n){n!==e&&n.xAxis[0].setExtremes&&n.xAxis[0].setExtremes(t.min,t.max,void 0,!1,{trigger:"syncExtremes"})})},a=function(t){function e(t){e.__super__.constructor.call(this,l.extend({},t,{model:c(t.sConf,t.sLogs)})),this.rootChannel=i.Radio.channel("root"),this.charts=[]}return m(e,t),e.prototype.template=g,e.prototype.ui={container:"#strength-log-graph-container",chartWeight:"#strength-log-graph-weight",chartRep:"#strength-log-graph-rep"},e.prototype.addChart=function(t,e,n){var i,r,s,a,c;a=e.get("name"),c=0===n?"Reps":"Weights",r=0===n?this.model.get("repData"):this.model.get("weightData"),i=new o.StockChart({chart:{renderTo:t,height:180,spacingBottom:5,spacingTop:0,spacingLeft:-10,spacingRight:10,plotBorderColor:"#b2b2b2",plotBorderWidth:2,panning:!1},title:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{lineWidth:2,crosshair:!0,events:{setExtremes:f}},yAxis:[{lineWidth:1,opposite:!1,crosshair:!0,title:{text:c,style:{fontWeight:"bold",fontSize:14},x:5},min:this.min(r),max:this.max(r)}],plotOptions:{column:{dataLabels:{enabled:!0,color:"gray"}}},tooltip:{shared:!1,style:{fontSize:"15px",fontWeight:"bold"},valueDecimals:0},series:[p(e,n,"column"),p(e,n,"line")],credits:{enabled:!1}}),r=0===n?e.get("repData"):e.get("weightData"),s=l.round(u(r),1),i.yAxis[0].addPlotLine(d("Average: "+s,s)),i.reflow(),this.charts.push(i)},e.prototype.onShow=function(){this.addChart(this.ui.chartRep[0],this.model,0),this.addChart(this.ui.chartWeight[0],this.model,1),this.ui.container.bind("mousemove touchmove touchstart",function(t){return function(e){var n,i,r,o,s,a,l,c,u,h;for(n=void 0,c=void 0,i=void 0,u=t.charts,o=r=0,a=u.length;r<a;o=++r)if(n=u[o],n=t.charts[o],i=n.pointer.normalize(e.originalEvent),c=n.series[0].searchPoint(i,!0))for(h=t.charts,s=0,l=h.length;s<l;s++)n=h[s],c=n.get(c.x),n.xAxis[0].drawCrosshair(i,c),n.tooltip.refresh(c,e)}}(this))},e.prototype.min=function(t){return l.min(l.map(t,function(t){return t.y}))},e.prototype.max=function(t){return l.max(l.map(t,function(t){return t.y}))},e}(s.ItemView),t.exports=a},function(t,e){!function(e,n){"object"==typeof t&&t.exports?t.exports=e.document?n(e):n:e.Highcharts=n(e)}("undefined"!=typeof window?window:this,function(t){function e(e,n){var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(n)throw new Error(i);t.console&&console.log(i)}function n(t,e,n){this.options=e,this.elem=t,this.prop=n}function i(){var t,e,n=arguments,i={},r=function(t,e){var n,i;"object"!=typeof t&&(t={});for(i in e)e.hasOwnProperty(i)&&(n=e[i],n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?t[i]=r(t[i]||{},n):t[i]=e[i]);return t};for(n[0]===!0&&(i=n[1],n=Array.prototype.slice.call(n,2)),e=n.length,t=0;t<e;t++)i=r(i,n[t]);return i}function r(t,e){return parseInt(t,e||10)}function o(t){return"string"==typeof t}function s(t){return t&&"object"==typeof t}function a(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(t,e){for(var n=t.length;n--;)if(t[n]===e){t.splice(n,1);break}}function c(t){return t!==N&&null!==t}function u(t,e,n){var i,r;if(o(e))c(n)?t.setAttribute(e,n):t&&t.getAttribute&&(r=t.getAttribute(e));else if(c(e)&&s(e))for(i in e)t.setAttribute(i,e[i]);return r}function h(t){return a(t)?t:[t]}function d(t,e,n){return e?setTimeout(t,e,n):void t.call(0,n)}function p(t,e){Tt&&!It&&e&&e.opacity!==N&&(e.filter="alpha(opacity="+100*e.opacity+")"),ve(t.style,e)}function f(t,e,n,i,r){var o=dt.createElement(t);return e&&ve(o,e),r&&p(o,{padding:0,border:"none",margin:0}),n&&p(o,n),i&&i.appendChild(o),o}function g(t,e){var n=function(){};return n.prototype=new t,ve(n.prototype,e),n}function m(t,e,n){return new Array((e||2)+1-String(t).length).join(n||0)+t}function v(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)}function y(t){return 6e4*(K&&K(t)||Z||0)}function b(t,e){var n,i=/f$/,r=/\.([0-9])/,o=q.lang;return i.test(t)?(n=t.match(r),n=n?n[1]:-1,null!==e&&(e=ht.numberFormat(e,n,o.decimalPoint,t.indexOf(",")>-1?o.thousandsSep:""))):e=Y(t,e),e}function w(t,e){for(var n,i,r,o,s,a,l,c="{",u=!1,h=[];(l=t.indexOf(c))!==-1;){if(n=t.slice(0,l),u){for(i=n.split(":"),r=i.shift().split("."),s=r.length,a=e,o=0;o<s;o++)a=a[r[o]];i.length&&(a=b(i.join(":"),a)),h.push(a)}else h.push(n);t=t.slice(l+1),u=!u,c=u?"}":"{"}return h.push(t),h.join("")}function x(t){return pt.pow(10,gt(pt.log(t)/pt.LN10))}function _(t,e,n,i,r){var o,s,a=t;for(n=be(n,1),o=t/n,e||(e=[1,2,2.5,5,10],i===!1&&(1===n?e=[1,2,5,10]:n<=.1&&(e=[1/n]))),s=0;s<e.length&&(a=e[s],!(r&&a*n>=t||!r&&o<=(e[s]+(e[s+1]||e[s]))/2));s++);return a*=n}function C(t,e){var n,i,r=t.length;for(i=0;i<r;i++)t[i].safeI=i;for(t.sort(function(t,i){return n=e(t,i),0===n?t.safeI-i.safeI:n}),i=0;i<r;i++)delete t[i].safeI}function k(t){for(var e=t.length,n=t[0];e--;)t[e]<n&&(n=t[e]);return n}function S(t){for(var e=t.length,n=t[0];e--;)t[e]>n&&(n=t[e]);return n}function T(t,e){var n;for(n in t)t[n]&&t[n]!==e&&t[n].destroy&&t[n].destroy(),delete t[n]}function M(t){V||(V=f(Vt)),t&&V.appendChild(t),V.innerHTML=""}function D(t,e){return parseFloat(t.toPrecision(e||14))}function A(t,e){e.renderer.globalAnimation=be(t,e.animation)}function E(t){return s(t)?i(t):{duration:t?500:0}}function P(){var e=q.global,n=e.useUTC,i=n?"getUTC":"get",r=n?"setUTC":"set";G=e.Date||t.Date,Z=n&&e.timezoneOffset,K=n&&e.getTimezoneOffset,X=function(t,e,i,r,o,s){var a;return n?(a=G.UTC.apply(0,arguments),a+=y(a)):a=new G(t,e,be(i,1),be(r,0),be(o,0),be(s,0)).getTime(),a},J=i+"Minutes",Q=i+"Hours",tt=i+"Day",et=i+"Date",nt=i+"Month",it=i+"FullYear",rt=r+"Milliseconds",ot=r+"Seconds",st=r+"Minutes",at=r+"Hours",lt=r+"Date",ct=r+"Month",ut=r+"FullYear"}function I(t){return q=i(!0,q,t),P(),q}function O(){return q}function L(t){return this instanceof L?void this.init(t):new L(t)}function R(){}function H(t,e){var n=dt.getElementsByTagName("head")[0],i=dt.createElement("script");i.type="text/javascript",i.src=t,i.onload=e,n.appendChild(i)}function z(t,e,n,i){this.axis=t,this.pos=e,this.type=n||"",this.isNew=!0,n||i||this.addLabel()}function F(t,e,n,i,r){var o=t.chart.inverted;this.axis=t,this.isNegative=n,this.options=e,this.x=i,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(o?n?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":n?"bottom":"top"),y:be(e.y,o?4:n?14:-6),x:be(e.x,o?n?-6:6:0)},this.textAlign=e.textAlign||(o?n?"right":"left":"center")}var N,B,W,V,q,Y,j,$,U,G,X,Z,K,J,Q,tt,et,nt,it,rt,ot,st,at,lt,ct,ut,ht,dt=t.document,pt=Math,ft=pt.round,gt=pt.floor,mt=pt.ceil,vt=pt.max,yt=pt.min,bt=pt.abs,wt=pt.cos,xt=pt.sin,_t=pt.PI,Ct=2*_t/360,kt=t.navigator&&t.navigator.userAgent||"",St=t.opera,Tt=/(msie|trident|edge)/i.test(kt)&&!St,Mt=dt&&8===dt.documentMode,Dt=!Tt&&/AppleWebKit/.test(kt),At=/Firefox/.test(kt),Et=/(Mobile|Android|Windows Phone)/.test(kt),Pt="http://www.w3.org/2000/svg",It=dt&&dt.createElementNS&&!!dt.createElementNS(Pt,"svg").createSVGRect,Ot=At&&parseInt(kt.split("Firefox/")[1],10)<4,Lt=dt&&!It&&!Tt&&!!dt.createElement("canvas").getContext,Rt={},Ht=0,zt=function(){},Ft=[],Nt=0,Bt="Highcharts",Wt="4.2.5",Vt="div",qt="absolute",Yt="relative",jt="hidden",$t="highcharts-",Ut="visible",Gt="px",Xt="none",Zt="M",Kt="L",Jt=/^[0-9]+$/,Qt="",te="hover",ee="select",ne=["plotTop","marginRight","marginBottom","plotLeft"],ie="stroke-width",re={};ht=t.Highcharts?e(16,!0):{win:t},ht.seriesTypes=re;var oe,se,ae,le,ce,ue,he,de,pe,fe,ge,me=[];n.prototype={dSetter:function(){var t,e=this.paths[0],n=this.paths[1],i=[],r=this.now,o=e.length;if(1===r)i=this.toD;else if(o===n.length&&r<1)for(;o--;)t=parseFloat(e[o]),i[o]=isNaN(t)?e[o]:r*parseFloat(n[o]-t)+t;else i=n;this.elem.attr("d",i)},update:function(){var t=this.elem,e=this.prop,n=this.now,i=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,n):t.style[e]=n+this.unit,i&&i.call(t,n,this)},run:function(t,e,n){var i,r=this,o=function(t){return!o.stopped&&r.step(t)};this.startTime=+new G,this.start=t,this.end=e,this.unit=n,this.now=this.start,this.pos=0,o.elem=this.elem,o()&&1===me.push(o)&&(o.timerId=setInterval(function(){for(i=0;i<me.length;i++)me[i]()||me.splice(i--,1);me.length||clearInterval(o.timerId)},13))},step:function(t){var e,n,i,r=+new G,o=this.options,s=this.elem,a=o.complete,l=o.duration,c=o.curAnim;if(s.attr&&!s.element)e=!1;else if(t||r>=l+this.startTime){this.now=this.end,this.pos=1,this.update(),c[this.prop]=!0,n=!0;for(i in c)c[i]!==!0&&(n=!1);n&&a&&a.call(s),e=!1}else this.pos=o.easing((r-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(t,e,n){e=e||"";var i,r,o,s=t.shift,a=e.indexOf("C")>-1,l=a?7:3,c=e.split(" "),u=[].concat(n),h=t.isArea,d=h?2:1,p=function(t){for(o=t.length;o--;)t[o]!==Zt&&t[o]!==Kt||t.splice(o+1,0,t[o+1],t[o+2],t[o+1],t[o+2])};if(a&&(p(c),p(u)),s<=u.length/l&&c.length===u.length)for(;s--;)u=u.slice(0,l).concat(u),h&&(u=u.concat(u.slice(u.length-l)));if(t.shift=0,c.length)for(i=u.length;c.length<i;)r=c.slice().splice(c.length/d-l,l*d),a&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),[].splice.apply(c,[c.length/d,0].concat(r));return[c,u]}};var ve=ht.extend=function(t,e){var n;t||(t={});for(n in e)t[n]=e[n];return t},ye=ht.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},be=ht.pick=function(){var t,e,n=arguments,i=n.length;for(t=0;t<i;t++)if(e=n[t],e!==N&&null!==e)return e},we=ht.wrap=function(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(i),n.apply(this,t)}};Y=function(t,e,n){if(!ye(e))return q.lang.invalidDate||"";t=be(t,"%Y-%m-%d %H:%M:%S");var i,r=new G(e-y(e)),o=r[Q](),s=r[tt](),a=r[et](),l=r[nt](),c=r[it](),u=q.lang,h=u.weekdays,d=u.shortWeekdays,p=ve({a:d?d[s]:h[s].substr(0,3),A:h[s],d:m(a),e:m(a,2," "),w:s,b:u.shortMonths[l],B:u.months[l],m:m(l+1),y:c.toString().substr(2,2),Y:c,H:m(o),k:o,I:m(o%12||12),l:o%12||12,M:m(r[J]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:m(r.getSeconds()),L:m(ft(e%1e3),3)},ht.dateFormats);for(i in p)for(;t.indexOf("%"+i)!==-1;)t=t.replace("%"+i,"function"==typeof p[i]?p[i](e):p[i]);return n?t.substr(0,1).toUpperCase()+t.substr(1):t},$={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ht.numberFormat=function(t,e,n,i){t=+t||0,e=+e;var o,s,a,l,c=q.lang,u=(t.toString().split(".")[1]||"").length,h=Math.abs(t);return e===-1?e=Math.min(u,20):ye(e)||(e=2),s=String(r(h.toFixed(e))),a=s.length>3?s.length%3:0,n=be(n,c.decimalPoint),i=be(i,c.thousandsSep),l=t<0?"-":"",l+=a?s.substr(0,a)+i:"",l+=s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i),e&&(o=Math.abs(h-s+Math.pow(10,-Math.max(e,u)-1)),l+=n+o.toFixed(e).slice(2)),l},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},oe=function(e,n){var i;return"width"===n?Math.min(e.offsetWidth,e.scrollWidth)-oe(e,"padding-left")-oe(e,"padding-right"):"height"===n?Math.min(e.offsetHeight,e.scrollHeight)-oe(e,"padding-top")-oe(e,"padding-bottom"):(i=t.getComputedStyle(e,void 0),i&&r(i.getPropertyValue(n)))},se=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},le=function(t,e){return[].filter.call(t,e)},ue=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)n[i]=e.call(t[i],t[i],i,t);return n},ce=function(e){var n=dt.documentElement,i=e.getBoundingClientRect();return{top:i.top+(t.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(t.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},ge=function(t){for(var e=me.length;e--;)me[e].elem===t&&(me[e].stopped=!0)},ae=function(t,e){return Array.prototype.forEach.call(t,e)},he=function(e,n,i){function r(n){n.target=n.srcElement||t,i.call(e,n)}var o=e.hcEvents=e.hcEvents||{};e.addEventListener?e.addEventListener(n,i,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[i.toString()]=r,e.attachEvent("on"+n,r)),o[n]||(o[n]=[]),o[n].push(i)},de=function(t,e,n){function i(e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&(n=t.hcEventsIE[n.toString()],t.detachEvent("on"+e,n))}function r(){var n,r,o;if(t.nodeName){e?(n={},n[e]=!0):n=a;for(o in n)if(a[o])for(r=a[o].length;r--;)i(o,a[o][r])}}var o,s,a=t.hcEvents;a&&(e?(o=a[e]||[],n?(s=se(n,o),s>-1&&(o.splice(s,1),a[e]=o),i(e,n)):(r(),a[e]=[])):(r(),t.hcEvents={}))},pe=function(t,e,n,i){var r,o,s,a,l,c=t.hcEvents;if(n=n||{},dt.createEvent&&(t.dispatchEvent||t.fireEvent))r=dt.createEvent("Events"),r.initEvent(e,!0,!0),r.target=t,ve(r,n),t.dispatchEvent?t.dispatchEvent(r):t.fireEvent(e,r);else if(c)for(o=c[e]||[],s=o.length,n.preventDefault||(n.preventDefault=function(){n.defaultPrevented=!0}),n.target=t,n.type||(n.type=e),a=0;a<s;a++)l=o[a],l.call(t,n)===!1&&n.preventDefault();i&&!n.defaultPrevented&&i(n)},fe=function(t,e,r){var o,a,l,c,u,h="";s(r)||(c=arguments,r={duration:c[2],easing:c[3],complete:c[4]}),ye(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=i(e);for(u in e)l=new n(t,r,u),a=null,"d"===u?(l.paths=l.initPath(t,t.d,e.d),l.toD=e.d,o=0,a=1):t.attr?o=t.attr(u):(o=parseFloat(oe(t,u))||0,"opacity"!==u&&(h="px")),a||(a=e[u]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),l.run(o,a,h)},t.jQuery&&(t.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(ht[o(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):Ft[u(this[0],"data-highcharts-chart")]}),dt&&!dt.defaultView&&(oe=function(t,e){var n,i={width:"clientWidth",height:"clientHeight"}[e];return t.style[e]?r(t.style[e]):("opacity"===e&&(e="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*oe(t,"padding"),0)):(n=t.currentStyle[e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===e&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===n?1:r(n)))}),Array.prototype.forEach||(ae=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e.call(t[n],t[n],n,t)===!1)return n}),Array.prototype.indexOf||(se=function(t,e){var n,i=0;if(e)for(n=e.length;i<n;i++)if(e[i]===t)return i;return-1}),Array.prototype.filter||(le=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)e(t[i],i)&&n.push(t[i]);return n}),ht.Fx=n,ht.inArray=se,ht.each=ae,ht.grep=le,ht.offset=ce,ht.map=ue,ht.addEvent=he,ht.removeEvent=de,ht.fireEvent=pe,ht.animate=fe,ht.animObject=E,ht.stop=ge,q={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.2.5/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":ht.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:qt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:qt,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:Yt,top:"45%"},style:{position:qt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:It,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:Et?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var xe=q.plotOptions,_e=xe.line;P(),L.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[r(t[1],16),r(t[2],16),r(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[r(t[1]),r(t[2]),r(t[3]),1]}}],init:function(t){var e,n,i,r;if(this.input=t,t&&t.stops)this.stops=ue(t.stops,function(t){return new L(t[1])});else for(i=this.parsers.length;i--&&!n;)r=this.parsers[i],e=r.regex.exec(t),e&&(n=r.parse(e));this.rgba=n||[]},get:function(t){var e,n=this.input,r=this.rgba;return this.stops?(e=i(n),e.stops=[].concat(e.stops),ae(this.stops,function(n,i){e.stops[i]=[e.stops[i][0],n.get(t)]})):e=r&&ye(r[0])?"rgb"===t||!t&&1===r[3]?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===t?r[3]:"rgba("+r.join(",")+")":n,e},brighten:function(t){var e,n=this.rgba;if(this.stops)ae(this.stops,function(e){e.brighten(t)});else if(ye(t)&&0!==t)for(e=0;e<3;e++)n[e]+=r(255*t),n[e]<0&&(n[e]=0),n[e]>255&&(n[e]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},R.prototype={opacity:1,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textShadow"],init:function(t,e){var n=this;n.element="span"===e?f(e):dt.createElementNS(Pt,e),n.renderer=t},animate:function(t,e,n){var i=be(e,this.renderer.globalAnimation,!0);return ge(this),i?(n&&(i.complete=n),fe(this,t,i)):this.attr(t,null,n),this},colorGradient:function(t,e,n){var r,o,s,l,u,h,d,p,f,g,m,v,y,b=this.renderer,w=[];if(t.linearGradient?o="linearGradient":t.radialGradient&&(o="radialGradient"),o){s=t[o],u=b.gradients,d=t.stops,g=n.radialReference,a(s)&&(t[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(s.gradientUnits)&&(l=s,s=i(s,b.getRadialAttr(g,l),{gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&w.push(m,s[m]);for(m in d)w.push(d[m]);w=w.join(","),u[w]?v=u[w].attr("id"):(s.id=v=$t+Ht++,u[w]=h=b.createElement(o).attr(s).add(b.defs),h.radAttr=l,h.stops=[],ae(d,function(t){var e;0===t[1].indexOf("rgba")?(r=L(t[1]),p=r.get("rgb"),f=r.get("a")):(p=t[1],f=1),e=b.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(h),h.stops.push(e)})),y="url("+b.url+"#"+v+")",n.setAttribute(e,y),n.gradient=w,t.toString=function(){return y}}},applyTextShadow:function(t){var e,n=this.element,i=t.indexOf("contrast")!==-1,o={},s=this.renderer.forExport,a=s||n.style.textShadow!==N&&!Tt;i&&(o.textShadow=t=t.replace(/contrast/g,this.renderer.getContrast(n.style.fill))),(Dt||s)&&(o.textRendering="geometricPrecision"),
a?this.css(o):(this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(n.getElementsByTagName("tspan")),ae(t.split(/\s?,\s?/g),function(t){var i,o,s=n.firstChild;t=t.split(" "),i=t[t.length-1],o=t[t.length-2],o&&ae(e,function(t,e){var a;0===e&&(t.setAttribute("x",n.getAttribute("x")),e=n.getAttribute("y"),t.setAttribute("y",e||0),null===e&&n.setAttribute("y",0)),a=t.cloneNode(1),u(a,{class:$t+"text-shadow",fill:i,stroke:i,"stroke-opacity":1/vt(r(o),3),"stroke-width":o,"stroke-linejoin":"round"}),n.insertBefore(a,s)})}))},attr:function(t,e,n){var i,r,o,s,a,l=this.element,c=this;if("string"==typeof t&&e!==N&&(i=t,t={},t[i]=e),"string"==typeof t)c=(this[t+"Getter"]||this._defaultGetter).call(this,t,l);else{for(i in t)r=t[i],s=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(i)&&(o||(this.symbolAttr(t),o=!0),s=!0),!this.rotation||"x"!==i&&"y"!==i||(this.doTransform=!0),s||(a=this[i+"Setter"]||this._defaultSetter,a.call(this,r,i,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(i)&&this.updateShadows(i,r,a));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return n&&n(),c},updateShadows:function(t,e,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===t?Math.max(e-(i[r].cutHeight||0),0):"d"===t?this.d:e,t,i[r])},addClass:function(t){var e=this.element,n=u(e,"class")||"";return n.indexOf(t)===-1&&u(e,"class",n+" "+t),this},symbolAttr:function(t){var e=this;ae(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){e[n]=be(t[n],e[n])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":Xt)},crisp:function(t){var e,n,i=this,r={},o=i.strokeWidth||0;n=ft(o)%2/2,t.x=gt(t.x||i.x||0)+n,t.y=gt(t.y||i.y||0)+n,t.width=gt((t.width||i.width||0)-2*n),t.height=gt((t.height||i.height||0)-2*n),t.strokeWidth=o;for(e in t)i[e]!==t[e]&&(i[e]=r[e]=t[e]);return r},css:function(t){var e,n,i,o=this,s=o.styles,a={},l=o.element,c="",h=!s;if(t&&t.color&&(t.fill=t.color),s)for(n in t)t[n]!==s[n]&&(a[n]=t[n],h=!0);if(h){if(e=o.textWidth=t&&t.width&&"text"===l.nodeName.toLowerCase()&&r(t.width)||o.textWidth,s&&(t=ve(s,a)),o.styles=t,e&&(Lt||!It&&o.renderer.forExport)&&delete t.width,Tt&&!It)p(o.element,t);else{i=function(t,e){return"-"+e.toLowerCase()};for(n in t)c+=n.replace(/([A-Z])/g,i)+":"+t[n]+";";u(l,"style",c)}e&&o.added&&o.renderer.buildText(o)}return o},on:function(t,e){var n=this,i=n.element;return W&&"click"===t?(i.ontouchstart=function(t){n.touchEventFired=G.now(),t.preventDefault(),e.call(i,t)},i.onclick=function(t){(kt.indexOf("Android")===-1||G.now()-(n.touchEventFired||0)>1100)&&e.call(i,t)}):i["on"+t]=e,this},setRadialReference:function(t){var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(){var t=this;return t.inverted=!0,t.updateTransform(),t},updateTransform:function(){var t,e=this,n=e.translateX||0,i=e.translateY||0,r=e.scaleX,o=e.scaleY,s=e.inverted,a=e.rotation,l=e.element;s&&(n+=e.attr("width"),i+=e.attr("height")),t=["translate("+n+","+i+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(c(r)||c(o))&&t.push("scale("+be(r,1)+" "+be(o,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,n){var i,r,s,a,c,u={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,n&&!o(n)||(this.alignTo=c=n||"renderer",l(d,this),d.push(this),n=null)):(t=this.alignOptions,e=this.alignByTranslate,c=this.alignTo),n=be(n,h[c],h),i=t.align,r=t.verticalAlign,s=(n.x||0)+(t.x||0),a=(n.y||0)+(t.y||0),"right"!==i&&"center"!==i||(s+=(n.width-(t.width||0))/{right:1,center:2}[i]),u[e?"translateX":"x"]=ft(s),"bottom"!==r&&"middle"!==r||(a+=(n.height-(t.height||0))/({bottom:1,middle:2}[r]||1)),u[e?"translateY":"y"]=ft(a),this[this.placed?"animate":"attr"](u),this.placed=!0,this.alignAttr=u,this},getBBox:function(t,e){var n,i,r,o,s,a,l,c,u=this,h=u.renderer,d=u.element,p=u.styles,f=u.textStr,g=d.style,m=h.cache,v=h.cacheKeys;if(o=be(e,u.rotation),s=o*Ct,f!==N&&(c=["",o||0,p&&p.fontSize,d.style.width].join(","),c=""===f||Jt.test(f)?"num:"+f.toString().length+c:f+c),c&&!t&&(n=m[c]),!n){if(d.namespaceURI===Pt||h.forExport){try{l=this.fakeTS&&function(t){ae(d.querySelectorAll("."+$t+"text-shadow"),function(e){e.style.display=t})},At&&g.textShadow?(a=g.textShadow,g.textShadow=""):l&&l(Xt),n=d.getBBox?ve({},d.getBBox()):{width:d.offsetWidth,height:d.offsetHeight},a?g.textShadow=a:l&&l("")}catch(t){}(!n||n.width<0)&&(n={width:0,height:0})}else n=u.htmlGetBBox();if(h.isSVG&&(i=n.width,r=n.height,Tt&&p&&"11px"===p.fontSize&&"16.9"===r.toPrecision(3)&&(n.height=r=14),o&&(n.width=bt(r*xt(s))+bt(i*wt(s)),n.height=bt(r*wt(s))+bt(i*xt(s)))),c){for(;v.length>250;)delete m[v.shift()];m[c]||v.push(c),m[c]=n}}return n},show:function(t){return this.attr({visibility:t?"inherit":Ut})},hide:function(){return this.attr({visibility:jt})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,n=this.renderer,i=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,n,i=this,r=i.element||{},o=i.shadows,s=i.renderer.isSVG&&"SPAN"===r.nodeName&&i.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,ge(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(n=0;n<i.stops.length;n++)i.stops[n]=i.stops[n].destroy();i.stops=null}for(i.safeRemoveChild(r),o&&ae(o,function(t){i.safeRemoveChild(t)});s&&s.div&&0===s.div.childNodes.length;)t=s.parentGroup,i.safeRemoveChild(s.div),delete s.div,s=t;i.alignTo&&l(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},shadow:function(t,e,n){var i,r,o,s,a,l,c=[],h=this.element;if(t){for(s=be(t.width,3),a=(t.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+be(t.offsetX,1)+", "+be(t.offsetY,1)+")",i=1;i<=s;i++)r=h.cloneNode(0),o=2*s+1-2*i,u(r,{isShadow:"true",stroke:t.color||"black","stroke-opacity":a*i,"stroke-width":o,transform:"translate"+l,fill:Xt}),n&&(u(r,"height",vt(u(r,"height")-o,0)),r.cutHeight=o),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}return this},xGetter:function(t){return"circle"===this.element.nodeName&&(t={x:"cx",y:"cy"}[t]||t),this._defaultGetter(t)},_defaultGetter:function(t){var e=be(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,n){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),n.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,n=this["stroke-width"];if("inherit"===n&&(n=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=r(t[e])*n;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[t])},opacitySetter:function(t,e,n){this[e]=t,n.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=dt.createElementNS(Pt,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(dt.createTextNode(String(be(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,n){"string"==typeof t?n.setAttribute(e,t):t&&this.colorGradient(t,e,n)},visibilitySetter:function(t,e,n){"inherit"===t?n.removeAttribute(e):n.setAttribute(e,t)},zIndexSetter:function(t,e){var n,i,o,s,a,l=this.renderer,u=this.parentGroup,h=u||l,d=h.element||l.box,p=this.element,f=this.added;if(c(t)&&(p.zIndex=t,t=+t,this[e]===t&&(f=!1),this[e]=t),f){for(t=this.zIndex,t&&u&&(u.handleZ=!0),n=d.childNodes,a=0;a<n.length&&!s;a++)i=n[a],o=i.zIndex,i!==p&&(r(o)>t||!c(t)&&c(o))&&(d.insertBefore(p,i),s=!0);s||d.appendChild(p)}return s},_defaultSetter:function(t,e,n){n.setAttribute(e,t)}},R.prototype.yGetter=R.prototype.xGetter,R.prototype.translateXSetter=R.prototype.translateYSetter=R.prototype.rotationSetter=R.prototype.verticalAlignSetter=R.prototype.scaleXSetter=R.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},R.prototype["stroke-widthSetter"]=R.prototype.strokeSetter=function(t,e,n){this[e]=t,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],R.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===e&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var Ce=function(){this.init.apply(this,arguments)};Ce.prototype={Element:R,init:function(e,n,i,r,o,s){var a,l,c,h=this;a=h.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r)),l=a.element,e.appendChild(l),e.innerHTML.indexOf("xmlns")===-1&&u(l,"xmlns",Pt),h.isSVG=!0,h.box=l,h.boxWrapper=a,h.alignedObjects=[],h.url=(At||Dt)&&dt.getElementsByTagName("base").length?t.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",c=this.createElement("desc").add(),c.element.appendChild(dt.createTextNode("Created with "+Bt+" "+Wt)),h.defs=this.createElement("defs").add(),h.allowHTML=s,h.forExport=o,h.gradients={},h.cache={},h.cacheKeys=[],h.imgCount=0,h.setSize(n,i,!1);var d,f;At&&e.getBoundingClientRect&&(h.subPixelFix=d=function(){p(e,{left:0,top:0}),f=e.getBoundingClientRect(),p(e,{left:mt(f.left)-f.left+Gt,top:mt(f.top)-f.top+Gt})},d(),he(t,"resize",d))},getStyle:function(t){return this.style=ve({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,n=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),T(e.gradients||{}),e.gradients=null,n&&(e.defs=n.destroy()),e.subPixelFix&&de(t,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:function(){},getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,n,i,o,s=t.element,a=this,l=a.forExport,c=be(t.textStr,"").toString(),h=c.indexOf("<")!==-1,d=s.childNodes,f=u(s,"x"),g=t.styles,m=t.textWidth,v=g&&g.lineHeight,y=g&&g.textShadow,b=g&&"ellipsis"===g.textOverflow,w=d.length,x=m&&!t.added&&this.box,_=function(t){return v?r(v):a.fontMetrics(/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:g&&g.fontSize||a.style.fontSize||12,t).h},C=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};w--;)s.removeChild(d[w]);h||y||b||c.indexOf(" ")!==-1?(n=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,x&&x.appendChild(s),e=h?c.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[c],e=le(e,function(t){return""!==t}),ae(e,function(e,r){var c,h=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),c=e.split("|||"),ae(c,function(e){if(""!==e||1===c.length){var d,v={},y=dt.createElementNS(Pt,"tspan");if(n.test(e)&&(d=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),u(y,"style",d)),i.test(e)&&!l&&(u(y,"onclick",'location.href="'+e.match(i)[1]+'"'),p(y,{cursor:"pointer"})),e=C(e.replace(/<(.|\n)*?>/g,"")||" ")," "!==e){if(y.appendChild(dt.createTextNode(e)),h?v.dx=0:r&&null!==f&&(v.x=f),u(y,v),s.appendChild(y),!h&&r&&(!It&&l&&p(y,{display:"block"}),u(y,"dy",_(y))),m){for(var w,x,k,S=e.replace(/([^\^])-/g,"$1- ").split(" "),T=c.length>1||r||S.length>1&&"nowrap"!==g.whiteSpace,M=[],D=_(y),A=1,E=t.rotation,P=e,I=P.length;(T||b)&&(S.length||M.length);)t.rotation=0,k=t.getBBox(!0),x=k.width,!It&&a.forExport&&(x=a.measureSpanWidth(y.firstChild.data,t.styles)),w=x>m,void 0===o&&(o=w),b&&o?(I/=2,""===P||!w&&I<.5?S=[]:(P=e.substring(0,P.length+(w?-1:1)*mt(I)),S=[P+(m>3?"…":"")],y.removeChild(y.firstChild))):w&&1!==S.length?(y.removeChild(y.firstChild),M.unshift(S.pop())):(S=M,M=[],S.length&&(A++,y=dt.createElementNS(Pt,"tspan"),u(y,{dy:D,x:f}),d&&u(y,"style",d),s.appendChild(y)),x>m&&(m=x)),S.length&&y.appendChild(dt.createTextNode(S.join(" ").replace(/- /g,"-")));t.rotation=E}h++}}})}),o&&t.attr("title",t.textStr),x&&x.removeChild(s),y&&t.applyTextShadow&&t.applyTextShadow(y)):s.appendChild(dt.createTextNode(C(c)))},getContrast:function(t){return t=L(t).rgba,t[0]+t[1]+t[2]>384?"#000000":"#FFFFFF"},button:function(t,e,n,r,o,s,a,l,c){var u,h,d,p,f,g,m=this.label(t,e,n,c,null,null,null,null,"button"),v=0,y={x1:0,y1:0,x2:0,y2:1};return o=i({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:y,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o),d=o.style,delete o.style,s=i(o,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),p=s.style,delete s.style,a=i(o,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},a),f=a.style,delete a.style,l=i(o,{style:{color:"#CCC"}},l),g=l.style,delete l.style,he(m.element,Tt?"mouseover":"mouseenter",function(){3!==v&&m.attr(s).css(p)}),he(m.element,Tt?"mouseout":"mouseleave",function(){3!==v&&(u=[o,s,a][v],h=[d,p,f][v],m.attr(u).css(h))}),m.setState=function(t){m.state=v=t,t?2===t?m.attr(a).css(f):3===t&&m.attr(l).css(g):m.attr(o).css(d)},m.on("click",function(t){3!==v&&r.call(m,t)}).attr(o).css(ve({cursor:"default"},d))},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=ft(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=ft(t[2])+e%2/2),t},path:function(t){var e={fill:Xt};return a(t)?e.d=t:s(t)&&ve(e,t),this.createElement("path").attr(e)},circle:function(t,e,n){var i=s(t)?t:{x:t,y:e,r:n},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,n){n.setAttribute("c"+e,t)},r.attr(i)},arc:function(t,e,n,i,r,o){var a;return s(t)&&(e=t.y,n=t.r,i=t.innerR,r=t.start,o=t.end,t=t.x),a=this.symbol("arc",t||0,e||0,n||0,n||0,{innerR:i||0,start:r||0,end:o||0}),a.r=n,a},rect:function(t,e,n,i,r,o){r=s(t)?t.r:r;var a=this.createElement("rect"),l=s(t)?t:t===N?{}:{x:t,y:e,width:vt(n,0),height:vt(i,0)};return o!==N&&(a.strokeWidth=o,l=a.crisp(l)),r&&(l.r=r),a.rSetter=function(t,e,n){u(n,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,n){var i=this,r=i.alignedObjects,o=r.length;for(i.width=t,i.height=e,i.boxWrapper[be(n,!0)?"animate":"attr"]({width:t,height:e});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return c(t)?e.attr({class:$t+t}):e},image:function(t,e,n,i,r){var o,s={preserveAspectRatio:Xt};return arguments.length>1&&ve(s,{x:e,y:n,width:i,height:r}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,n,i,r,o){var s,a,l,c,u=this,h=this.symbols[t],d=h&&h(ft(e),ft(n),i,r,o),g=/^url\((.*?)\)$/;return d?(s=this.path(d),ve(s,{symbolName:t,x:e,y:n,width:i,height:r}),o&&ve(s,o)):g.test(t)&&(c=function(t,e){t.element&&(t.attr({width:e[0],height:e[1]}),t.alignByTranslate||t.translate(ft((i-e[0])/2),ft((r-e[1])/2)))},a=t.match(g)[1],l=Rt[a]||o&&o.width&&o.height&&[o.width,o.height],s=this.image(a).attr({x:e,y:n}),s.isImg=!0,l?c(s,l):(s.attr({width:0,height:0}),f("img",{onload:function(){0===this.width&&(p(this,{position:qt,top:"-999em"}),dt.body.appendChild(this)),c(s,Rt[a]=[this.width,this.height]),this.parentNode&&this.parentNode.removeChild(this),u.imgCount--,!u.imgCount&&Ft[u.chartIndex].onload&&Ft[u.chartIndex].onload()},src:a}),this.imgCount++)),s},symbols:{circle:function(t,e,n,i){var r=.166*n;return[Zt,t+n/2,e,"C",t+n+r,e,t+n+r,e+i,t+n/2,e+i,"C",t-r,e+i,t-r,e,t+n/2,e,"Z"]},square:function(t,e,n,i){return[Zt,t,e,Kt,t+n,e,t+n,e+i,t,e+i,"Z"]},triangle:function(t,e,n,i){return[Zt,t+n/2,e,Kt,t+n,e+i,t,e+i,"Z"]},"triangle-down":function(t,e,n,i){return[Zt,t,e,Kt,t+n,e,t+n/2,e+i,"Z"]},diamond:function(t,e,n,i){return[Zt,t+n/2,e,Kt,t+n,e+i/2,t+n/2,e+i,t,e+i/2,"Z"]},arc:function(t,e,n,i,r){var o=r.start,s=r.r||n||i,a=r.end-.001,l=r.innerR,c=r.open,u=wt(o),h=xt(o),d=wt(a),p=xt(a),f=r.end-o<_t?0:1;return[Zt,t+s*u,e+s*h,"A",s,s,0,f,1,t+s*d,e+s*p,c?Zt:Kt,t+l*d,e+l*p,"A",l,l,0,f,0,t+l*u,e+l*h,c?"":"Z"]},callout:function(t,e,n,i,r){var o,s=6,a=6,l=yt(r&&r.r||0,n,i),c=l+a,u=r&&r.anchorX,h=r&&r.anchorY;return o=["M",t+l,e,"L",t+n-l,e,"C",t+n,e,t+n,e,t+n,e+l,"L",t+n,e+i-l,"C",t+n,e+i,t+n,e+i,t+n-l,e+i,"L",t+l,e+i,"C",t,e+i,t,e+i,t,e+i-l,"L",t,e+l,"C",t,e,t,e,t+l,e],u&&u>n&&h>e+c&&h<e+i-c?o.splice(13,3,"L",t+n,h-a,t+n+s,h,t+n,h+a,t+n,e+i-l):u&&u<0&&h>e+c&&h<e+i-c?o.splice(33,3,"L",t,h+a,t-s,h,t,h-a,t,e+l):h&&h>i&&u>t+c&&u<t+n-c?o.splice(23,3,"L",u+a,e+i,u,e+i+s,u-a,e+i,t+l,e+i):h&&h<0&&u>t+c&&u<t+n-c&&o.splice(3,3,"L",u-a,e,u,e-s,u+a,e,n-l,e),o}},clipRect:function(t,e,n,i){var r,o=$t+Ht++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return r=this.rect(t,e,n,i,0).add(s),r.id=o,r.clipPath=s,r.count=0,r},text:function(t,e,n,i){var r,o=this,s=Lt||!It&&o.forExport,a={};return!i||!o.allowHTML&&o.forExport?(a.x=Math.round(e||0),n&&(a.y=Math.round(n)),(t||0===t)&&(a.text=t),r=o.createElement("text").attr(a),s&&r.css({position:qt}),i||(r.xSetter=function(t,e,n){var i,r,o=n.getElementsByTagName("tspan"),s=n.getAttribute(e);for(r=0;r<o.length;r++)i=o[r],i.getAttribute(e)===s&&i.setAttribute(e,t);n.setAttribute(e,t)}),r):o.html(t,e,n)},fontMetrics:function(e,n){var i,o,s;return e=e||this.style.fontSize,!e&&n&&t.getComputedStyle&&(n=n.element||n,s=t.getComputedStyle(n,""),e=s&&s.fontSize),e=/px/.test(e)?r(e):/em/.test(e)?12*parseFloat(e):12,i=e<24?e+3:ft(1.2*e),o=ft(.8*i),{h:i,b:o,f:e}},rotCorr:function(t,e,n){var i=t;return e&&n&&(i=vt(i*wt(e*Ct),4)),{x:-t/3*xt(e*Ct),y:i}},label:function(t,e,n,r,o,s,a,l,u){var h,d,p,f,g,m,v,y,b,w,x,_=this,C=_.g(u),k=_.text("",0,0,a).attr({zIndex:1}),S=0,T=3,M=0,D=0,A={};b=function(){var t,e,n=k.element.style;d=(void 0===p||void 0===f||C.styles.textAlign)&&c(k.textStr)&&k.getBBox(),C.width=(p||d.width||0)+2*T+M,C.height=(f||d.height||0)+2*T,v=T+_.fontMetrics(n&&n.fontSize,k).b,y&&(h||(t=D,e=(l?-v:0)+D,C.box=h=r?_.symbol(r,t,e,C.width,C.height,A):_.rect(t,e,C.width,C.height,0,A[ie]),h.isImg||h.attr("fill",Xt),h.add(C)),h.isImg||h.attr(ve({width:ft(C.width),height:ft(C.height)},A)),A=null)},w=function(){var t,e=C.styles,n=e&&e.textAlign,i=M+T;t=l?0:v,c(p)&&d&&("center"===n||"right"===n)&&(i+={center:.5,right:1}[n]*(p-d.width)),i===k.x&&t===k.y||(k.attr("x",i),t!==N&&k.attr("y",t)),k.x=i,k.y=t},x=function(t,e){h?h.attr(t,e):A[t]=e},C.onAdd=function(){k.add(C),C.attr({text:t||0===t?t:"",x:e,y:n}),h&&c(o)&&C.attr({anchorX:o,anchorY:s})},C.widthSetter=function(t){p=t},C.heightSetter=function(t){f=t},C.paddingSetter=function(t){c(t)&&t!==T&&(T=C.padding=t,w())},C.paddingLeftSetter=function(t){c(t)&&t!==M&&(M=t,w())},C.alignSetter=function(t){t={left:0,center:.5,right:1}[t],t!==S&&(S=t,d&&C.attr({x:g}))},C.textSetter=function(t){t!==N&&k.textSetter(t),b(),w()},C["stroke-widthSetter"]=function(t,e){t&&(y=!0),D=t%2/2,x(e,t)},C.strokeSetter=C.fillSetter=C.rSetter=function(t,e){"fill"===e&&t&&(y=!0),x(e,t)},C.anchorXSetter=function(t,e){o=t,x(e,ft(t)-D-g)},C.anchorYSetter=function(t,e){s=t,x(e,t-m)},C.xSetter=function(t){C.x=t,S&&(t-=S*((p||d.width)+2*T)),g=ft(t),C.attr("translateX",g)},C.ySetter=function(t){m=C.y=ft(t),C.attr("translateY",m)};var E=C.css;return ve(C,{css:function(t){if(t){var e={};t=i(t),ae(C.textProps,function(n){t[n]!==N&&(e[n]=t[n],delete t[n])}),k.css(e)}return E.call(C,t)},getBBox:function(){return{width:d.width+2*T,height:d.height+2*T,x:d.x-T,y:d.y-T}},shadow:function(t){return h&&h.shadow(t),C},destroy:function(){de(C.element,"mouseenter"),de(C.element,"mouseleave"),k&&(k=k.destroy()),h&&(h=h.destroy()),R.prototype.destroy.call(C),C=_=b=w=x=null}})}},B=Ce,ve(R.prototype,{htmlCss:function(t){var e=this,n=e.element,i=t&&"SPAN"===n.tagName&&t.width;return i&&(delete t.width,e.textWidth=i,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=ve(e.styles,t),p(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position=qt),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,n=t.element,i=t.translateX||0,o=t.translateY||0,s=t.x||0,a=t.y||0,l=t.textAlign||"left",u={left:0,center:.5,right:1}[l],h=t.shadows,d=t.styles;if(p(n,{marginLeft:i,marginTop:o}),h&&ae(h,function(t){p(t,{marginLeft:i+1,marginTop:o+1})}),t.inverted&&ae(n.childNodes,function(t){e.invertChild(t,n)}),"SPAN"===n.tagName){var f,g=t.rotation,m=r(t.textWidth),v=d&&d.whiteSpace,y=[g,l,n.innerHTML,t.textWidth,t.textAlign].join(",");y!==t.cTT&&(f=e.fontMetrics(n.style.fontSize).b,c(g)&&t.setSpanRotation(g,u,f),n.offsetWidth>m&&/[ \-]/.test(n.textContent||n.innerText)?(p(n,{width:m+Gt,display:"block",whiteSpace:v||"normal"}),t.hasTextWidth=!0):t.hasTextWidth&&(p(n,{width:"",display:"",whiteSpace:v||"nowrap"}),t.hasTextWidth=!1),t.getSpanCorrection(t.hasTextWidth?m:n.offsetWidth,f,u,g,l)),p(n,{left:s+(t.xCorr||0)+Gt,top:a+(t.yCorr||0)+Gt}),Dt&&(f=n.offsetHeight),t.cTT=y}},setSpanRotation:function(t,e,n){var i={},r=Tt?"-ms-transform":Dt?"-webkit-transform":At?"MozTransform":St?"-o-transform":"";i[r]=i.transform="rotate("+t+"deg)",i[r+(At?"Origin":"-origin")]=i.transformOrigin=100*e+"% "+n+"px",p(this.element,i)},getSpanCorrection:function(t,e,n){this.xCorr=-t*n,this.yCorr=-e}}),ve(Ce.prototype,{html:function(t,e,n){var i=this.createElement("span"),r=i.element,o=i.renderer,s=o.isSVG,a=function(t,e){ae(["opacity","visibility"],function(n){we(t,n+"Setter",function(t,n,i,r){t.call(this,n,i,r),e[i]=n})})};return i.textSetter=function(t){t!==r.innerHTML&&delete this.bBox,r.innerHTML=this.textStr=t,i.htmlUpdateTransform()},s&&a(i,i.element.style),i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),i[e]=t,i.htmlUpdateTransform()},i.attr({text:t,x:ft(e),y:ft(n)}).css({position:qt,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),r.style.whiteSpace="nowrap",i.css=i.htmlCss,s&&(i.add=function(t){var e,n,s=o.box.parentNode,l=[];if(this.parentGroup=t,t){if(e=t.div,!e){for(n=t;n;)l.push(n),n=n.parentGroup;ae(l.reverse(),function(t){var n,i=u(t.element,"class");i&&(i={className:i}),e=t.div=t.div||f(Vt,i,{position:qt,left:(t.translateX||0)+Gt,top:(t.translateY||0)+Gt,opacity:t.opacity},e||s),n=e.style,ve(t,{translateXSetter:function(e,i){n.left=e+Gt,t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){n.top=e+Gt,t[i]=e,t.doTransform=!0}}),a(t,n)})}}else e=s;return e.appendChild(r),i.added=!0,i.alignOnAdd&&i.htmlUpdateTransform(),i}),i}});var ke,Se;if(!It&&!Lt){Se={init:function(t,e){var n=this,i=["<",e,' filled="f" stroked="f"'],r=["position: ",qt,";"],o=e===Vt;("shape"===e||o)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",o?jt:Ut),i.push(' style="',r.join(""),'"/>'),e&&(i=o||"span"===e||"img"===e?i.join(""):t.prepVML(i),n.element=f(i)),n.renderer=t},add:function(t){var e=this,n=e.renderer,i=e.element,r=n.box,o=t&&t.inverted,s=t?t.element||t:r;return t&&(this.parentGroup=t),o&&n.invertChild(i,s),s.appendChild(i),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),e},updateTransform:R.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=wt(t*Ct),n=xt(t*Ct);p(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-n,", M21=",n,", M22=",e,", sizingMethod='auto expand')"].join(""):Xt})},getSpanCorrection:function(t,e,n,i,r){var o,s=i?wt(i*Ct):1,a=i?xt(i*Ct):0,l=be(this.elemHeight,this.element.offsetHeight),c=r&&"left"!==r;this.xCorr=s<0&&-t,this.yCorr=a<0&&-l,o=s*a<0,this.xCorr+=a*e*(o?1-n:n),this.yCorr-=s*e*(i?o?n:1-n:1),c&&(this.xCorr-=t*n*(s<0?-1:1),i&&(this.yCorr-=l*n*(a<0?-1:1)),p(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,n=[];e--;)ye(t[e])?n[e]=ft(10*t[e])-5:"Z"===t[e]?n[e]="x":(n[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(n[e+5]===n[e+7]&&(n[e+7]+=t[e+7]>t[e+5]?1:-1),n[e+6]===n[e+8]&&(n[e+8]+=t[e+8]>t[e+6]?1:-1)));return n.join(" ")||"x"},clip:function(t){var e,n,i=this;return t?(e=t.members,l(e,i),e.push(i),i.destroyClip=function(){l(e,i)},n=t.getCSS(i)):(i.destroyClip&&i.destroyClip(),n={clip:Mt?"inherit":"rect(auto)"}),i.css(n)},css:R.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&M(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),R.prototype.destroy.apply(this)},on:function(e,n){return this.element["on"+e]=function(){var e=t.event;e.target=e.srcElement,n(e)},this},cutOffPath:function(t,e){var n;return t=t.split(/[ ,]/),n=t.length,9!==n&&11!==n||(t[n-4]=t[n-2]=r(t[n-2])-10*e),t.join(" ")},shadow:function(t,e,n){var i,o,s,a,l,c,u,h=[],d=this.element,p=this.renderer,g=d.style,m=d.path;if(m&&"string"!=typeof m.value&&(m="x"),l=m,t){for(c=be(t.width,3),u=(t.opacity||.15)/c,i=1;i<=3;i++)a=2*c+1-2*i,n&&(l=this.cutOffPath(m.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=f(p.prepVML(s),null,{left:r(g.left)+be(t.offsetX,1),top:r(g.top)+be(t.offsetY,1)}),n&&(o.cutOff=a+1),s=['<stroke color="',t.color||"black",'" opacity="',u*i,'"/>'],f(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:zt,setAttr:function(t,e){Mt?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){this.element.className=t},dashstyleSetter:function(t,e,n){var i=n.getElementsByTagName("stroke")[0]||f(this.renderer.prepVML(["<stroke/>"]),null,null,n);i[e]=t||"solid",this[e]=t},dSetter:function(t,e,n){var i,r=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),n.path=t=this.pathToVML(t),r)for(i=r.length;i--;)r[i].path=r[i].cutOff?this.cutOffPath(t,r[i].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,n){var i=n.nodeName;"SPAN"===i?n.style.color=t:"IMG"!==i&&(n.filled=t!==Xt,this.setAttr("fillcolor",this.renderer.color(t,n,e,this)))},"fill-opacitySetter":function(t,e,n){f(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,n)},opacitySetter:zt,rotationSetter:function(t,e,n){var i=n.style;this[e]=i[e]=t,i.left=-ft(xt(t*Ct)+1)+Gt,i.top=ft(wt(t*Ct))+Gt},strokeSetter:function(t,e,n){this.setAttr("strokecolor",this.renderer.color(t,n,e,this))},"stroke-widthSetter":function(t,e,n){n.stroked=!!t,this[e]=t,ye(t)&&(t+=Gt),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,n){"inherit"===t&&(t=Ut),this.shadows&&ae(this.shadows,function(n){n.style[e]=t}),"DIV"===n.nodeName&&(t=t===jt?"-999em":0,Mt||(n.style[e]=t?Ut:jt),e="top"),n.style[e]=t},xSetter:function(t,e,n){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):n.style[e]=t},zIndexSetter:function(t,e,n){n.style[e]=t}},Se["stroke-opacitySetter"]=Se["fill-opacitySetter"],ht.VMLElement=Se=g(R,Se),Se.prototype.ySetter=Se.prototype.widthSetter=Se.prototype.heightSetter=Se.prototype.xSetter;var Te={Element:Se,isIE8:kt.indexOf("MSIE 8.0")>-1,init:function(t,e,n,i){var r,o,s,a=this;if(a.alignedObjects=[],r=a.createElement(Vt).css(ve(this.getStyle(i),{position:"relative"})),o=r.element,t.appendChild(r.element),a.isVML=!0,a.box=o,a.boxWrapper=r,a.gradients={},a.cache={},a.cacheKeys=[],a.imgCount=0,a.setSize(e,n,!1),!dt.namespaces.hcv){dt.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),s="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{dt.createStyleSheet().cssText=s}catch(t){dt.styleSheets[0].cssText+=s}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,n,i){var r=this.createElement(),o=s(t);return ve(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:n)-1,height:(o?t.height:i)-1,getCSS:function(t){var e=t.element,n=e.nodeName,i="shape"===n,r=t.inverted,o=this,s=o.top-(i?e.offsetTop:0),a=o.left,l=a+o.width,c=s+o.height,u={clip:"rect("+ft(r?a:s)+"px,"+ft(r?c:l)+"px,"+ft(r?l:c)+"px,"+ft(r?s:a)+"px)"};return!r&&Mt&&"DIV"===n&&ve(u,{width:l+Gt,height:c+Gt}),u},updateClipping:function(){ae(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(t,e,n,i){var r,o,s,a=this,l=/^rgba/,c=Xt;if(t&&t.linearGradient?s="gradient":t&&t.radialGradient&&(s="pattern"),s){var u,h,d,p,g,m,v,y,b,w,x,_,C=t.linearGradient||t.radialGradient,k="",S=t.stops,T=[],M=function(){o=['<fill colors="'+T.join(",")+'" opacity="',y,'" o:opacity2="',v,'" type="',s,'" ',k,'focus="100%" method="any" />'],f(a.prepVML(o),null,null,e)};if(x=S[0],_=S[S.length-1],x[0]>0&&S.unshift([0,x[1]]),_[0]<1&&S.push([1,_[1]]),ae(S,function(t,e){l.test(t[1])?(r=L(t[1]),u=r.get("rgb"),h=r.get("a")):(u=t[1],h=1),T.push(100*t[0]+"% "+u),e?(y=h,b=u):(v=h,w=u)}),"fill"===n)if("gradient"===s)d=C.x1||C[0]||0,p=C.y1||C[1]||0,g=C.x2||C[2]||0,m=C.y2||C[3]||0,k='angle="'+(90-180*pt.atan((m-p)/(g-d))/_t)+'"',M();else{var D,A=C.r,E=2*A,P=2*A,I=C.cx,O=C.cy,R=e.radialReference,H=function(){R&&(D=i.getBBox(),I+=(R[0]-D.x)/D.width-.5,O+=(R[1]-D.y)/D.height-.5,E*=R[2]/D.width,P*=R[2]/D.height),k='src="'+q.global.VMLRadialGradientURL+'" size="'+E+","+P+'" origin="0.5,0.5" position="'+I+","+O+'" color2="'+w+'" ',M()};i.added?H():i.onAdd=H,c=b}else c=u}else if(l.test(t)&&"IMG"!==e.tagName)r=L(t),i[n+"-opacitySetter"](r.get("a"),n,e),c=r.get("rgb");else{var z=e.getElementsByTagName(n);z.length&&(z[0].opacity=1,z[0].type="solid"),c=t}return c},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return t=t.join(""),n?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=t.indexOf('style="')===-1?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:Ce.prototype.html,path:function(t){var e={coordsize:"10 10"};return a(t)?e.d=t:s(t)&&ve(e,t),this.createElement("shape").attr(e)},circle:function(t,e,n){var i=this.symbol("circle");return s(t)&&(n=t.r,e=t.y,t=t.x),i.isCircle=!0,i.r=n,i.attr({x:t,y:e})},g:function(t){var e,n;return t&&(n={className:$t+t,class:$t+t}),e=this.createElement(Vt).attr(n)},image:function(t,e,n,i,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:n,width:i,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):Ce.prototype.createElement.call(this,t)},invertChild:function(t,e){var n=this,i=e.style,o="IMG"===t.tagName&&t.style;p(t,{flip:"x",left:r(i.width)-(o?r(o.top):1),top:r(i.height)-(o?r(o.left):1),rotation:-90}),ae(t.childNodes,function(e){n.invertChild(e,t)})},symbols:{arc:function(t,e,n,i,r){var o,s=r.start,a=r.end,l=r.r||n||i,c=r.innerR,u=wt(s),h=xt(s),d=wt(a),p=xt(a);return a-s===0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*u,e+l*h,t+l*d,e+l*p],r.open&&!c&&o.push("e",Zt,t,e),o.push("at",t-c,e-c,t+c,e+c,t+c*d,e+c*p,t+c*u,e+c*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,n,i,r){return r&&(n=i=2*r.r),r&&r.isCircle&&(t-=n/2,e-=i/2),["wa",t,e,t+n,e+i,t+n,e+i/2,t+n,e+i/2,"e"];
},rect:function(t,e,n,i,r){return Ce.prototype.symbols[c(r)&&r.r?"callout":"square"].call(0,t,e,n,i,r)}}};ht.VMLRenderer=ke=function(){this.init.apply(this,arguments)},ke.prototype=i(Ce.prototype,Te),B=ke}Ce.prototype.measureSpanWidth=function(t,e){var n,i=dt.createElement("span"),r=dt.createTextNode(t);return i.appendChild(r),p(i,e),this.box.appendChild(i),n=i.offsetWidth,M(i),n};var Me,De;Lt&&(ht.CanVGRenderer=Me=function(){Pt="http://www.w3.org/1999/xhtml"},Me.prototype.symbols={},De=function(){function t(){var t,n=e.length;for(t=0;t<n;t++)e[t]();e=[]}var e=[];return{push:function(n,i){0===e.length&&H(i,t),e.push(n)}}}(),B=Me),z.prototype={addLabel:function(){var t,e,n=this,r=n.axis,o=r.options,s=r.chart,a=r.categories,l=r.names,u=n.pos,h=o.labels,d=r.tickPositions,p=u===d[0],f=u===d[d.length-1],g=a?be(a[u],l[u],u):u,m=n.label,v=d.info;r.isDatetimeAxis&&v&&(e=o.dateTimeLabelFormats[v.higherRanks[u]||v.unitName]),n.isFirst=p,n.isLast=f,t=r.labelFormatter.call({axis:r,chart:s,isFirst:p,isLast:f,dateTimeLabelFormat:e,value:r.isLog?D(r.lin2log(g)):g}),c(m)?m&&m.attr({text:t}):(n.label=m=c(t)&&h.enabled?s.renderer.text(t,0,0,h.useHTML).css(i(h.style)).add(r.labelGroup):null,n.labelLength=m&&m.getBBox().width,n.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,n,i,r=this.axis,o=t.x,s=r.chart.chartWidth,a=r.chart.spacing,l=be(r.labelLeft,yt(r.pos,a[3])),c=be(r.labelRight,vt(r.pos+r.len,s-a[1])),u=this.label,h=this.rotation,d={left:0,center:.5,right:1}[r.labelAlign],p=u.getBBox().width,f=r.getSlotWidth(),g=f,m=d,v=1,y={};h?h<0&&o-d*p<l?i=ft(o/wt(h*Ct)-l):h>0&&o+d*p>c&&(i=ft((s-o)/wt(h*Ct))):(e=o-d*p,n=o+(1-d)*p,e<l?g=t.x+g*(1-d)-l:n>c&&(g=c-t.x+g*d,v=-1),g=yt(f,g),g<f&&"center"===r.labelAlign&&(t.x+=v*(f-g-m*(f-yt(p,g)))),(p>g||r.autoRotation&&u.styles.width)&&(i=g)),i&&(y.width=i,r.options.labels.style.textOverflow||(y.textOverflow="ellipsis"),u.css(y))},getPosition:function(t,e,n,i){var r=this.axis,o=r.chart,s=i&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+n,null,null,i)-r.transB}},getLabelPosition:function(t,e,n,i,r,o,s,a){var l,u=this.axis,h=u.transA,d=u.reversed,p=u.staggerLines,f=u.tickRotCorr||{x:0,y:0},g=r.y;return c(g)||(g=0===u.side?n.rotation?-8:-n.getBBox().height:2===u.side?f.y+8:wt(n.rotation*Ct)*(f.y-n.getBBox(!1,0).height/2)),t=t+r.x+f.x-(o&&i?o*h*(d?-1:1):0),e=e+g-(o&&!i?o*h*(d?1:-1):0),p&&(l=s/(a||1)%p,u.opposite&&(l=p-l-1),e+=l*(u.labelOffset/p)),{x:t,y:ft(e)}},getMarkPath:function(t,e,n,i,r,o){return o.crispLine([Zt,t,e,Kt,t+(r?0:-n),e+(r?n:0)],i)},render:function(t,e,n){var i,r,o,s=this,a=s.axis,l=a.options,c=a.chart,u=c.renderer,h=a.horiz,d=s.type,p=s.label,f=s.pos,g=l.labels,m=s.gridLine,v=d?d+"Grid":"grid",y=d?d+"Tick":"tick",b=l[v+"LineWidth"],w=l[v+"LineColor"],x=l[v+"LineDashStyle"],_=a.tickSize(y),C=l[y+"Color"],k=s.mark,S=g.step,T=!0,M=a.tickmarkOffset,D=s.getPosition(h,f,M,e),A=D.x,E=D.y,P=h&&A===a.pos+a.len||!h&&E===a.pos?-1:1;n=be(n,1),this.isActive=!0,b&&(i=a.getPlotLinePath(f+M,b*P,e,!0),m===N&&(o={stroke:w,"stroke-width":b},x&&(o.dashstyle=x),d||(o.zIndex=1),e&&(o.opacity=0),s.gridLine=m=b?u.path(i).attr(o).add(a.gridGroup):null),!e&&m&&i&&m[s.isNew?"attr":"animate"]({d:i,opacity:n})),_&&(a.opposite&&(_[0]=-_[0]),r=s.getMarkPath(A,E,_[0],_[1]*P,h,u),k?k.animate({d:r,opacity:n}):s.mark=u.path(r).attr({stroke:C,"stroke-width":_[1],opacity:n}).add(a.axisGroup)),p&&ye(A)&&(p.xy=D=s.getLabelPosition(A,E,p,h,g,M,t,S),s.isFirst&&!s.isLast&&!be(l.showFirstLabel,1)||s.isLast&&!s.isFirst&&!be(l.showLastLabel,1)?T=!1:!h||a.isRadial||g.step||g.rotation||e||0===n||s.handleOverflow(D),S&&t%S&&(T=!1),T&&ye(D.y)?(D.opacity=n,p[s.isNew?"attr":"animate"](D),s.isNew=!1):p.attr("y",-9999))},destroy:function(){T(this,this.axis)}},ht.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},ht.PlotLineOrBand.prototype={render:function(){var t,e,n=this,r=n.axis,o=r.horiz,s=n.options,a=s.label,l=n.label,u=s.width,h=s.to,d=s.from,p=c(d)&&c(h),f=s.value,g=s.dashStyle,m=n.svgElem,v=[],y=s.color,b=be(s.zIndex,0),w=s.events,x={},_=r.chart.renderer,C=r.log2lin;if(r.isLog&&(d=C(d),h=C(h),f=C(f)),u)v=r.getPlotLinePath(f,u),x={stroke:y,"stroke-width":u},g&&(x.dashstyle=g);else{if(!p)return;v=r.getPlotBandPath(d,h,s),y&&(x.fill=y),s.borderWidth&&(x.stroke=s.borderColor,x["stroke-width"]=s.borderWidth)}if(x.zIndex=b,m)v?(m.show(),m.animate({d:v})):(m.hide(),l&&(n.label=l=l.destroy()));else if(v&&v.length&&(n.svgElem=m=_.path(v).attr(x).add(),w)){t=function(t){m.on(t,function(e){w[t].apply(n,[e])})};for(e in w)t(e)}return a&&c(a.text)&&v&&v.length&&r.width>0&&r.height>0&&!v.flat?(a=i({align:o&&p&&"center",x:o?!p&&4:10,verticalAlign:!o&&p&&"middle",y:o?p?16:10:p?6:-4,rotation:o&&!p&&90},a),this.renderLabel(a,v,p,b)):l&&l.hide(),n},renderLabel:function(t,e,n,i){var r,o,s,a,l,c=this,u=c.label,h=c.axis.chart.renderer;u||(r={align:t.textAlign||t.align,rotation:t.rotation},r.zIndex=i,c.label=u=h.text(t.text,0,0,t.useHTML).attr(r).css(t.style).add()),o=[e[1],e[4],n?e[6]:e[1]],s=[e[2],e[5],n?e[7]:e[2]],a=k(o),l=k(s),u.align(t,!1,{x:a,y:l,width:S(o)-a,height:S(s)-l}),u.show()},destroy:function(){l(this.axis.plotLinesAndBands,this),delete this.axis,T(this)}},U={getPlotBandPath:function(t,e){var n=this.getPlotLinePath(e,null,null,!0),i=this.getPlotLinePath(t,null,null,!0);return i&&n?(i.flat=i.toString()===n.toString(),i.push(n[4],n[5],n[1],n[2])):i=null,i},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(t,e){var n=new ht.PlotLineOrBand(this,t).render(),i=this.userOptions;return n&&(e&&(i[e]=i[e]||[],i[e].push(t)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();ae([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&l(e,e[r])})}};var Ae=ht.Axis=function(){this.init.apply(this,arguments)};Ae.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return ht.numberFormat(this.total,-1)},style:i(xe.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,e){var n=e.isX,i=this;i.chart=t,i.horiz=t.inverted?!n:n,i.isXAxis=n,i.coll=n?"xAxis":"yAxis",i.opposite=e.opposite,i.side=e.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(e);var r=this.options,o=r.type,s="datetime"===o;i.labelFormatter=r.labels.formatter||i.defaultLabelFormatter,i.userOptions=e,i.minPixelPadding=0,i.reversed=r.reversed,i.visible=r.visible!==!1,i.zoomEnabled=r.zoomEnabled!==!1,i.categories=r.categories||"category"===o,i.names=i.names||[],i.isLog="logarithmic"===o,i.isDatetimeAxis=s,i.isLinked=c(r.linkedTo),i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=r.minRange||r.maxZoom,i.range=r.range,i.offset=r.offset||0,i.stacks={},i.oldStacks={},i.stacksTouched=0,i.max=null,i.min=null,i.crosshair=be(r.crosshair,h(t.options.tooltip.crosshairs)[n?0:1],!1);var a,l=i.options.events;se(i,t.axes)===-1&&(n&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&n&&i.reversed===N&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in l)he(i,a,l[a]);i.isLog&&(i.val2lin=i.log2lin,i.lin2val=i.lin2log)},setOptions:function(t){this.options=i(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],i(q[this.coll],t))},defaultLabelFormatter:function(){var t,e,n=this.axis,i=this.value,r=n.categories,o=this.dateTimeLabelFormat,s=q.lang.numericSymbols,a=s&&s.length,l=n.options.labels.format,c=n.isLog?i:n.tickInterval;if(l)e=w(l,this);else if(r)e=i;else if(o)e=Y(o,i);else if(a&&c>=1e3)for(;a--&&e===N;)t=Math.pow(1e3,a+1),c>=t&&10*i%t===0&&null!==s[a]&&(e=ht.numberFormat(i/t,-1)+s[a]);return e===N&&(e=bt(i)>=1e4?ht.numberFormat(i,-1):ht.numberFormat(i,-1,N,"")),e},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),ae(t.series,function(n){if(n.visible||!e.options.chart.ignoreHiddenSeries){var i,r,o,s=n.options,a=s.threshold;t.hasVisibleSeries=!0,t.isLog&&a<=0&&(a=null),t.isXAxis?(i=n.xData,i.length&&(r=k(i),ye(r)||r instanceof G||(i=le(i,function(t){return ye(t)}),r=k(i)),t.dataMin=yt(be(t.dataMin,i[0]),r),t.dataMax=vt(be(t.dataMax,i[0]),S(i)))):(n.getExtremes(),o=n.dataMax,r=n.dataMin,c(r)&&c(o)&&(t.dataMin=yt(be(t.dataMin,r),r),t.dataMax=vt(be(t.dataMax,o),o)),c(a)&&(t.threshold=a),s.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,n,i,r,o){var s,a=this.linkedParent||this,l=1,c=0,u=i?a.oldTransA:a.transA,h=i?a.oldMin:a.min,d=a.minPixelPadding,p=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val;return u||(u=a.transA),n&&(l*=-1,c=a.len),a.reversed&&(l*=-1,c-=l*(a.sector||a.len)),e?(t=t*l+c,t-=d,s=t/u+h,p&&(s=a.lin2val(s))):(p&&(t=a.val2lin(t)),"between"===o&&(o=.5),s=l*(t-h)*u+c+l*d+(ye(o)?u*o*a.pointRange:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,n,i,r){var o,s,a,l,c,u=this,h=u.chart,d=u.left,p=u.top,f=n&&h.oldChartHeight||h.chartHeight,g=n&&h.oldChartWidth||h.chartWidth,m=u.transB,v=function(t,e,n){return(t<e||t>n)&&(i?t=yt(vt(e,t),n):c=!0),t};return r=be(r,u.translate(t,null,null,n)),o=a=ft(r+m),s=l=ft(f-r-m),ye(r)?u.horiz?(s=p,l=f-u.bottom,o=a=v(o,d,d+u.width)):(o=d,a=g-u.right,s=l=v(s,p,p+u.height)):c=!0,c&&!i?null:h.renderer.crispLine([Zt,o,s,Kt,a,l],e||1)},getLinearTickPositions:function(t,e,n){var i,r,o=D(gt(e/t)*t),s=D(mt(n/t)*t),a=[];if(e===n&&ye(e))return[e];for(i=o;i<=s&&(a.push(i),i=D(i+t),i!==r);)r=i;return a},getMinorTickPositions:function(){var t,e,n,i=this,r=i.options,o=i.tickPositions,s=i.minorTickInterval,a=[],l=i.pointRangePadding||0,c=i.min-l,u=i.max+l,h=u-c;if(h&&h/s<i.len/3)if(i.isLog)for(n=o.length,e=1;e<n;e++)a=a.concat(i.getLogTickPositions(s,o[e-1],o[e],!0));else if(i.isDatetimeAxis&&"auto"===r.minorTickInterval)a=a.concat(i.getTimeTicks(i.normalizeTimeTickInterval(s),c,u,r.startOfWeek));else for(t=c+(o[0]-c)%s;t<=u;t+=s)a.push(t);return 0!==a.length&&i.trimTicks(a,r.startOnTick,r.endOnTick),a},adjustForMinRange:function(){var t,e,n,i,r,o,s,a,l,u=this,h=u.options,d=u.min,p=u.max,f=u.dataMax-u.dataMin>=u.minRange;u.isXAxis&&u.minRange===N&&!u.isLog&&(c(h.min)||c(h.max)?u.minRange=null:(ae(u.series,function(t){for(r=t.xData,o=t.xIncrement?1:r.length-1,n=o;n>0;n--)i=r[n]-r[n-1],(e===N||i<e)&&(e=i)}),u.minRange=yt(5*e,u.dataMax-u.dataMin))),p-d<u.minRange&&(l=u.minRange,t=(l-p+d)/2,s=[d-t,be(h.min,d-t)],f&&(s[2]=u.dataMin),d=S(s),a=[d+l,be(h.max,d+l)],f&&(a[2]=u.dataMax),p=k(a),p-d<l&&(s[0]=p-l,s[1]=be(h.min,p-l),d=S(s))),u.min=d,u.max=p},getClosest:function(){var t;return ae(this.series,function(e){var n=e.closestPointRange;!e.noSharedTooltip&&c(n)&&(t=c(t)?yt(t,n):n)}),t},setAxisTranslation:function(t){var e,n,i=this,r=i.max-i.min,s=i.axisPointRange||0,a=0,l=0,c=i.linkedParent,u=!!i.categories,h=i.transA,d=i.isXAxis;(d||u||s)&&(c?(a=c.minPointOffset,l=c.pointRangePadding):(e=i.getClosest(),ae(i.series,function(t){var n=u?1:d?be(t.options.pointRange,e,0):i.axisPointRange||0,r=t.options.pointPlacement;s=vt(s,n),i.single||(a=vt(a,o(r)?0:n/2),l=vt(l,"on"===r?0:n))})),n=i.ordinalSlope&&e?i.ordinalSlope/e:1,i.minPointOffset=a*=n,i.pointRangePadding=l*=n,i.pointRange=yt(s,r),d&&(i.closestPointRange=e)),t&&(i.oldTransA=h),i.translationSlope=i.transA=h=i.len/(r+l||1),i.transB=i.horiz?i.left:i.bottom,i.minPixelPadding=h*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var n,i,r,o,s,a,l,u=this,h=u.chart,d=u.options,p=u.isLog,f=u.log2lin,g=u.isDatetimeAxis,m=u.isXAxis,v=u.isLinked,y=d.maxPadding,b=d.minPadding,w=d.tickInterval,C=d.tickPixelInterval,k=u.categories,S=u.threshold,T=u.softThreshold;g||k||v||this.getTickAmount(),a=be(u.userMin,d.min),l=be(u.userMax,d.max),v?(u.linkedParent=h[u.coll][d.linkedTo],i=u.linkedParent.getExtremes(),u.min=be(i.min,i.dataMin),u.max=be(i.max,i.dataMax),d.type!==u.linkedParent.options.type&&e(11,1)):(!T&&c(S)&&(u.dataMin>=S?(o=S,b=0):u.dataMax<=S&&(s=S,y=0)),u.min=be(a,o,u.dataMin),u.max=be(l,s,u.dataMax)),p&&(!t&&yt(u.min,be(u.dataMin,u.min))<=0&&e(10,1),u.min=D(f(u.min),15),u.max=D(f(u.max),15)),u.range&&c(u.max)&&(u.userMin=u.min=a=vt(u.min,u.minFromRange()),u.userMax=l=u.max,u.range=null),pe(u,"foundExtremes"),u.beforePadding&&u.beforePadding(),u.adjustForMinRange(),k||u.axisPointRange||u.usePercentage||v||!c(u.min)||!c(u.max)||(n=u.max-u.min,n&&(!c(a)&&b&&(u.min-=n*b),!c(l)&&y&&(u.max+=n*y))),ye(d.floor)&&(u.min=vt(u.min,d.floor)),ye(d.ceiling)&&(u.max=yt(u.max,d.ceiling)),T&&c(u.dataMin)&&(S=S||0,!c(a)&&u.min<S&&u.dataMin>=S?u.min=S:!c(l)&&u.max>S&&u.dataMax<=S&&(u.max=S)),u.min===u.max||void 0===u.min||void 0===u.max?u.tickInterval=1:v&&!w&&C===u.linkedParent.options.tickPixelInterval?u.tickInterval=w=u.linkedParent.tickInterval:u.tickInterval=be(w,this.tickAmount?(u.max-u.min)/vt(this.tickAmount-1,1):void 0,k?1:(u.max-u.min)*C/vt(u.len,C)),m&&!t&&ae(u.series,function(t){t.processData(u.min!==u.oldMin||u.max!==u.oldMax)}),u.setAxisTranslation(!0),u.beforeSetTickPositions&&u.beforeSetTickPositions(),u.postProcessTickInterval&&(u.tickInterval=u.postProcessTickInterval(u.tickInterval)),u.pointRange&&!w&&(u.tickInterval=vt(u.pointRange,u.tickInterval)),r=be(d.minTickInterval,u.isDatetimeAxis&&u.closestPointRange),!w&&u.tickInterval<r&&(u.tickInterval=r),g||p||w||(u.tickInterval=_(u.tickInterval,null,x(u.tickInterval),be(d.allowDecimals,!(u.tickInterval>.5&&u.tickInterval<5&&u.max>1e3&&u.max<9999)),!!this.tickAmount)),!this.tickAmount&&this.len&&(u.tickInterval=u.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,n=this.options,i=n.tickPositions,r=n.tickPositioner,o=n.startOnTick,s=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===n.minorTickInterval&&this.tickInterval?this.tickInterval/5:n.minorTickInterval,this.tickPositions=t=i&&i.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]),r&&(this.tickPositions=t=r))),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&c(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,i||r||this.adjustTickAmount())},trimTicks:function(t,e,n){var i=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=i;else for(;this.min-o>t[0];)t.shift();if(n)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&c(i)&&t.push((r+i)/2)},alignToOthers:function(){var t,e={},n=this.options;return this.chart.options.chart.alignTicks!==!1&&n.alignTicks!==!1&&ae(this.chart[this.coll],function(n){var i=n.options,r=n.horiz,o=[r?i.left:i.top,i.width,i.height,i.pane].join(",");n.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,n=t.tickPixelInterval;!c(t.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=mt(this.len/n)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,n=this.tickInterval,i=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,s=i&&i.length;if(s<r){for(;i.length<r;)i.push(D(i[i.length-1]+n));this.transA*=(s-1)/(r-1),this.max=i[i.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(c(o)){for(t=e=i.length;t--;)(3===o&&t%2===1||o<=2&&t>0&&t<e-1)&&i.splice(t,1);this.finalTickAmt=N}},setScale:function(){var t,e,n=this;n.oldMin=n.min,n.oldMax=n.max,n.oldAxisLength=n.len,n.setAxisSize(),e=n.len!==n.oldAxisLength,ae(n.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||n.isLinked||n.forceRedraw||n.userMin!==n.oldUserMin||n.userMax!==n.oldUserMax||n.alignToOthers()?(n.resetStacks&&n.resetStacks(),n.forceRedraw=!1,n.getSeriesExtremes(),n.setTickInterval(),n.oldUserMin=n.userMin,n.oldUserMax=n.userMax,n.isDirty||(n.isDirty=e||n.min!==n.oldMin||n.max!==n.oldMax)):n.cleanStacks&&n.cleanStacks()},setExtremes:function(t,e,n,i,r){var o=this,s=o.chart;n=be(n,!0),ae(o.series,function(t){delete t.kdTree}),r=ve(r,{min:t,max:e}),pe(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,n&&s.redraw(i)})},zoom:function(t,e){var n=this.dataMin,i=this.dataMax,r=this.options,o=yt(n,be(r.min,n)),s=vt(i,be(r.max,i));return this.allowZoomOutside||(c(n)&&t<=o&&(t=o),c(i)&&e>=s&&(e=s)),this.displayBtn=t!==N||e!==N,this.setExtremes(t,e,!1,N,{trigger:"zoom"}),!0},setAxisSize:function(){var t=this.chart,e=this.options,n=e.offsetLeft||0,i=e.offsetRight||0,r=this.horiz,o=be(e.width,t.plotWidth-n+i),s=be(e.height,t.plotHeight),a=be(e.top,t.plotTop),l=be(e.left,t.plotLeft+n),c=/%$/;c.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight)),c.test(a)&&(a=Math.round(parseFloat(a)/100*t.plotHeight+t.plotTop)),this.left=l,this.top=a,this.width=o,this.height=s,this.bottom=t.chartHeight-s-a,this.right=t.chartWidth-o-l,this.len=vt(r?o:s,0),this.pos=r?l:a},getExtremes:function(){var t=this,e=t.isLog,n=t.lin2log;return{min:e?D(n(t.min)):t.min,max:e?D(n(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,n=e.isLog,i=e.lin2log,r=n?i(e.min):e.min,o=n?i(e.max):e.max;return null===t?t=o<0?o:r:r>t?t=r:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e,n=(be(t,0)-90*this.side+720)%360;return e=n>15&&n<165?"right":n>195&&n<345?"left":"center"},tickSize:function(t){var e=this.options,n=e[t+"Length"],i=be(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(i&&n)return"inside"===e[t+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,n,i=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=i.rotation,u=this.labelMetrics(),h=Number.MAX_VALUE,d=function(t){var e=t/(a||1);return e=e>1?mt(e):1,e*o};return r?(n=!i.staggerLines&&!i.step&&(c(l)?[l]:a<be(i.autoRotationLimit,80)&&i.autoRotation),n&&ae(n,function(n){var i;(n===l||n&&n>=-90&&n<=90)&&(e=d(bt(u.h/xt(Ct*n))),i=e+bt(n/360),i<h&&(h=i,t=n,s=e))})):i.step||(s=d(u.h)),this.autoRotation=n,this.labelRotation=be(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(n.step||0)<2&&!n.rotation&&(this.staggerLines||1)*t.plotWidth/i||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,n,r,s=this.chart,a=s.renderer,l=this.tickPositions,c=this.ticks,u=this.options.labels,h=this.horiz,d=this.getSlotWidth(),p=vt(1,ft(d-2*(u.padding||5))),f={},g=this.labelMetrics(),m=u.style.textOverflow,v=0;if(o(u.rotation)||(f.rotation=u.rotation||0),this.autoRotation)ae(l,function(t){t=c[t],t&&t.labelLength>v&&(v=t.labelLength)}),v>p&&v>g.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(d&&(t={width:p+Gt},!m))for(t.textOverflow="clip",n=l.length;!h&&n--;)r=l[n],e=c[r].label,e&&("ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):c[r].labelLength>d&&e.css({width:d+"px"}),e.getBBox().height>this.len/l.length-(g.h-g.f)&&(e.specCss={textOverflow:"ellipsis"}));f.rotation&&(t={width:(v>.5*s.chartHeight?.33*s.chartHeight:s.chartHeight)+Gt},m||(t.textOverflow="ellipsis")),this.labelAlign=u.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(f.align=this.labelAlign),ae(l,function(e){var n=c[e],r=n&&n.label;r&&(r.attr(f),t&&r.css(i(t,r.specCss)),delete r.specCss,n.rotation=f.rotation)}),this.tickRotCorr=a.rotCorr(g.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&!!this.tickPositions},getOffset:function(){var t,e,n,i,r,o,s,a,l=this,u=l.chart,h=u.renderer,d=l.options,p=l.tickPositions,f=l.ticks,g=l.horiz,m=l.side,v=u.inverted?[1,0,3,2][m]:m,y=0,b=0,w=d.title,x=d.labels,_=0,C=l.opposite,k=u.axisOffset,S=u.clipOffset,T=[-1,1,1,-1][m],M=l.axisParent,D=this.tickSize("tick");if(t=l.hasData(),l.showAxis=e=t||be(d.showEmpty,!0),l.staggerLines=l.horiz&&x.staggerLines,l.axisGroup||(l.gridGroup=h.g("grid").attr({zIndex:d.gridZIndex||1}).add(M),l.axisGroup=h.g("axis").attr({zIndex:d.zIndex||2}).add(M),l.labelGroup=h.g("axis-labels").attr({zIndex:x.zIndex||7}).addClass($t+l.coll.toLowerCase()+"-labels").add(M)),t||l.isLinked)ae(p,function(t){f[t]?f[t].addLabel():f[t]=new z(l,t)}),l.renderUnsquish(),x.reserveSpace===!1||0!==m&&2!==m&&{1:"left",3:"right"}[m]!==l.labelAlign&&"center"!==l.labelAlign||ae(p,function(t){_=vt(f[t].getLabelSize(),_)}),l.staggerLines&&(_*=l.staggerLines,l.labelOffset=_*(l.opposite?-1:1));else for(o in f)f[o].destroy(),delete f[o];w&&w.text&&w.enabled!==!1&&(l.axisTitle||(s=w.textAlign,s||(s=(g?{low:"left",middle:"center",high:"right"}:{low:C?"right":"left",middle:"center",high:C?"left":"right"})[w.align]),l.axisTitle=h.text(w.text,0,0,w.useHTML).attr({zIndex:7,rotation:w.rotation||0,align:s}).addClass($t+this.coll.toLowerCase()+"-title").css(w.style).add(l.axisGroup),l.axisTitle.isNew=!0),e&&(y=l.axisTitle.getBBox()[g?"height":"width"],n=w.offset,b=c(n)?0:be(w.margin,g?5:10)),l.axisTitle[e?"show":"hide"](!0)),l.offset=T*be(d.offset,k[m]),l.tickRotCorr=l.tickRotCorr||{x:0,y:0},a=0===m?-l.labelMetrics().h:2===m?l.tickRotCorr.y:0,i=Math.abs(_)+b,_&&(i-=a,i+=T*(g?be(x.y,l.tickRotCorr.y+8*T):x.x)),l.axisTitleMargin=be(n,i),k[m]=vt(k[m],l.axisTitleMargin+y+T*l.offset,i,t&&p.length&&D?D[0]:0),r=d.offset?0:2*gt(d.lineWidth/2),S[v]=vt(S[v],r)},getLinePath:function(t){var e=this.chart,n=this.opposite,i=this.offset,r=this.horiz,o=this.left+(n?this.width:0)+i,s=e.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(t*=-1),e.renderer.crispLine([Zt,r?this.left:o,r?s:this.top,Kt,r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},getTitlePosition:function(){var t=this.horiz,e=this.left,n=this.top,i=this.len,o=this.options.title,s=t?e:n,a=this.opposite,l=this.offset,c=o.x||0,u=o.y||0,h=r(o.style.fontSize||12),d={low:s+(t?0:i),middle:s+i/2,high:s+(t?i:0)}[o.align],p=(t?n+this.height:e)+(t?1:-1)*(a?-1:1)*this.axisTitleMargin+(2===this.side?h:0);return{x:t?d+c:p+(a?this.width:0)+l+c,y:t?p+u-(a?this.height:0)+l:d+u}},render:function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.options,a=i.isLog,l=i.lin2log,c=i.isLinked,u=i.tickPositions,h=i.axisTitle,p=i.ticks,f=i.minorTicks,g=i.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=i.tickmarkOffset,b=s.lineWidth,w=r.hasRendered,x=w&&ye(i.oldMin),_=i.showAxis,C=E(o.globalAnimation);i.labelEdge.length=0,i.overlap=!1,ae([p,f,g],function(t){var e;for(e in t)t[e].isActive=!1}),(i.hasData()||c)&&(i.minorTickInterval&&!i.categories&&ae(i.getMinorTickPositions(),function(t){f[t]||(f[t]=new z(i,t,"minor")),x&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),u.length&&(ae(u,function(t,e){(!c||t>=i.min&&t<=i.max)&&(p[t]||(p[t]=new z(i,t)),x&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),y&&(0===i.min||i.single)&&(p[-1]||(p[-1]=new z(i,(-1),null,(!0))),p[-1].render(-1))),v&&ae(u,function(t,o){n=u[o+1]!==N?u[o+1]+y:i.max-y,o%2===0&&t<i.max&&n<=i.max+(r.polar?-y:y)&&(g[t]||(g[t]=new ht.PlotLineOrBand(i)),e=t+y,g[t].options={from:a?l(e):e,to:a?l(n):n,color:v},g[t].render(),g[t].isActive=!0)}),i._addedPlotLB||(ae((s.plotLines||[]).concat(s.plotBands||[]),function(t){i.addPlotBandOrLine(t)}),i._addedPlotLB=!0)),ae([p,f,g],function(t){var e,n,i=[],o=C.duration,s=function(){for(n=i.length;n--;)t[i[n]]&&!t[i[n]].isActive&&(t[i[n]].destroy(),delete t[i[n]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,i.push(e));d(s,t!==g&&r.hasRendered&&o?o:0)}),b&&(t=i.getLinePath(b),i.axisLine?i.axisLine.animate({d:t}):i.axisLine=o.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(i.axisGroup),i.axisLine[_?"show":"hide"](!0)),h&&_&&(h[h.isNew?"attr":"animate"](i.getTitlePosition()),h.isNew=!1),m&&m.enabled&&i.renderStackTotals(),i.isDirty=!1},redraw:function(){this.visible&&(this.render(),ae(this.plotLinesAndBands,function(t){t.render()})),ae(this.series,function(t){t.isDirty=!0})},destroy:function(t){var e,n,i=this,r=i.stacks,o=i.plotLinesAndBands;t||de(i);for(e in r)T(r[e]),r[e]=null;for(ae([i.ticks,i.minorTicks,i.alternateBands],function(t){T(t)}),n=o.length;n--;)o[n].destroy();ae(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(t){i[t]&&(i[t]=i[t].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(t,e){var n,i,r,o,s,a=this.crosshair;if(this.crosshair&&(c(e)||!be(a.snap,!0))!==!1){if(be(a.snap,!0)?c(e)&&(i=this.isXAxis?e.plotX:this.len-e.plotY):i=this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos,n=this.isRadial?this.getPlotLinePath(this.isXAxis?e.x:be(e.stackY,e.y))||null:this.getPlotLinePath(null,null,null,null,i)||null,null===n)return void this.hideCrosshair();o=this.categories&&!this.isRadial,s=be(a.width,o?this.transA:1),this.cross?this.cross.attr({d:n,visibility:"visible","stroke-width":s}):(r={"pointer-events":"none","stroke-width":s,stroke:a.color||(o?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:be(a.zIndex,2)},a.dashStyle&&(r.dashstyle=a.dashStyle),this.cross=this.chart.renderer.path(n).attr(r).add())}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},ve(Ae.prototype,U),Ae.prototype.getTimeTicks=function(t,e,n,i){var r,o,s=[],a={},l=q.global.useUTC,u=new G(e-y(e)),h=t.unitRange,d=t.count;if(c(e)){u[rt](h>=$.second?0:d*gt(u.getMilliseconds()/d)),h>=$.second&&u[ot](h>=$.minute?0:d*gt(u.getSeconds()/d)),h>=$.minute&&u[st](h>=$.hour?0:d*gt(u[J]()/d)),h>=$.hour&&u[at](h>=$.day?0:d*gt(u[Q]()/d)),h>=$.day&&u[lt](h>=$.month?1:d*gt(u[et]()/d)),h>=$.month&&(u[ct](h>=$.year?0:d*gt(u[nt]()/d)),o=u[it]()),h>=$.year&&(o-=o%d,u[ut](o)),h===$.week&&u[lt](u[et]()-u[tt]()+be(i,1)),r=1,(Z||K)&&(u=u.getTime(),u=new G(u+y(u))),o=u[it]();for(var p=u.getTime(),f=u[nt](),g=u[et](),m=!l||!!K,v=($.day+(l?y(u):60*u.getTimezoneOffset()*1e3))%$.day;p<n;)s.push(p),h===$.year?p=X(o+r*d,0):h===$.month?p=X(o,f+r*d):!m||h!==$.day&&h!==$.week?p+=h*d:p=X(o,f,g+r*d*(h===$.day?1:7)),r++;s.push(p),ae(le(s,function(t){return h<=$.hour&&t%$.day===v}),function(t){a[t]="day"})}return s.info=ve(t,{higherRanks:a,totalRange:h*d}),s},Ae.prototype.normalizeTimeTickInterval=function(t,e){var n,i,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=r[r.length-1],s=$[o[0]],a=o[1];for(i=0;i<r.length;i++)if(o=r[i],s=$[o[0]],a=o[1],r[i+1]){var l=(s*a[a.length-1]+$[r[i+1][0]])/2;if(t<=l)break}return s===$.year&&t<5*s&&(a=[1,2,5]),n=_(t/s,a,"year"===o[0]?vt(x(t/s),1):1),{unitRange:s,count:n,unitName:o[0]}},Ae.prototype.getLogTickPositions=function(t,e,n,i){var r=this,o=r.options,s=r.len,a=r.lin2log,l=r.log2lin,c=[];if(i||(r._minorAutoInterval=null),t>=.5)t=ft(t),c=r.getLinearTickPositions(t,e,n);else if(t>=.08){var u,h,d,p,f,g,m,v=gt(e);for(u=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],h=v;h<n+1&&!m;h++)for(p=u.length,d=0;d<p&&!m;d++)f=l(a(h)*u[d]),f>e&&(!i||g<=n)&&g!==N&&c.push(g),g>n&&(m=!0),g=f}else{var y=a(e),b=a(n),w=o[i?"minorTickInterval":"tickInterval"],C="auto"===w?null:w,k=o.tickPixelInterval/(i?5:1),S=i?s/r.tickPositions.length:s;t=be(C,r._minorAutoInterval,(b-y)*k/(S||1)),t=_(t,null,x(t)),c=ue(r.getLinearTickPositions(t,y,b),l),i||(r._minorAutoInterval=t/5)}return i||(r.tickInterval=t),c},Ae.prototype.log2lin=function(t){return pt.log(t)/pt.LN10},Ae.prototype.lin2log=function(t){return pt.pow(10,t)};var Ee=ht.Tooltip=function(){this.init.apply(this,arguments)};Ee.prototype={init:function(t,e){var n=e.borderWidth,i=e.style,o=r(i.padding);this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=t.renderer.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:o,fill:e.backgroundColor,"stroke-width":n,r:e.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999}),Lt||this.label.shadow(e.shadow),this.shared=e.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,n,i){var r=this,o=r.now,s=r.options.animation!==!1&&!r.isHidden&&(bt(t-o.x)>1||bt(e-o.y)>1),a=r.followPointer||r.len>1;ve(o,{x:s?(2*o.x+t)/3:t,y:s?(o.y+e)/2:e,anchorX:a?N:s?(2*o.anchorX+n)/3:n,anchorY:a?N:s?(o.anchorY+i)/2:i}),r.label.attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){r&&r.move(t,e,n,i)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=be(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=d(function(){e.label[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,i,r,o=this.chart,s=o.inverted,a=o.plotTop,l=o.plotLeft,c=0,u=0;return t=h(t),n=t[0].tooltipPos,this.followPointer&&e&&(e.chartX===N&&(e=o.pointer.normalize(e)),n=[e.chartX-o.plotLeft,e.chartY-a]),n||(ae(t,function(t){i=t.series.yAxis,r=t.series.xAxis,c+=t.plotX+(!s&&r?r.left-l:0),u+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!s&&i?i.top-a:0)}),c/=t.length,u/=t.length,n=[s?o.plotWidth-u:c,this.shared&&!s&&t.length>1&&e?e.chartY-a:s?o.plotHeight-c:u]),ue(n,ft)},getPosition:function(t,e,n){var i,r=this.chart,o=this.distance,s={},a=n.h||0,l=["y",r.chartHeight,e,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],u=!this.followPointer&&be(n.ttBelow,!r.inverted==!!n.negative),h=function(t,e,n,i,r,l){var c=n<i-o,h=i+o+n<e,d=i-o-n,p=i+o;if(u&&h)s[t]=p;else if(!u&&c)s[t]=d;else if(c)s[t]=yt(l-n,d-a<0?d:d-a);else{if(!h)return!1;s[t]=vt(r,p+a+n>e?p:p+a)}},d=function(t,e,n,i){var r;return i<o||i>e-o?r=!1:i<n/2?s[t]=1:i>e-n/2?s[t]=e-n-2:s[t]=i-n/2,r},p=function(t){var e=l;l=c,c=e,
i=t},f=function(){h.apply(0,l)!==!1?d.apply(0,c)!==!1||i||(p(!0),f()):i?s.x=s.y=0:(p(!0),f())};return(r.inverted||this.len>1)&&p(),f(),s},defaultFormatter:function(t){var e,n=this.points||h(this);return e=[t.tooltipFooterHeaderFormatter(n[0])],e=e.concat(t.bodyFormatter(n)),e.push(t.tooltipFooterHeaderFormatter(n[0],!0)),e.join("")},refresh:function(t,e){var n,i,r,o,s,a,l=this,c=l.chart,u=l.label,d=l.options,p={},f=[],g=d.formatter||l.defaultFormatter,m=c.hoverPoints,v=l.shared;clearTimeout(this.hideTimer),l.followPointer=h(t)[0].series.tooltipOptions.followPointer,r=l.getAnchor(t,e),n=r[0],i=r[1],!v||t.series&&t.series.noSharedTooltip?p=t.getLabelConfig():(c.hoverPoints=t,m&&ae(m,function(t){t.setState()}),ae(t,function(t){t.setState(te),f.push(t.getLabelConfig())}),p={x:t[0].category,y:t[0].y},p.points=f,this.len=f.length,t=t[0]),o=g.call(p,l),a=t.series,this.distance=be(a.tooltipOptions.distance,16),o===!1?this.hide():(l.isHidden&&(ge(u),u.attr("opacity",1).show()),u.attr({text:o}),s=d.borderColor||t.color||a.color||"#606060",u.attr({stroke:s}),l.updatePosition({plotX:n,plotY:i,negative:t.negative,ttBelow:t.ttBelow,h:r[2]||0}),this.isHidden=!1),pe(c,"tooltipRefresh",{text:o,x:n+c.plotLeft,y:i+c.plotTop,borderColor:s})},updatePosition:function(t){var e=this.chart,n=this.label,i=(this.options.positioner||this.getPosition).call(this,n.width,n.height,t);this.move(ft(i.x),ft(i.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,e,n){var i,r,o,s=e.dateTimeLabelFormats,a=n&&n.closestPointRange,l="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},u="millisecond";if(a){o=Y("%m-%d %H:%M:%S.%L",t.x);for(r in $){if(a===$.week&&+Y("%w",t.x)===n.options.startOfWeek&&o.substr(6)===l.substr(6)){r="week";break}if($[r]>a){r=u;break}if(c[r]&&o.substr(c[r])!==l.substr(c[r]))break;"week"!==r&&(u=r)}r&&(i=s[r])}else i=s.day;return i||s.year},tooltipFooterHeaderFormatter:function(t,e){var n=e?"footer":"header",i=t.series,r=i.tooltipOptions,o=r.xDateFormat,s=i.xAxis,a=s&&"datetime"===s.options.type&&ye(t.key),l=r[n+"Format"];return a&&!o&&(o=this.getXDateFormat(t,r,s)),a&&o&&(l=l.replace("{point.key}","{point.key:"+o+"}")),w(l,{point:t,series:i})},bodyFormatter:function(t){return ue(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}};var Pe;W=dt&&dt.documentElement.ontouchstart!==N;var Ie=ht.Pointer=function(t,e){this.init(t,e)};if(Ie.prototype={init:function(t,e){var n,i,r=e.chart,o=r.events,s=Lt?"":r.zoomType,a=t.inverted;this.options=e,this.chart=t,this.zoomX=n=/x/.test(s),this.zoomY=i=/y/.test(s),this.zoomHor=n&&!a||i&&a,this.zoomVert=i&&!a||n&&a,this.hasZoom=n||i,this.runChartClick=o&&!!o.click,this.pinchDown=[],this.lastValidTouch={},ht.Tooltip&&e.tooltip.enabled&&(t.tooltip=new Ee(t,e.tooltip),this.followTouchMove=be(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},normalize:function(e,n){var i,r,o;return e=e||t.event,e.target||(e.target=e.srcElement),o=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,n||(this.chartPosition=n=ce(this.chart.container)),o.pageX===N?(i=vt(e.x,e.clientX-n.left),r=e.y):(i=o.pageX-n.left,r=o.pageY-n.top),ve(e,{chartX:ft(i),chartY:ft(r)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return ae(this.chart.axes,function(n){e[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(t[n.horiz?"chartX":"chartY"])})}),e},runPointActions:function(t){var e,n,i,r,o,s,a,l=this,c=l.chart,u=c.series,h=c.tooltip,d=!!h&&h.shared,p=c.hoverPoint,f=c.hoverSeries,g=[Number.MAX_VALUE,Number.MAX_VALUE],m=[],v=[];if(!d&&!f)for(n=0;n<u.length;n++)!u[n].directTouch&&u[n].options.stickyTracking||(u=[]);if(o=f&&(d?f.noSharedTooltip:f.directTouch),o&&p?v=[p]:(ae(u,function(e){r=e.noSharedTooltip&&d,s=!d&&e.directTouch,e.visible&&!r&&!s&&be(e.options.enableMouseTracking,!0)&&(a=e.searchPoint(t,!r&&1===e.kdDimensions),a&&m.push(a))}),ae(m,function(t){t&&ae(["dist","distX"],function(e,n){if(ye(t[e])){var i=t[e]<g[n],r=t[e]===g[n]&&t.series.group.zIndex>=v[n].series.group.zIndex;(i||r)&&(g[n]=t[e],v[n]=t)}})})),d)for(n=m.length;n--;)(m[n].clientX!==v[1].clientX||m[n].series.noSharedTooltip)&&m.splice(n,1);v[0]&&(v[0]!==this.prevKDPoint||h&&h.isHidden)?d&&!v[0].series.noSharedTooltip?(m.length&&h&&h.refresh(m,t),ae(m,function(e){e.onMouseOver(t,e!==(f&&f.directTouch&&p||v[0]))}),this.prevKDPoint=v[1]):(h&&h.refresh(v[0],t),f&&f.directTouch||v[0].onMouseOver(t),this.prevKDPoint=v[0]):(e=f&&f.tooltipOptions.followPointer,h&&e&&!h.isHidden&&(i=h.getAnchor([{}],t),h.updatePosition({plotX:i[0],plotY:i[1]}))),l._onDocumentMouseMove||(l._onDocumentMouseMove=function(t){Ft[Pe]&&Ft[Pe].pointer.onDocumentMouseMove(t)},he(dt,"mousemove",l._onDocumentMouseMove)),ae(d?m:[be(p,v[1])],function(e){ae(c.axes,function(n){e&&e.series[n.coll]!==n||n.drawCrosshair(t,e)})})},reset:function(t,e){var n=this,i=n.chart,r=i.hoverSeries,o=i.hoverPoint,s=i.hoverPoints,a=i.tooltip,l=a&&a.shared?s:o;t&&l&&ae(h(l),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&l&&(a.refresh(l),o&&(o.setState(o.state,!0),ae(i.axes,function(t){be(t.crosshair&&t.crosshair.snap,!0)?t.drawCrosshair(null,o):t.hideCrosshair()}))):(o&&o.onMouseOut(),s&&ae(s,function(t){t.setState()}),r&&r.onMouseOut(),a&&a.hide(e),n._onDocumentMouseMove&&(de(dt,"mousemove",n._onDocumentMouseMove),n._onDocumentMouseMove=null),ae(i.axes,function(t){t.hideCrosshair()}),n.hoverX=i.hoverPoints=i.hoverPoint=null)},scaleGroups:function(t,e){var n,i=this.chart;ae(i.series,function(r){n=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(e?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(e||i.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,n,i=this.chart,r=i.options.chart,o=t.chartX,s=t.chartY,a=this.zoomHor,l=this.zoomVert,c=i.plotLeft,u=i.plotTop,h=i.plotWidth,d=i.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=r.panKey&&t[r.panKey+"Key"];p&&p.touch||(o<c?o=c:o>c+h&&(o=c+h),s<u?s=u:s>u+d&&(s=u+d),this.hasDragged=Math.sqrt(Math.pow(f-o,2)+Math.pow(g-s,2)),this.hasDragged>10&&(e=i.isInsidePlot(f-c,g-u),i.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!m&&(p||(this.selectionMarker=p=i.renderer.rect(c,u,a?1:h,l?1:d,0).attr({fill:r.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),p&&a&&(n=o-f,p.attr({width:bt(n),x:(n>0?0:n)+f})),p&&l&&(n=s-g,p.attr({height:bt(n),y:(n>0?0:n)+g})),e&&!p&&r.panning&&i.pan(t,r.panning)))},drop:function(t){var e=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,o={originalEvent:t,xAxis:[],yAxis:[]},s=this.selectionMarker,a=s.attr?s.attr("x"):s.x,l=s.attr?s.attr("y"):s.y,u=s.attr?s.attr("width"):s.width,h=s.attr?s.attr("height"):s.height;(this.hasDragged||i)&&(ae(n.axes,function(n){if(n.zoomEnabled&&c(n.min)&&(i||e[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,d="touchend"===t.type?n.minPixelPadding:0,p=n.toValue((s?a:l)+d),f=n.toValue((s?a+u:l+h)-d);o[n.coll].push({axis:n,min:yt(p,f),max:vt(p,f)}),r=!0}}),r&&pe(n,"selection",o,function(t){n.zoom(ve(t,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(t){Ft[Pe]&&Ft[Pe].pointer.drop(t)},onDocumentMouseMove:function(t){var e=this.chart,n=this.chartPosition;t=this.normalize(t,n),!n||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(t){var e=Ft[Pe];e&&(t.relatedTarget||t.toElement)&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(t){var e=this.chart;c(Pe)&&Ft[Pe]&&Ft[Pe].mouseIsDown||(Pe=e.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===e.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||e.openMenu||this.runPointActions(t)},inClass:function(t,e){for(var n;t;){if(n=u(t,"class")){if(n.indexOf(e)!==-1)return!0;if(n.indexOf($t+"container")!==-1)return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,n=t.relatedTarget||t.toElement;!e||!n||e.options.stickyTracking||this.inClass(n,$t+"tooltip")||this.inClass(n,$t+"series-"+e.index)||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,n=e.hoverPoint,i=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(n&&this.inClass(t.target,$t+"tracker")?(pe(n.series,"click",ve(t,{point:n})),e.hoverPoint&&n.firePointEvent("click",t)):(ve(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-i,t.chartY-r)&&pe(e,"click",t)))},setDOMEvents:function(){var t=this,e=t.chart.container;e.onmousedown=function(e){t.onContainerMouseDown(e)},e.onmousemove=function(e){t.onContainerMouseMove(e)},e.onclick=function(e){t.onContainerClick(e)},he(e,"mouseleave",t.onContainerMouseLeave),1===Nt&&he(dt,"mouseup",t.onDocumentMouseUp),W&&(e.ontouchstart=function(e){t.onContainerTouchStart(e)},e.ontouchmove=function(e){t.onContainerTouchMove(e)},1===Nt&&he(dt,"touchend",t.onDocumentTouchEnd))},destroy:function(){var t;de(this.chart.container,"mouseleave",this.onContainerMouseLeave),Nt||(de(dt,"mouseup",this.onDocumentMouseUp),de(dt,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(t in this)this[t]=null}},ve(ht.Pointer.prototype,{pinchTranslate:function(t,e,n,i,r,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,t,e,n,i,r,o),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,t,e,n,i,r,o)},pinchTranslateDirection:function(t,e,n,i,r,o,s,a){var l,c,u,h,d,p,f=this.chart,g=t?"x":"y",m=t?"X":"Y",v="chart"+m,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],w=a||1,x=f.inverted,_=f.bounds[t?"h":"v"],C=1===e.length,k=e[0][v],S=n[0][v],T=!C&&e[1][v],M=!C&&n[1][v],D=function(){!C&&bt(k-T)>20&&(w=a||bt(S-M)/bt(k-T)),u=(b-S)/w+k,l=f["plot"+(t?"Width":"Height")]/w};D(),c=u,c<_.min?(c=_.min,h=!0):c+l>_.max&&(c=_.max-l,h=!0),h?(S-=.8*(S-s[g][0]),C||(M-=.8*(M-s[g][1])),D()):s[g]=[S,M],x||(o[g]=u-b,o[y]=l),p=x?t?"scaleY":"scaleX":"scale"+m,d=x?1/w:w,r[y]=l,r[g]=c,i[p]=w,i["translate"+m]=d*b+(S-d*k)},pinch:function(t){var e=this,n=e.chart,i=e.pinchDown,r=t.touches,o=r.length,s=e.lastValidTouch,a=e.hasZoom,l=e.selectionMarker,c={},u=1===o&&(e.inClass(t.target,$t+"tracker")&&n.runTrackerClick||e.runChartClick),h={};o>1&&(e.initiated=!0),a&&e.initiated&&!u&&t.preventDefault(),ue(r,function(t){return e.normalize(t)}),"touchstart"===t.type?(ae(r,function(t,e){i[e]={chartX:t.chartX,chartY:t.chartY}}),s.x=[i[0].chartX,i[1]&&i[1].chartX],s.y=[i[0].chartY,i[1]&&i[1].chartY],ae(n.axes,function(t){if(t.zoomEnabled){var e=n.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,r=t.toPixels(be(t.options.min,t.dataMin)),o=t.toPixels(be(t.options.max,t.dataMax)),s=yt(r,o),a=vt(r,o);e.min=yt(t.pos,s-i),e.max=vt(t.pos+t.len,a+i)}}),e.res=!0):i.length&&(l||(e.selectionMarker=l=ve({destroy:zt,touch:!0},n.plotBox)),e.pinchTranslate(i,r,c,l,h,s),e.hasPinched=a,e.scaleGroups(c,h),!a&&e.followTouchMove&&1===o?this.runPointActions(e.normalize(t)):e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(t,e){var n,i,r=this.chart;Pe=r.index,1===t.touches.length?(t=this.normalize(t),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop)&&!r.openMenu?(e&&this.runPointActions(t),"touchmove"===t.type&&(i=this.pinchDown,n=!!i[0]&&Math.sqrt(Math.pow(i[0].chartX-t.chartX,2)+Math.pow(i[0].chartY-t.chartY,2))>=4),be(n,!0)&&this.pinch(t)):e&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(t){this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(t){Ft[Pe]&&Ft[Pe].pointer.drop(t)}}),t.PointerEvent||t.MSPointerEvent){var Oe={},Le=!!t.PointerEvent,Re=function(){var t,e=[];e.item=function(t){return this[t]};for(t in Oe)Oe.hasOwnProperty(t)&&e.push({pageX:Oe[t].pageX,pageY:Oe[t].pageY,target:Oe[t].target});return e},He=function(t,e,n,i){var r;"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!Ft[Pe]||(i(t),r=Ft[Pe].pointer,r[e]({type:n,target:t.currentTarget,preventDefault:zt,touches:Re()}))};ve(Ie.prototype,{onContainerPointerDown:function(t){He(t,"onContainerTouchStart","touchstart",function(t){Oe[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){He(t,"onContainerTouchMove","touchmove",function(t){Oe[t.pointerId]={pageX:t.pageX,pageY:t.pageY},Oe[t.pointerId].target||(Oe[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){He(t,"onDocumentTouchEnd","touchend",function(t){delete Oe[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,Le?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,Le?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(dt,Le?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),we(Ie.prototype,"init",function(t,e,n){t.call(this,e,n),this.hasZoom&&p(e.container,{"-ms-touch-action":Xt,"touch-action":Xt})}),we(Ie.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(he)}),we(Ie.prototype,"destroy",function(t){this.batchMSEvents(de),t.call(this)})}var ze=ht.Legend=function(t,e){this.init(t,e)};ze.prototype={init:function(t,e){var n,r=this,o=e.itemStyle,s=e.itemMarginTop||0;this.options=e,e.enabled&&(r.itemStyle=o,r.itemHiddenStyle=i(o,e.itemHiddenStyle),r.itemMarginTop=s,r.padding=n=be(e.padding,8),r.initialItemX=n,r.initialItemY=n-5,r.maxItemWidth=0,r.chart=t,r.itemHeight=0,r.symbolWidth=be(e.symbolWidth,16),r.pages=[],r.render(),he(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(t,e){var n,i,r=this,o=r.options,s=t.legendItem,a=t.legendLine,l=t.legendSymbol,c=r.itemHiddenStyle.color,u=e?o.itemStyle.color:c,h=e?t.legendColor||t.color||"#CCC":c,d=t.options&&t.options.marker,p={fill:h};if(s&&s.css({fill:u,color:u}),a&&a.attr({stroke:h}),l){if(d&&l.isMarker){p.stroke=h,d=t.convertAttribs(d);for(n in d)i=d[n],i!==N&&(p[n]=i)}l.attr(p)}},positionItem:function(t){var e=this,n=e.options,i=n.symbolPadding,r=!n.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox,c=t.legendGroup;c&&c.element&&c.translate(r?s:e.legendWidth-s-2*i-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;ae(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&M(t.checkbox)},destroy:function(){var t=this,e=t.group,n=t.box;n&&(t.box=n.destroy()),e&&(t.group=e.destroy())},positionCheckboxes:function(t){var e,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight,r=this.titleHeight;n&&(e=n.translateY,ae(this.allItems,function(o){var s,a=o.checkbox;a&&(s=e+r+a.y+(t||0)+3,p(a,{left:n.translateX+o.checkboxOffset+a.x-20+Gt,top:s+Gt,display:s>e-6&&s<e+i-6?"":Xt}))}))},renderTitle:function(){var t,e=this.options,n=this.padding,i=e.title,r=0;i.text&&(this.title||(this.title=this.chart.renderer.label(i.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(i.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(t){var e=this.options;t.legendItem.attr({text:e.labelFormat?w(e.labelFormat,t):e.labelFormatter.call(t)})},renderItem:function(t){var e,n,r,o=this,s=o.chart,a=s.renderer,l=o.options,c="horizontal"===l.layout,u=o.symbolWidth,h=l.symbolPadding,d=o.itemStyle,p=o.itemHiddenStyle,f=o.padding,g=c?be(l.itemDistance,20):0,m=!l.rtl,v=l.width,y=l.itemMarginBottom||0,b=o.itemMarginTop,w=o.initialItemX,x=t.legendItem,_=t.series&&t.series.drawLegendSymbol?t.series:t,C=_.options,k=o.createCheckboxForItem&&C&&C.showCheckbox,S=l.useHTML;x||(t.legendGroup=a.g("legend-item").attr({zIndex:1}).add(o.scrollGroup),t.legendItem=x=a.text("",m?u+h:-h,o.baseline||0,S).css(i(t.visible?d:p)).attr({align:m?"left":"right",zIndex:2}).add(t.legendGroup),o.baseline||(o.fontMetrics=a.fontMetrics(d.fontSize,x),o.baseline=o.fontMetrics.f+3+b,x.attr("y",o.baseline)),_.drawLegendSymbol(o,t),o.setItemEvents&&o.setItemEvents(t,x,S,d,p),k&&o.createCheckboxForItem(t)),o.colorizeItem(t,t.visible),o.setText(t),n=x.getBBox(),r=t.checkboxOffset=l.itemWidth||t.legendItemWidth||u+h+n.width+g+(k?20:0),o.itemHeight=e=ft(t.legendItemHeight||n.height),c&&o.itemX-w+r>(v||s.chartWidth-2*f-w-l.x)&&(o.itemX=w,o.itemY+=b+o.lastLineHeight+y,o.lastLineHeight=0),o.maxItemWidth=vt(o.maxItemWidth,r),o.lastItemY=b+o.itemY+y,o.lastLineHeight=vt(e,o.lastLineHeight),t._legendItemPos=[o.itemX,o.itemY],c?o.itemX+=r:(o.itemY+=b+e+y,o.lastLineHeight=e),o.offsetWidth=v||vt((c?o.itemX-w-g:r)+f,o.offsetWidth)},getAllItems:function(){var t=[];return ae(this.chart.series,function(e){var n=e.options;be(n.showInLegend,!c(n.linkedTo)&&N,!0)&&(t=t.concat(e.legendItems||("point"===n.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var n=this.chart,i=this.options,r=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);this.display&&!i.floating&&ae([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(o,s){o.test(r)&&!c(t[s])&&(n[ne[s]]=vt(n[ne[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*i[s%2?"x":"y"]+be(i.margin,12)+e[s]))})},render:function(){var t,e,n,i,r=this,o=r.chart,s=o.renderer,a=r.group,l=r.box,c=r.options,u=r.padding,h=c.borderWidth,d=c.backgroundColor;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,a||(r.group=a=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(a),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),C(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),c.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,ae(t,function(t){r.renderItem(t)}),n=(c.width||r.offsetWidth)+u,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=u,(h||d)&&(l?n>0&&i>0&&(l[l.isNew?"attr":"animate"](l.crisp({width:n,height:i})),l.isNew=!1):(r.box=l=s.rect(0,0,n,i,c.borderRadius,h||0).attr({stroke:c.borderColor,"stroke-width":h||0,fill:d||Xt}).add(a).shadow(c.shadow),l.isNew=!0),l[e?"show":"hide"]()),r.legendWidth=n,r.legendHeight=i,ae(t,function(t){r.positionItem(t)}),e&&a.align(ve({width:n,height:i},c),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,n,i=this,r=this.chart,o=r.renderer,s=this.options,a=s.y,l="top"===s.verticalAlign,c=r.spacingBox.height+(l?-a:a)-this.padding,u=s.maxHeight,h=this.clipRect,d=s.navigation,p=be(d.animation,!0),f=d.arrowSize||12,g=this.nav,m=this.pages,v=this.padding,y=this.allItems,b=function(t){h.attr({height:t}),i.contentGroup.div&&(i.contentGroup.div.style.clip="rect("+v+"px,9999px,"+(v+t)+"px,0)")};return"horizontal"===s.layout&&(c/=2),u&&(c=yt(c,u)),m.length=0,t>c&&d.enabled!==!1?(this.clipHeight=e=vt(c-20-this.titleHeight-v,0),this.currentPage=be(this.currentPage,1),this.fullHeight=t,ae(y,function(t,i){var r=t._legendItemPos[1],o=ft(t.legendItem.getBBox().height),s=m.length;(!s||r-m[s-1]>e&&(n||r)!==m[s-1])&&(m.push(n||r),s++),i===y.length-1&&r+o-m[s-1]>e&&m.push(r),r!==n&&(n=r)}),h||(h=i.clipRect=o.clipRect(0,v,9999,0),i.contentGroup.clip(h)),b(e),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).css(d.style).add(g),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),t=c):g&&(b(r.chartHeight),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var n,i=this.pages,r=i.length,o=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=a.activeColor,c=a.inactiveColor,u=this.pager,h=this.padding;o>r&&(o=r),o>0&&(e!==N&&A(e,this.chart),this.nav.attr({translateX:h,translateY:s+this.padding+7+this.titleHeight,visibility:Ut}),this.up.attr({fill:1===o?c:l}).css({cursor:1===o?"default":"pointer"}),u.attr({text:o+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:o===r?c:l}).css({cursor:o===r?"default":"pointer"}),n=-i[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=o,this.positionCheckboxes(n))}};var Fe=ht.LegendSymbolMixin={drawRectangle:function(t,e){var n=t.options.symbolHeight||t.fontMetrics.f;e.legendSymbol=this.chart.renderer.rect(0,t.baseline-n+1,t.symbolWidth,n,t.options.symbolRadius||0).attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,n,i,r=this.options,o=r.marker,s=t.symbolWidth,a=this.chart.renderer,l=this.legendGroup,c=t.baseline-ft(.3*t.fontMetrics.b);r.lineWidth&&(i={"stroke-width":r.lineWidth},r.dashStyle&&(i.dashstyle=r.dashStyle),this.legendLine=a.path([Zt,0,c,Kt,s,c]).attr(i).add(l)),o&&o.enabled!==!1&&(e=o.radius,this.legendSymbol=n=a.symbol(this.symbol,s/2-e,c-e,2*e,2*e,o).add(l),n.isMarker=!0)}};(/Trident\/7\.0/.test(kt)||At)&&we(ze.prototype,"positionItem",function(t,e){var n=this,i=function(){e._legendItemPos&&t.call(n,e)};i(),setTimeout(i)});var Ne=ht.Chart=function(){this.getArgs.apply(this,arguments)};ht.chart=function(t,e,n){return new Ne(t,e,n)},Ne.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(o(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(t,e){var n,r=t.series;t.series=null,n=i(q,t),n.series=t.series=r,this.userOptions=t;var o=n.chart;this.margin=this.splashArray("margin",o),this.spacing=this.splashArray("spacing",o);var s=o.events;this.bounds={h:{},v:{}},this.callback=e,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=o.showAxes;var a,l=this;if(l.index=Ft.length,Ft.push(l),Nt++,o.reflow!==!1&&he(l,"load",function(){l.initReflow()}),s)for(a in s)he(l,a,s[a]);l.xAxis=[],l.yAxis=[],l.animation=!Lt&&be(o.animation,!0),l.pointCount=l.colorCounter=l.symbolCounter=0,l.firstRender()},initSeries:function(t){var n,i=this,r=i.options.chart,o=t.type||r.type||r.defaultSeriesType,s=re[o];return s||e(17,!0),n=new s,n.init(this,t),n},isInsidePlot:function(t,e,n){var i=n?e:t,r=n?t:e;return i>=0&&i<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(t){var e,n,i,r=this,o=r.axes,s=r.series,a=r.pointer,l=r.legend,c=r.isDirtyLegend,u=r.hasCartesianSeries,h=r.isDirtyBox,d=s.length,p=d,f=r.renderer,g=f.isHidden(),m=[];for(A(t,r),g&&r.cloneRenderTo(),r.layOutTitles();p--;)if(i=s[p],i.options.stacking&&(e=!0,i.isDirty)){n=!0;break}if(n)for(p=d;p--;)i=s[p],i.options.stacking&&(i.isDirty=!0);ae(s,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&pe(t,"updatedData")}),c&&l.options.enabled&&(l.render(),r.isDirtyLegend=!1),e&&r.getStacks(),u&&(r.isResizing||(r.maxTicks=null,ae(o,function(t){t.setScale()}))),r.getMargins(),u&&(ae(o,function(t){t.isDirty&&(h=!0)}),ae(o,function(t){var n=t.min+","+t.max;t.extKey!==n&&(t.extKey=n,m.push(function(){pe(t,"afterSetExtremes",ve(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(h||e)&&t.redraw()})),h&&r.drawChartBox(),ae(s,function(t){t.isDirty&&t.visible&&(!t.isCartesian||t.xAxis)&&t.redraw()}),a&&a.reset(!0),f.draw(),pe(r,"redraw"),g&&r.cloneRenderTo(!0),ae(m,function(t){t.call()})},get:function(t){var e,n,i,r=this,o=r.axes,s=r.series;for(e=0;e<o.length;e++)if(o[e].options.id===t)return o[e];for(e=0;e<s.length;e++)if(s[e].options.id===t)return s[e];for(e=0;e<s.length;e++)for(i=s[e].points||[],n=0;n<i.length;n++)if(i[n].id===t)return i[n];return null},getAxes:function(){var t,e=this,n=this.options,i=n.xAxis=h(n.xAxis||{}),r=n.yAxis=h(n.yAxis||{});ae(i,function(t,e){t.index=e,t.isX=!0}),ae(r,function(t,e){t.index=e}),t=i.concat(r),ae(t,function(t){new Ae(e,t)})},getSelectedPoints:function(){var t=[];return ae(this.series,function(e){t=t.concat(le(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return le(this.series,function(t){return t.selected})},setTitle:function(t,e,n){var r,o,s=this,a=s.options;r=a.title=i(a.title,t),o=a.subtitle=i(a.subtitle,e),ae([["title",t,r],["subtitle",e,o]],function(t){var e=t[0],n=s[e],i=t[1],r=t[2];n&&i&&(s[e]=n=n.destroy()),r&&r.text&&!n&&(s[e]=s.renderer.text(r.text,0,0,r.useHTML).attr({align:r.align,class:$t+e,zIndex:r.zIndex||4}).css(r.style).add())}),s.layOutTitles(n)},layOutTitles:function(t){var e,n=0,i=this.title,r=this.subtitle,o=this.options,s=o.title,a=o.subtitle,l=this.renderer,c=this.spacingBox;i&&(i.css({width:(s.width||c.width+s.widthAdjust)+Gt}).align(ve({y:l.fontMetrics(s.style.fontSize,i).b-3},s),!1,c),s.floating||s.verticalAlign||(n=i.getBBox().height)),r&&(r.css({width:(a.width||c.width+a.widthAdjust)+Gt}).align(ve({y:n+(s.margin-13)+l.fontMetrics(a.style.fontSize,i).b},a),!1,c),a.floating||a.verticalAlign||(n=mt(n+r.getBBox().height))),e=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&be(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,n=e.width,i=e.height,r=t.renderToClone||t.renderTo;c(n)||(t.containerWidth=oe(r,"width")),c(i)||(t.containerHeight=oe(r,"height")),t.chartWidth=vt(0,n||t.containerWidth||600),t.chartHeight=vt(0,be(i,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,n=this.container;t?e&&(this.renderTo.appendChild(n),M(e),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=e=this.renderTo.cloneNode(0),p(e,{position:qt,top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),dt.body.appendChild(e),n&&e.appendChild(n))},getContainer:function(){var t,n,i,s,a,l=this,c=l.options,h=c.chart,d=l.renderTo,p="data-highcharts-chart",g="highcharts-"+Ht++;d||(l.renderTo=d=h.renderTo),o(d)&&(l.renderTo=d=dt.getElementById(d)),d||e(13,!0),s=r(u(d,p)),ye(s)&&Ft[s]&&Ft[s].hasRendered&&Ft[s].destroy(),u(d,p,l.index),d.innerHTML="",h.skipClone||d.offsetWidth||l.cloneRenderTo(),l.getChartSize(),n=l.chartWidth,i=l.chartHeight,l.container=t=f(Vt,{className:$t+"container"+(h.className?" "+h.className:""),id:g},ve({position:Yt,overflow:jt,width:n+Gt,height:i+Gt,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),l.renderToClone||d),l._cursor=t.style.cursor,a=ht[h.renderer]||B,l.renderer=new a(t,n,i,h.style,h.forExport,c.exporting&&c.exporting.allowHTML),Lt&&l.renderer.create(l,t,n,i),l.renderer.chartIndex=l.index},getMargins:function(t){var e=this,n=e.spacing,i=e.margin,r=e.titleOffset;e.resetMargins(),r&&!c(i[0])&&(e.plotTop=vt(e.plotTop,r+e.options.title.margin+n[0])),e.legend.adjustMargins(i,n),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],n=t.margin;t.hasCartesianSeries&&ae(t.axes,function(t){t.visible&&t.getOffset()}),ae(ne,function(i,r){c(n[r])||(t[i]+=e[r])}),t.setChartSize()},reflow:function(e){var n=this,i=n.options.chart,r=n.renderTo,o=i.width||oe(r,"width"),s=i.height||oe(r,"height"),a=e?e.target:t;n.hasUserSize||n.isPrinting||!o||!s||a!==t&&a!==dt||(o===n.containerWidth&&s===n.containerHeight||(clearTimeout(n.reflowTimeout),n.reflowTimeout=d(function(){n.container&&(n.setSize(o,s,!1),n.hasUserSize=null)},e?100:0)),n.containerWidth=o,n.containerHeight=s)},initReflow:function(){var e=this,n=function(t){e.reflow(t)};he(t,"resize",n),he(e,"destroy",function(){de(t,"resize",n)})},setSize:function(t,e,n){var i,r,o,s=this,a=s.renderer;s.isResizing+=1,A(n,s),s.oldChartHeight=s.chartHeight,s.oldChartWidth=s.chartWidth,c(t)&&(s.chartWidth=i=vt(0,ft(t)),s.hasUserSize=!!i),c(e)&&(s.chartHeight=r=vt(0,ft(e))),o=a.globalAnimation,(o?fe:p)(s.container,{width:i+Gt,height:r+Gt},o),s.setChartSize(!0),a.setSize(i,r,n),s.maxTicks=null,ae(s.axes,function(t){t.isDirty=!0,t.setScale()}),ae(s.series,function(t){t.isDirty=!0}),s.isDirtyLegend=!0,s.isDirtyBox=!0,s.layOutTitles(),s.getMargins(),s.redraw(n),s.oldChartHeight=null,pe(s,"resize"),d(function(){s&&pe(s,"endResize",null,function(){s.isResizing-=1})},E(o).duration)},setChartSize:function(t){var e,n,i,r,o,s,a,l=this,c=l.inverted,u=l.renderer,h=l.chartWidth,d=l.chartHeight,p=l.options.chart,f=l.spacing,g=l.clipOffset;l.plotLeft=i=ft(l.plotLeft),l.plotTop=r=ft(l.plotTop),l.plotWidth=o=vt(0,ft(h-i-l.marginRight)),l.plotHeight=s=vt(0,ft(d-r-l.marginBottom)),l.plotSizeX=c?s:o,l.plotSizeY=c?o:s,l.plotBorderWidth=p.plotBorderWidth||0,l.spacingBox=u.spacingBox={x:f[3],y:f[0],width:h-f[3]-f[1],height:d-f[0]-f[2]},l.plotBox=u.plotBox={x:i,y:r,width:o,height:s},a=2*gt(l.plotBorderWidth/2),e=mt(vt(a,g[3])/2),n=mt(vt(a,g[0])/2),l.clipBox={x:e,y:n,width:gt(l.plotSizeX-vt(a,g[1])/2-e),height:vt(0,gt(l.plotSizeY-vt(a,g[2])/2-n))},t||ae(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this;ae(ne,function(e,n){t[e]=be(t.margin[n],t.spacing[n])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,n=this,i=n.options.chart,r=n.renderer,o=n.chartWidth,s=n.chartHeight,a=n.chartBackground,l=n.plotBackground,c=n.plotBorder,u=n.plotBGImage,h=i.borderWidth||0,d=i.backgroundColor,p=i.plotBackgroundColor,f=i.plotBackgroundImage,g=i.plotBorderWidth||0,m=n.plotLeft,v=n.plotTop,y=n.plotWidth,b=n.plotHeight,w=n.plotBox,x=n.clipRect,_=n.clipBox;t=h+(i.shadow?8:0),(h||d)&&(a?a.animate(a.crisp({width:o-t,height:s-t})):(e={fill:d||Xt},h&&(e.stroke=i.borderColor,e["stroke-width"]=h),n.chartBackground=r.rect(t/2,t/2,o-t,s-t,i.borderRadius,h).attr(e).addClass($t+"background").add().shadow(i.shadow))),p&&(l?l.animate(w):n.plotBackground=r.rect(m,v,y,b,0).attr({fill:p}).add().shadow(i.plotShadow)),f&&(u?u.animate(w):n.plotBGImage=r.image(f,m,v,y,b).add()),x?x.animate({width:_.width,height:_.height}):n.clipRect=r.clipRect(_),g&&(c?(c.strokeWidth=-g,c.animate(c.crisp({x:m,y:v,width:y,height:b}))):n.plotBorder=r.rect(m,v,y,b,0,-g).attr({stroke:i.plotBorderColor,"stroke-width":g,fill:Xt,zIndex:1}).add()),n.isDirtyBox=!1},propFromSeries:function(){var t,e,n,i=this,r=i.options.chart,o=i.options.series;ae(["inverted","angular","polar"],function(s){for(t=re[r.type||r.defaultSeriesType],n=i[s]||r[s]||t&&t.prototype[s],e=o&&o.length;!n&&e--;)t=re[o[e].type],t&&t.prototype[s]&&(n=!0);i[s]=n})},linkSeries:function(){var t=this,e=t.series;ae(e,function(t){t.linkedSeries.length=0}),ae(e,function(e){var n=e.options.linkedTo;o(n)&&(n=":previous"===n?t.series[e.index-1]:t.get(n),n&&(n.linkedSeries.push(e),e.linkedParent=n,e.visible=be(e.options.visible,n.options.visible,e.visible)))})},renderSeries:function(){ae(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&ae(e.items,function(n){var i=ve(e.style,n.style),o=r(i.left)+t.plotLeft,s=r(i.top)+t.plotTop+12;delete i.left,delete i.top,t.renderer.text(n.html,o,s).attr({zIndex:2}).css(i).add()})},render:function(){var t,e,n,i,r=this,o=r.axes,s=r.renderer,a=r.options;r.setTitle(),r.legend=new ze(r,a.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=r.plotHeight-21,ae(o,function(t){t.setScale()}),r.getAxisMargins(),n=t/r.plotWidth>1.1,i=e/r.plotHeight>1.05,(n||i)&&(r.maxTicks=null,ae(o,function(t){(t.horiz&&n||!t.horiz&&i)&&t.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&ae(o,function(t){t.visible&&t.render()}),r.seriesGroup||(r.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.showCredits(a.credits),r.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){
e.href&&(t.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t,e=this,n=e.axes,i=e.series,r=e.container,o=r&&r.parentNode;for(pe(e,"destroy"),Ft[e.index]=N,Nt--,e.renderTo.removeAttribute("data-highcharts-chart"),de(e),t=n.length;t--;)n[t]=n[t].destroy();for(t=i.length;t--;)i[t]=i[t].destroy();ae(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())}),r&&(r.innerHTML="",de(r),o&&M(r));for(t in e)delete e[t]},isReadyToRender:function(){var e=this;return!(!It&&t==t.top&&"complete"!==dt.readyState||Lt&&!t.canvg)||(Lt?De.push(function(){e.firstRender()},e.options.global.canvasToolsURL):dt.attachEvent("onreadystatechange",function(){dt.detachEvent("onreadystatechange",e.firstRender),"complete"===dt.readyState&&e.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),pe(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),ae(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),pe(t,"beforeRender"),ht.Pointer&&(t.pointer=new Ie(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){var t=this;ae([this.callback].concat(this.callbacks),function(e){e&&void 0!==t.index&&e.apply(t,[t])}),pe(t,"load"),this.onload=null},splashArray:function(t,e){var n=e[t],i=s(n)?n:[n,n,n,n];return[be(e[t+"Top"],i[0]),be(e[t+"Right"],i[1]),be(e[t+"Bottom"],i[2]),be(e[t+"Left"],i[3])]}};var Be=ht.CenteredSeriesMixin={getCenter:function(){var t,e,n,i=this.options,r=this.chart,o=2*(i.slicedOffset||0),s=r.plotWidth-2*o,a=r.plotHeight-2*o,l=i.center,c=[be(l[0],"50%"),be(l[1],"50%"),i.size||"100%",i.innerSize||0],u=yt(s,a);for(e=0;e<4;++e)n=c[e],t=e<2||2===e&&/%$/.test(n),c[e]=v(n,[s,a,u,c[2]][e])+(t?o:0);return c[3]>c[2]&&(c[3]=c[2]),c}},We=function(){};We.prototype={init:function(t,e,n){var i,r=this;return r.series=t,r.color=t.color,r.applyOptions(e,n),r.pointAttr={},t.options.colorByPoint&&(i=t.options.colors||t.chart.options.colors,r.color=r.color||i[t.colorCounter++],t.colorCounter===i.length&&(t.colorCounter=0)),t.chart.pointCount++,r},applyOptions:function(t,e){var n=this,i=n.series,r=i.options.pointValKey||i.pointValKey;return t=We.prototype.optionsToObject.call(this,t),ve(n,t),n.options=n.options?ve(n.options,t):t,r&&(n.y=n[r]),n.isNull=null===n.x||null===n.y,void 0===n.x&&i&&(n.x=void 0===e?i.autoIncrement():e),n},optionsToObject:function(t){var e,n={},i=this.series,r=i.options.keys,o=r||i.pointArrayMap||["y"],s=o.length,l=0,c=0;if(ye(t)||null===t)n[o[0]]=t;else if(a(t))for(!r&&t.length>s&&(e=typeof t[0],"string"===e?n.name=t[0]:"number"===e&&(n.x=t[0]),l++);c<s;)r&&void 0===t[l]||(n[o[c]]=t[l]),l++,c++;else"object"==typeof t&&(n=t,t.dataLabels&&(i._hasPointLabels=!0),t.marker&&(i._hasPointMarkers=!0));return n},destroy:function(){var t,e=this,n=e.series,i=n.chart,r=i.hoverPoints;i.pointCount--,r&&(e.setState(),l(r,e),r.length||(i.hoverPoints=null)),e===i.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(de(e),e.destroyElements()),e.legendItem&&i.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,n=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],i=6;i--;)t=n[i],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,i=be(n.valueDecimals,""),r=n.valuePrefix||"",o=n.valueSuffix||"";return ae(e.pointArrayMap||["y"],function(e){e="{point."+e,(r||o)&&(t=t.replace(e+"}",r+e+"}"+o)),t=t.replace(e+"}",e+":,."+i+"f}")}),w(t,{point:this,series:this.series})},firePointEvent:function(t,e,n){var i=this,r=this.series,o=r.options;(o.point.events[t]||i.options&&i.options.events&&i.options.events[t])&&this.importEvents(),"click"===t&&o.allowPointSelect&&(n=function(t){i.select&&i.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),pe(this,t,e,n)},visible:!0};var Ve=ht.Series=function(){};Ve.prototype={isCartesian:!0,type:"line",pointClass:We,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,e){var n,i,r=this,o=t.series,s=function(t,e){return be(t.options.index,t._i)-be(e.options.index,e._i)};r.chart=t,r.options=e=r.setOptions(e),r.linkedSeries=[],r.bindAxes(),ve(r,{name:e.name,state:Qt,pointAttr:{},visible:e.visible!==!1,selected:e.selected===!0}),Lt&&(e.animation=!1),i=e.events;for(n in i)he(r,n,i[n]);(i&&i.click||e.point&&e.point.events&&e.point.events.click||e.allowPointSelect)&&(t.runTrackerClick=!0),r.getColor(),r.getSymbol(),ae(r.parallelArrays,function(t){r[t+"Data"]=[]}),r.setData(e.data,!1),r.isCartesian&&(t.hasCartesianSeries=!0),o.push(r),r._i=o.length-1,C(o,s),this.yAxis&&C(this.yAxis.series,s),ae(o,function(t,e){t.index=e,t.name=t.name||"Series "+(e+1)})},bindAxes:function(){var t,n=this,i=n.options,r=n.chart;ae(n.axisTypes||[],function(o){ae(r[o],function(e){t=e.options,(i[o]===t.index||i[o]!==N&&i[o]===t.id||i[o]===N&&0===t.index)&&(e.series.push(n),n[o]=e,e.isDirty=!0)}),n[o]||n.optionalAxis===o||e(18,!0)})},updateParallelArrays:function(t,e){var n=t.series,i=arguments,r=ye(e)?function(i){var r="y"===i&&n.toYData?n.toYData(t):t[i];n[i+"Data"][e]=r}:function(t){Array.prototype[e].apply(n[t+"Data"],Array.prototype.slice.call(i,2))};ae(n.parallelArrays,r)},autoIncrement:function(){var t,e,n=this.options,i=this.xIncrement,r=n.pointIntervalUnit;return i=be(i,n.pointStart,0),this.pointInterval=e=be(this.pointInterval,n.pointInterval,1),r&&(t=new G(i),"day"===r?t=+t[lt](t[et]()+e):"month"===r?t=+t[ct](t[nt]()+e):"year"===r&&(t=+t[ut](t[it]()+e)),e=t-i),this.xIncrement=i+e,i},setOptions:function(t){var e,n,r=this.chart,o=r.options,s=o.plotOptions,a=r.userOptions||{},l=a.plotOptions||{},u=s[this.type];return this.userOptions=t,e=i(u,s.series,t),this.tooltipOptions=i(q.tooltip,q.plotOptions[this.type].tooltip,a.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,t.tooltip),null===u.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,n=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||n.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,color:e.negativeColor,fillColor:e.negativeFillColor}),n.length&&c(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,n){var i,r=this.userOptions,o="_"+t+"Index",s=t+"Counter";e||(c(r[o])?i=r[o]:(r[o]=i=this.chart[s]%n.length,this.chart[s]+=1),e=n[i]),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||xe[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(t.radius=0)},drawLegendSymbol:Fe.drawLineMarker,setData:function(t,n,i,r){var s,l,u,h=this,d=h.points,p=d&&d.length||0,f=h.options,g=h.chart,m=null,v=h.xAxis,y=v&&!!v.categories,b=f.turboThreshold,w=this.xData,x=this.yData,_=h.pointArrayMap,C=_&&_.length;if(t=t||[],s=t.length,n=be(n,!0),r!==!1&&s&&p===s&&!h.cropped&&!h.hasGroupedData&&h.visible)ae(t,function(t,e){d[e].update&&t!==f.data[e]&&d[e].update(t,!1,null,!1)});else{if(h.xIncrement=null,h.colorCounter=0,ae(this.parallelArrays,function(t){h[t+"Data"].length=0}),b&&s>b){for(l=0;null===m&&l<s;)m=t[l],l++;if(ye(m)){var k=be(f.pointStart,0),S=be(f.pointInterval,1);for(l=0;l<s;l++)w[l]=k,x[l]=t[l],k+=S;h.xIncrement=k}else if(a(m))if(C)for(l=0;l<s;l++)u=t[l],w[l]=u[0],x[l]=u.slice(1,C+1);else for(l=0;l<s;l++)u=t[l],w[l]=u[0],x[l]=u[1];else e(12)}else for(l=0;l<s;l++)t[l]!==N&&(u={series:h},h.pointClass.prototype.applyOptions.apply(u,[t[l]]),h.updateParallelArrays(u,l),y&&c(u.name)&&(v.names[u.x]=u.name));for(o(x[0])&&e(14,!0),h.data=[],h.options.data=h.userOptions.data=t,l=p;l--;)d[l]&&d[l].destroy&&d[l].destroy();v&&(v.minRange=v.userMinRange),h.isDirty=h.isDirtyData=g.isDirtyBox=!0,i=!1}"point"===f.legendType&&(this.processData(),this.generatePoints()),n&&g.redraw(i)},processData:function(t){var n,i,r,o,s,a,l,c,u=this,h=u.xData,d=u.yData,p=h.length,f=0,g=u.xAxis,m=u.options,v=m.cropThreshold,y=u.getExtremesFromAll||m.getExtremesFromAll,b=u.isCartesian,w=g&&g.val2lin,x=g&&g.isLog;if(b&&!u.isDirty&&!g.isDirty&&!u.yAxis.isDirty&&!t)return!1;for(g&&(a=g.getExtremes(),l=a.min,c=a.max),b&&u.sorted&&!y&&(!v||p>v||u.forceCrop)&&(h[p-1]<l||h[0]>c?(h=[],d=[]):(h[0]<l||h[p-1]>c)&&(n=this.cropData(u.xData,u.yData,l,c),h=n.xData,d=n.yData,f=n.start,i=!0)),s=h.length||1;--s;)r=x?w(h[s])-w(h[s-1]):h[s]-h[s-1],r>0&&(o===N||r<o)?o=r:r<0&&u.requireSorting&&e(15);u.cropped=i,u.cropStart=f,u.processedXData=h,u.processedYData=d,u.closestPointRange=o},cropData:function(t,e,n,i){var r,o,s=t.length,a=0,l=s,c=be(this.cropShoulder,1);for(r=0;r<s;r++)if(t[r]>=n){a=vt(0,r-c);break}for(o=r;o<s;o++)if(t[o]>i){l=o+c;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,n,i,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,c=r.processedYData,u=r.pointClass,d=l.length,p=r.cropStart||0,f=r.hasGroupedData,g=[];if(!a&&!f){var m=[];m.length=s.length,a=r.data=m}for(i=0;i<d;i++)e=p+i,f?(g[i]=(new u).init(r,[l[i]].concat(h(c[i]))),g[i].dataGroup=r.groupMap[i]):(a[e]?n=a[e]:s[e]!==N&&(a[e]=n=(new u).init(r,s[e],l[i])),g[i]=n),g[i].index=e;if(a&&(d!==(t=a.length)||f))for(i=0;i<t;i++)i!==p||f||(i+=d),a[i]&&(a[i].destroyElements(),a[i].plotX=N);r.data=a,r.points=g},getExtremes:function(t){var e,n,i,r,o,s,a,l=this.xAxis,c=this.yAxis,u=this.processedXData,h=[],d=0,p=l.getExtremes(),f=p.min,g=p.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,s=0;s<e;s++)if(r=u[s],o=t[s],n=null!==o&&o!==N&&(!c.isLog||o.length||o>0),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(u[s+1]||r)>=f&&(u[s-1]||r)<=g,n&&i)if(a=o.length)for(;a--;)null!==o[a]&&(h[d++]=o[a]);else h[d++]=o;this.dataMin=k(h),this.dataMax=S(h)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,n,i,r,o,s=this,a=s.options,l=a.stacking,u=s.xAxis,h=u.categories,d=s.yAxis,p=s.points,f=p.length,g=!!s.modifyValue,m=a.pointPlacement,v="between"===m||ye(m),y=a.threshold,b=a.startFromThreshold?y:0,w=Number.MAX_VALUE;for(t=0;t<f;t++){var x,_,C=p[t],k=C.x,S=C.y,T=C.low,M=l&&d.stacks[(s.negStacks&&S<(b?0:y)?"-":"")+s.stackKey];d.isLog&&null!==S&&S<=0&&(C.y=S=null,e(10)),C.plotX=n=D(yt(vt(-1e5,u.translate(k,0,0,0,1,m,"flags"===this.type)),1e5)),l&&s.visible&&!C.isNull&&M&&M[k]&&(o=s.getStackIndicator(o,k,s.index),x=M[k],_=x.points[o.key],T=_[0],S=_[1],T===b&&(T=be(y,d.min)),d.isLog&&T<=0&&(T=null),C.total=C.stackTotal=x.total,C.percentage=x.total&&C.y/x.total*100,C.stackY=S,x.setOffset(s.pointXOffset||0,s.barW||0)),C.yBottom=c(T)?d.translate(T,0,1,0,1):null,g&&(S=s.modifyValue(S,C)),C.plotY=i="number"==typeof S&&S!==1/0?yt(vt(-1e5,d.translate(S,0,1,0,1)),1e5):N,C.isInside=i!==N&&i>=0&&i<=d.len&&n>=0&&n<=u.len,C.clientX=v?u.translate(k,0,0,0,1):n,C.negative=C.y<(y||0),C.category=h&&h[C.x]!==N?h[C.x]:C.x,C.isNull||(void 0!==r&&(w=yt(w,bt(n-r))),r=n)}s.closestPointRangePx=w},getValidPoints:function(t,e){var n=this.chart;return le(t||this.points||[],function(t){return!(e&&!n.isInsidePlot(t.plotX,t.plotY,n.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,n=this.options,i=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,n.xAxis,n.yAxis].join(","),l=e[a],c=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=c=i.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=i.clipRect(s)),t&&(l.count+=1),n.clip!==!1&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(c),this.sharedClipKey=a),t||(l.count-=1,l.count<=0&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n,i=this,r=i.chart,o=i.options.animation;o&&!s(o)&&(o=xe[i.type].animation),t?i.setClip(o):(n=this.sharedClipKey,e=r[n],e&&e.animate({width:r.plotSizeX},o),r[n+"m"]&&r[n+"m"].animate({width:r.plotSizeX+99},o),i.animate=null)},afterAnimate:function(){this.setClip(),pe(this,"afterAnimate")},drawPoints:function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this,f=p.points,g=p.chart,m=p.options,v=m.marker,y=p.pointAttr[""],b=p.markerGroup,w=p.xAxis,x=be(v.enabled,w.isRadial,p.closestPointRangePx>2*v.radius);if(v.enabled!==!1||p._hasPointMarkers)for(i=f.length;i--;)r=f[i],e=gt(r.plotX),n=r.plotY,l=r.graphic,c=r.marker||{},u=!!r.marker,h=x&&c.enabled===N||c.enabled,d=r.isInside,h&&ye(n)&&null!==r.y?(t=r.pointAttr[r.selected?ee:Qt]||y,o=t.r,s=be(c.symbol,p.symbol),a=0===s.indexOf("url"),l?l[d?"show":"hide"](!0).attr(t).animate(ve({x:e-o,y:n-o},l.symbolName?{width:2*o,height:2*o}:{})):d&&(o>0||a)&&(r.graphic=l=g.renderer.symbol(s,e-o,n-o,2*o,2*o,u?c:v).attr(t).add(b))):l&&(r.graphic=l.destroy())},convertAttribs:function(t,e,n,i){var r,o,s=this.pointAttrToOptions,a={};t=t||{},e=e||{},n=n||{},i=i||{};for(r in s)o=s[r],a[r]=be(t[o],e[r],n[r],i[r]);return a},getAttribs:function(){var t,e,n,i,r,o,s,a,l,u=this,h=u.options,d=xe[u.type].marker?h.marker:h,p=d.states,f=p[te],g=u.color,m=u.options.negativeColor,v={stroke:g,fill:g},y=u.points||[],b=[],w=u.pointAttrToOptions,x=u.hasPointSpecificOptions,_=d.lineColor,C=d.fillColor,k=h.turboThreshold,S=u.zones,T=u.zoneAxis||"y";if(h.marker?(f.radius=f.radius||d.radius+f.radiusPlus,f.lineWidth=f.lineWidth||d.lineWidth+f.lineWidthPlus):(f.color=f.color||L(f.color||g).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||L(f.negativeColor||m).brighten(f.brightness).get()),b[Qt]=u.convertAttribs(d,v),ae([te,ee],function(t){b[t]=u.convertAttribs(p[t],b[Qt])}),u.pointAttr=b,e=y.length,!k||e<k||x)for(;e--;){if(r=y[e],d=r.options&&r.options.marker||r.options,d&&d.enabled===!1&&(d.radius=0),s=null,S.length){for(n=0,i=S[n];r[T]>=i.value;)i=S[++n];r.color=r.fillColor=s=be(i.color,u.color)}if(x=h.colorByPoint||r.color,r.options)for(l in w)c(d[w[l]])&&(x=!0);x?(d=d||{},o=[],p=d.states||{},t=p[te]=p[te]||{},h.marker&&(!r.negative||t.fillColor||f.fillColor)||(t[u.pointAttrToOptions.fill]=t.color||!r.options.color&&f[r.negative&&m?"negativeColor":"color"]||L(r.color).brighten(t.brightness||f.brightness).get()),a={color:r.color},C||(a.fillColor=r.color),_||(a.lineColor=r.color),d.hasOwnProperty("color")&&!d.color&&delete d.color,s&&!f.fillColor&&(t.fillColor=s),o[Qt]=u.convertAttribs(ve(a,d),b[Qt]),o[te]=u.convertAttribs(p[te],b[te],o[Qt]),o[ee]=u.convertAttribs(p[ee],b[ee],o[Qt])):o=b,r.pointAttr=o}},destroy:function(){var t,e,n,i,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(kt),c=o.data||[];for(pe(o,"destroy"),de(o),ae(o.axisTypes||[],function(t){r=o[t],r&&(l(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=c.length;e--;)n=c[e],n&&n.destroy&&n.destroy();o.points=null,clearTimeout(o.animationTimeout);for(i in o)o[i]instanceof R&&!o[i].survive&&(t=a&&"group"===i?"hide":"destroy",o[i][t]());s.hoverSeries===o&&(s.hoverSeries=null),l(s.series,o);for(i in o)delete o[i]},getGraphPath:function(t,e,n){var i,r,o=this,s=o.options,a=s.step,l=[];return t=t||o.points,i=t.reversed,i&&t.reverse(),a={right:1,center:2}[a]||a&&3,a&&i&&(a=4-a),!s.connectNulls||e||n||(t=this.getValidPoints(t)),ae(t,function(i,u){var h,d=i.plotX,p=i.plotY,f=t[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!c(e)&&u>0?r=!s.connectNulls:i.isNull&&!e?r=!0:(0===u||r?h=[Zt,i.plotX,i.plotY]:o.getPointSpline?h=o.getPointSpline(t,i,u):a?(h=1===a?[Kt,f.plotX,p]:2===a?[Kt,(f.plotX+d)/2,f.plotY,Kt,(f.plotX+d)/2,p]:[Kt,d,f.plotY],h.push(Kt,d,p)):h=[Kt,d,p],l.push.apply(l,h),r=!1)}),o.graphPath=l,l},drawGraph:function(){var t=this,e=this.options,n=[["graph",e.lineColor||this.color,e.dashStyle]],i=e.lineWidth,r="square"!==e.linecap,o=(this.gappedPath||this.getGraphPath).call(this),s=this.fillGraph&&this.color||Xt,a=this.zones;ae(a,function(i,r){n.push(["zoneGraph"+r,i.color||t.color,i.dashStyle||e.dashStyle])}),ae(n,function(n,a){var l,c=n[0],u=t[c];u?u.animate({d:o}):(i||s)&&o.length&&(l={stroke:n[1],"stroke-width":i,fill:s,zIndex:1},n[2]?l.dashstyle=n[2]:r&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),t[c]=t.chart.renderer.path(o).attr(l).add(t.group).shadow(a<2&&e.shadow))})},applyZones:function(){var t,e,n,i,r,o,s,a=this,l=this.chart,c=l.renderer,u=this.zones,h=this.clips||[],d=this.graph,p=this.area,f=vt(l.chartWidth,l.chartHeight),g=this[(this.zoneAxis||"y")+"Axis"],m=g.reversed,v=l.inverted,y=g.horiz,b=!1;u.length&&(d||p)&&g.min!==N&&(d&&d.hide(),p&&p.hide(),i=g.getExtremes(),ae(u,function(u,w){t=m?y?l.plotWidth:0:y?0:g.toPixels(i.min),t=yt(vt(be(e,t),0),f),e=yt(vt(ft(g.toPixels(be(u.value,i.max),!0)),0),f),b&&(t=e=g.toPixels(i.max)),r=Math.abs(t-e),o=yt(t,e),s=vt(t,e),g.isXAxis?(n={x:v?s:o,y:0,width:r,height:f},y||(n.x=l.plotHeight-n.x)):(n={x:0,y:v?s:o,width:f,height:r},y&&(n.y=l.plotWidth-n.y)),l.inverted&&c.isVML&&(n=g.isXAxis?{x:0,y:m?o:s,height:n.width,width:l.chartWidth}:{x:n.y-l.plotLeft-l.spacingBox.x,y:0,width:n.height,height:l.chartHeight}),h[w]?h[w].animate(n):(h[w]=c.clipRect(n),d&&a["zoneGraph"+w].clip(h[w]),p&&a["zoneArea"+w].clip(h[w])),b=u.value>i.max}),this.clips=h)},invertGroups:function(){function t(){var t={width:e.yAxis.len,height:e.xAxis.len};ae(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,n=e.chart;e.xAxis&&(he(n,"resize",t),he(e,"destroy",function(){de(n,"resize",t)}),t(),e.invertGroups=t)},plotGroup:function(t,e,n,i,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:i||.1}).add(r),o.addClass("highcharts-series-"+this.index)),o.attr({visibility:n})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,n=this.yAxis;return t.inverted&&(e=n,n=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:n?n.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,i=e.options,r=!!e.animate&&n.renderer.isSVG&&E(i.animation).duration,o=e.visible?"inherit":"hidden",s=i.zIndex,a=e.hasRendered,l=n.seriesGroup;t=e.plotGroup("group","series",o,s,l),e.markerGroup=e.plotGroup("markerGroup","markers",o,s,l),r&&e.animate(!0),e.getAttribs(),t.inverted=!!e.isCartesian&&n.inverted,e.drawGraph&&(e.drawGraph(),e.applyZones()),ae(e.points,function(t){t.redraw&&t.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),n.inverted&&e.invertGroups(),i.clip===!1||e.sharedClipKey||a||t.clip(n.clipRect),r&&e.animate(),a||(e.animationTimeout=d(function(){e.afterAnimate()},r)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,n=t.isDirty||t.isDirtyData,i=t.group,r=t.xAxis,o=t.yAxis;i&&(e.inverted&&i.attr({width:e.plotWidth,height:e.plotHeight}),i.animate({translateX:be(r&&r.left,e.plotLeft),translateY:be(o&&o.top,e.plotTop)})),t.translate(),t.render(),n&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var n=this,i=n.xAxis,r=n.yAxis,o=n.chart.inverted;return this.searchKDTree({clientX:o?i.len-t.chartY+i.pos:t.chartX-i.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,i,r){var o,s,a=e&&e.length;if(a)return o=n.kdAxisArray[i%r],e.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(a/2),{point:e[s],left:t(e.slice(0,s),i+1,r),right:t(e.slice(s+1),i+1,r)}}function e(){n.kdTree=t(n.getValidPoints(null,!n.directTouch),i,i)}var n=this,i=n.kdDimensions;delete n.kdTree,d(e,n.options.kdNow?0:1)},searchKDTree:function(t,e){function n(t,e){var n=c(t[o])&&c(e[o])?Math.pow(t[o]-e[o],2):null,i=c(t[s])&&c(e[s])?Math.pow(t[s]-e[s],2):null,r=(n||0)+(i||0);e.dist=c(r)?Math.sqrt(r):Number.MAX_VALUE,e.distX=c(n)?Math.sqrt(n):Number.MAX_VALUE}function i(t,e,o,s){var l,c,u,h,d,p=e.point,f=r.kdAxisArray[o%s],g=p;return n(t,p),l=t[f]-p[f],c=l<0?"left":"right",u=l<0?"right":"left",e[c]&&(h=i(t,e[c],o+1,s),g=h[a]<g[a]?h:p),e[u]&&Math.sqrt(l*l)<g[a]&&(d=i(t,e[u],o+1,s),g=d[a]<g[a]?d:g),g}var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return i(t,this.kdTree,this.kdDimensions,this.kdDimensions)}},F.prototype={destroy:function(){T(this,this.axis)},render:function(t){var e=this.options,n=e.format,i=n?w(n,this):e.formatter.call(this);this.label?this.label.attr({text:i,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(i,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:jt}).add(t)},setOffset:function(t,e){var n,i=this,r=i.axis,o=r.chart,s=o.inverted,a=r.reversed,l=this.isNegative&&!a||!this.isNegative&&a,c=r.translate(r.usePercentage?100:this.total,0,0,0,1),u=r.translate(0),h=bt(c-u),d=o.xAxis[0].translate(this.x)+t,p=o.plotHeight,f={x:s?l?c:c-h:d,y:s?p-d-e:l?p-c-h:p-c,width:s?h:e,height:s?e:h},g=this.label;g&&(g.align(this.alignOptions,null,f),n=g.alignAttr,g[this.options.crop===!1||o.isInsidePlot(n.x,n.y)?"show":"hide"](!0))}},Ne.prototype.getStacks=function(){var t=this;ae(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),ae(t.series,function(e){!e.options.stacking||e.visible!==!0&&t.options.chart.ignoreHiddenSeries!==!1||(e.stackKey=e.type+be(e.options.stack,""))})},Ae.prototype.buildStacks=function(){var t,e,n=this.series,i=be(this.options.reversedStacks,!0),r=n.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)n[i?e:r-e-1].setStackedPoints();for(e=r;e--;)t=n[i?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)n[e].setPercentStacks()}},Ae.prototype.renderStackTotals=function(){var t,e,n,i=this,r=i.chart,o=r.renderer,s=i.stacks,a=i.stackTotalGroup;a||(i.stackTotalGroup=a=o.g("stack-labels").attr({visibility:Ut,zIndex:6}).add()),a.translate(r.plotLeft,r.plotTop);for(t in s){e=s[t];for(n in e)e[n].render(a)}},Ae.prototype.resetStacks=function(){var t,e,n=this.stacks;if(!this.isXAxis)for(t in n)for(e in n[t])n[t][e].touched<this.stacksTouched?(n[t][e].destroy(),delete n[t][e]):(n[t][e].total=null,n[t][e].cum=0)},Ae.prototype.cleanStacks=function(){var t,e,n;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(n in t[e])t[e][n].cum=t[e][n].total}},Ve.prototype.setStackedPoints=function(){if(this.options.stacking&&(this.visible===!0||this.chart.options.chart.ignoreHiddenSeries===!1)){var t,e,n,i,r,o,s,a,l,c=this,u=c.processedXData,h=c.processedYData,d=[],p=h.length,f=c.options,g=f.threshold,m=f.startFromThreshold?g:0,v=f.stack,y=f.stacking,b=c.stackKey,w="-"+b,x=c.negStacks,_=c.yAxis,C=_.stacks,k=_.oldStacks;for(_.stacksTouched+=1,s=0;s<p;s++)a=u[s],l=h[s],t=c.getStackIndicator(t,a,c.index),o=t.key,e=x&&l<(m?0:g),r=e?w:b,C[r]||(C[r]={}),C[r][a]||(k[r]&&k[r][a]?(C[r][a]=k[r][a],C[r][a].total=null):C[r][a]=new F(_,_.options.stackLabels,e,a,v)),n=C[r][a],null!==l&&(n.points[o]=n.points[c.index]=[be(n.cum,m)],n.touched=_.stacksTouched,t.index>0&&c.singleStacks===!1&&(n.points[o][0]=n.points[c.index+","+a+",0"][0])),"percent"===y?(i=e?b:w,x&&C[i]&&C[i][a]?(i=C[i][a],n.total=i.total=vt(i.total,n.total)+bt(l)||0):n.total=D(n.total+(bt(l)||0))):n.total=D(n.total+(l||0)),n.cum=be(n.cum,m)+(l||0),null!==l&&(n.points[o].push(n.cum),d[s]=n.cum);"percent"===y&&(_.usePercentage=!0),this.stackedYData=d,_.oldStacks={}}},Ve.prototype.setPercentStacks=function(){var t,e=this,n=e.stackKey,i=e.yAxis.stacks,r=e.processedXData;ae([n,"-"+n],function(n){for(var o,s,a,l,c=r.length;c--;)o=r[c],t=e.getStackIndicator(t,o,e.index),s=i[n]&&i[n][o],a=s&&s.points[t.key],a&&(l=s.total?100/s.total:0,a[0]=D(a[0]*l),a[1]=D(a[1]*l),e.stackedYData[c]=a[1])})},Ve.prototype.getStackIndicator=function(t,e,n){return c(t)&&t.x===e?t.index++:t={x:e,index:0},t.key=[n,e,t.index].join(","),t},ve(Ne.prototype,{addSeries:function(t,e,n){var i,r=this;return t&&(e=be(e,!0),pe(r,"addSeries",{options:t},function(){i=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(n)})),i},addAxis:function(t,e,n,r){var o=e?"xAxis":"yAxis",s=this.options,a=i(t,{index:this[o].length,isX:e});new Ae(this,a),s[o]=h(s[o]||{}),s[o].push(a),be(n,!0)&&this.redraw(r)},showLoading:function(t){var e=this,n=e.options,i=e.loadingDiv,r=n.loading,o=function(){i&&p(i,{left:e.plotLeft+Gt,top:e.plotTop+Gt,width:e.plotWidth+Gt,height:e.plotHeight+Gt})};i||(e.loadingDiv=i=f(Vt,{className:$t+"loading"},ve(r.style,{zIndex:10,display:Xt}),e.container),e.loadingSpan=f("span",null,r.labelStyle,i),he(e,"redraw",o)),e.loadingSpan.innerHTML=t||n.lang.loading,e.loadingShown||(p(i,{opacity:0,display:""}),fe(i,{opacity:r.style.opacity},{duration:r.showDuration||0}),e.loadingShown=!0),o()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&fe(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){p(e,{display:Xt})}}),this.loadingShown=!1}}),ve(We.prototype,{update:function(t,e,n,i){function r(){l.applyOptions(t),null===l.y&&u&&(l.graphic=u.destroy()),s(t)&&!a(t)&&(l.redraw=function(){u&&u.element&&t&&t.marker&&t.marker.symbol&&(l.graphic=u.destroy()),t&&t.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy()),l.redraw=null}),o=l.index,c.updateParallelArrays(l,o),p&&l.name&&(p[l.x]=l.name),d.data[o]=s(d.data[o])&&!a(d.data[o])?l.options:t,c.isDirty=c.isDirtyData=!0,!c.fixedBox&&c.hasCartesianSeries&&(h.isDirtyBox=!0),"point"===d.legendType&&(h.isDirtyLegend=!0),e&&h.redraw(n)}var o,l=this,c=l.series,u=l.graphic,h=c.chart,d=c.options,p=c.xAxis&&c.xAxis.names;e=be(e,!0),i===!1?r():l.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(se(this,this.series.data),t,e)}}),ve(Ve.prototype,{addPoint:function(t,e,n,i){var r,o,s,a,l=this,c=l.options,u=l.data,h=l.graph,d=l.area,p=l.chart,f=l.xAxis&&l.xAxis.names,g=h&&h.shift||0,m=["graph","area"],v=c.data,y=l.xData;if(A(i,p),n){for(s=l.zones.length;s--;)m.push("zoneGraph"+s,"zoneArea"+s);ae(m,function(t){l[t]&&(l[t].shift=g+(c.step?2:1))})}if(d&&(d.isArea=!0),e=be(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=y.length,l.requireSorting&&a<y[s-1])for(o=!0;s&&y[s-1]>a;)s--;l.updateParallelArrays(r,"splice",s,0,0),l.updateParallelArrays(r,s),f&&r.name&&(f[a]=r.name),v.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===c.legendType&&l.generatePoints(),n&&(u[0]&&u[0].remove?u[0].remove(!1):(u.shift(),l.updateParallelArrays(r,"shift"),v.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&(l.getAttribs(),p.redraw())},removePoint:function(t,e,n){var i=this,r=i.data,o=r[t],s=i.points,a=i.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),i.options.data.splice(t,1),i.updateParallelArrays(o||{series:i},"splice",t,1),o&&o.destroy(),i.isDirty=!0,i.isDirtyData=!0,e&&a.redraw()};A(n,a),e=be(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e){var n=this,i=n.chart;pe(n,"remove",null,function(){n.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),be(t,!0)&&i.redraw(e)})},update:function(t,e){var n,r=this,o=this.chart,s=this.userOptions,a=this.type,l=re[a].prototype,c=["group","markerGroup","dataLabelsGroup"];(t.type&&t.type!==a||void 0!==t.zIndex)&&(c.length=0),ae(c,function(t){c[t]=r[t],delete r[t]}),t=i(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(n in l)this[n]=N;ve(this,re[t.type||a].prototype),ae(c,function(t){r[t]=c[t]}),this.init(o,t),o.linkSeries(),be(e,!0)&&o.redraw(!1)}}),ve(Ae.prototype,{update:function(t,e){var n=this.chart;t=n.options[this.coll][this.options.index]=i(this.userOptions,t),this.destroy(!0),this._addedPlotLB=this.chart._labelPanes=N,this.init(n,ve(t,{events:N})),n.isDirtyBox=!0,be(e,!0)&&n.redraw()},remove:function(t){for(var e=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(e.axes,this),l(e[n],this),e.options[n].splice(this.options.index,1),ae(e[n],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,be(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}});var qe=g(Ve);re.line=qe,xe.area=i(_e,{softThreshold:!1,threshold:0});var Ye=g(Ve,{type:"area",singleStacks:!1,getStackPoints:function(){var t,e,n,i=this,r=[],o=[],s=this.xAxis,a=this.yAxis,l=a.stacks[this.stackKey],c={},u=this.points,h=i.index,d=a.series,p=d.length,f=be(a.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<u.length;e++)c[u[e].x]=u[e];for(n in l)null!==l[n].total&&o.push(n);o.sort(function(t,e){return t-e}),t=ue(d,function(){return this.visible}),ae(o,function(n,i){var u,d,g=0;if(c[n]&&!c[n].isNull)r.push(c[n]),ae([-1,1],function(r){var s=1===r?"rightNull":"leftNull",a=1===r?"rightCliff":"leftCliff",g=0,m=l[o[i+r]];if(m)for(e=h;e>=0&&e<p;)u=m.points[e],u||(e===h?c[n][s]=!0:t[e]&&(d=l[n].points[e],d&&(g-=d[1]-d[0]))),e+=f;c[n][a]=g});else{for(e=h;e>=0&&e<p;){if(u=l[n].points[e]){g=u[1];break}e+=f}g=a.toPixels(g,!0),r.push({isNull:!0,plotX:s.toPixels(n,!0),plotY:g,yBottom:g})}})}return r},getGraphPath:function(t){var e,n,i,r,o,s,a,l,c=Ve.prototype.getGraphPath,u=this.options,h=u.stacking,d=this.yAxis,p=[],f=[],g=this.index,m=d.stacks[this.stackKey],v=u.threshold,y=d.getThreshold(u.threshold),b=u.connectNulls||"percent"===h,w=function(e,n,i){var r,o,a=t[e],l=h&&m[a.x].points[g],c=a[i+"Null"]||0,u=a[i+"Cliff"]||0,b=!0;u||c?(r=(c?l[0]:l[1])+u,o=l[0]+u,b=!!c):!h&&t[n]&&t[n].isNull&&(r=o=v),void 0!==r&&(f.push({plotX:s,plotY:null===r?y:d.getThreshold(r),isNull:b}),p.push({plotX:s,plotY:null===o?y:d.getThreshold(o)}))};for(t=t||this.points,h&&(t=this.getStackPoints()),r=0;r<t.length;r++)a=t[r].isNull,s=be(t[r].rectPlotX,t[r].plotX),l=be(t[r].yBottom,y),a&&!b||(b||w(r,r-1,"left"),a&&!h&&b||(f.push(t[r]),p.push({x:r,plotX:s,plotY:l})),b||w(r,r+1,"right"));return n=c.call(this,f,!0,!0),p.reversed=!0,i=c.call(this,p,!0,!0),i.length&&(i[0]=Kt),o=n.concat(i),e=c.call(this,f,!1,b),this.areaPath=o,e},drawGraph:function(){this.areaPath=[],Ve.prototype.drawGraph.apply(this);var t=this,e=this.areaPath,n=this.options,i=this.zones,r=[["area",this.color,n.fillColor]];ae(i,function(e,i){r.push(["zoneArea"+i,e.color||t.color,e.fillColor||n.fillColor])}),ae(r,function(i){var r,o=i[0],s=t[o];s?s.animate({d:e}):(r={fill:i[2]||i[1],zIndex:0},i[2]||(r["fill-opacity"]=be(n.fillOpacity,.75)),t[o]=t.chart.renderer.path(e).attr(r).add(t.group))})},drawLegendSymbol:Fe.drawRectangle});re.area=Ye,xe.spline=i(_e);var je=g(Ve,{type:"spline",getPointSpline:function(t,e,n){var i,r,o,s,a,l=1.5,c=l+1,u=e.plotX,h=e.plotY,d=t[n-1],p=t[n+1];if(d&&!d.isNull&&p&&!p.isNull){var f=d.plotX,g=d.plotY,m=p.plotX,v=p.plotY,y=0;i=(l*u+f)/c,r=(l*h+g)/c,o=(l*u+m)/c,s=(l*h+v)/c,o!==i&&(y=(s-r)*(o-u)/(o-i)+h-s),r+=y,s+=y,r>g&&r>h?(r=vt(g,h),s=2*h-r):r<g&&r<h&&(r=yt(g,h),s=2*h-r),s>v&&s>h?(s=vt(v,h),r=2*h-s):s<v&&s<h&&(s=yt(v,h),r=2*h-s),e.rightContX=o,e.rightContY=s}return a=["C",be(d.rightContX,d.plotX),be(d.rightContY,d.plotY),be(i,u),be(r,h),u,h],d.rightContX=d.rightContY=null,a}});re.spline=je,xe.areaspline=i(xe.area);var $e=Ye.prototype,Ue=g(je,{type:"areaspline",getStackPoints:$e.getStackPoints,getGraphPath:$e.getGraphPath,setStackCliffs:$e.setStackCliffs,drawGraph:$e.drawGraph,drawLegendSymbol:Fe.drawRectangle});re.areaspline=Ue,xe.column=i(_e,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,
tooltip:{distance:6},threshold:0});var Ge=g(Ve,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ve.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&ae(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,n=e.options,i=e.xAxis,r=e.yAxis,o=i.reversed,s={},a=0;n.grouping===!1?a=1:ae(e.chart.series,function(n){var i,o=n.options,l=n.yAxis;n.type===e.type&&n.visible&&r.len===l.len&&r.pos===l.pos&&(o.stacking?(t=n.stackKey,s[t]===N&&(s[t]=a++),i=s[t]):o.grouping!==!1&&(i=a++),n.columnIndex=i)});var l=yt(bt(i.transA)*(i.ordinalSlope||n.pointRange||i.closestPointRange||i.tickInterval||1),i.len),c=l*n.groupPadding,u=l-2*c,h=u/a,d=yt(n.maxPointWidth||i.len,be(n.pointWidth,h*(1-2*n.pointPadding))),p=(h-d)/2,f=(e.columnIndex||0)+(o?1:0),g=p+(c+f*h-l/2)*(o?-1:1);return e.columnMetrics={width:d,offset:g},e.columnMetrics},crispCol:function(t,e,n,i){var r,o,s,a=this.chart,l=this.borderWidth,c=-(l%2?.5:0),u=l%2?.5:1;return a.inverted&&a.renderer.isVML&&(u+=1),r=Math.round(t+n)+c,t=Math.round(t)+c,n=r-t,o=Math.round(e+i)+u,s=bt(e)<=.5&&o>.5,e=Math.round(e)+u,i=o-e,s&&i&&(e-=1,i+=1),{x:t,y:e,width:n,height:i}},translate:function(){var t=this,e=t.chart,n=t.options,i=t.borderWidth=be(n.borderWidth,t.closestPointRange*t.xAxis.transA<2?0:1),r=t.yAxis,o=n.threshold,s=t.translatedThreshold=r.getThreshold(o),a=be(n.minPointLength,5),l=t.getColumnMetrics(),c=l.width,u=t.barW=vt(c,1+2*i),h=t.pointXOffset=l.offset;e.inverted&&(s-=.5),n.pointPadding&&(u=mt(u)),Ve.prototype.translate.apply(t),ae(t.points,function(n){var i,o=yt(be(n.yBottom,s),9e4),l=999+bt(o),d=yt(vt(-l,n.plotY),r.len+l),p=n.plotX+h,f=u,g=yt(d,o),m=vt(d,o)-g;bt(m)<a&&a&&(m=a,i=!r.reversed&&!n.negative||r.reversed&&n.negative,g=bt(g-s)>a?o-a:s-(i?a:0)),n.barX=p,n.pointWidth=c,n.tooltipPos=e.inverted?[r.len+r.pos-e.plotLeft-d,t.xAxis.len-p-f/2,m]:[p+f/2,d+r.pos-e.plotTop,m],n.shapeType="rect",n.shapeArgs=t.crispCol(p,g,f,m)})},getSymbol:zt,drawLegendSymbol:Fe.drawRectangle,drawGraph:zt,drawPoints:function(){var t,e,n=this,r=this.chart,o=n.options,s=r.renderer,a=o.animationLimit||250;ae(n.points,function(l){var u,h=l.plotY,d=l.graphic;ye(h)&&null!==l.y?(t=l.shapeArgs,u=c(n.borderWidth)?{"stroke-width":n.borderWidth}:{},e=l.pointAttr[l.selected?ee:Qt]||n.pointAttr[Qt],d?(ge(d),d.attr(u).attr(e)[r.pointCount<a?"animate":"attr"](i(t))):l.graphic=d=s[l.shapeType](t).attr(u).attr(e).add(l.group||n.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius)):d&&(l.graphic=d.destroy())})},animate:function(t){var e,n=this,i=this.yAxis,r=n.options,o=this.chart.inverted,s={};It&&(t?(s.scaleY=.001,e=yt(i.pos+i.len,vt(i.pos,i.toPixels(r.threshold))),o?s.translateX=e-i.len:s.translateY=e,n.group.attr(s)):(s[o?"translateX":"translateY"]=i.pos,n.group.animate(s,ve(E(n.options.animation),{step:function(t,e){n.group.attr({scaleY:vt(.001,e.pos)})}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&ae(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),Ve.prototype.remove.apply(t,arguments)}});re.column=Ge,xe.bar=i(xe.column);var Xe=g(Ge,{type:"bar",inverted:!0});re.bar=Xe,xe.scatter=i(_e,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Ze=g(Ve,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&Ve.prototype.drawGraph.call(this)}});re.scatter=Ze,xe.pie=i(_e,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Ke=g(We,{init:function(){We.prototype.init.apply(this,arguments);var t,e=this;return e.name=be(e.name,"Slice"),t=function(t){e.slice("select"===t.type)},he(e,"select",t),he(e,"unselect",t),e},setVisible:function(t,e){var n=this,i=n.series,r=i.chart,o=i.options.ignoreHiddenPoint;e=be(e,o),t!==n.visible&&(n.visible=n.options.visible=t=t===N?!n.visible:t,i.options.data[se(n,i.data)]=n.options,ae(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&r.legend.colorizeItem(n,t),t||"hover"!==n.state||n.setState(""),o&&(i.isDirty=!0),e&&r.redraw())},slice:function(t,e,n){var i,r=this,o=r.series,s=o.chart;A(n,s),e=be(e,!0),r.sliced=r.options.sliced=t=c(t)?t:!r.sliced,o.options.data[se(r,o.data)]=r.options,i=t?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(i),r.shadowGroup&&r.shadowGroup.animate(i)},haloPath:function(t){var e=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+e.x,n.plotTop+e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}}),Je={type:"pie",isCartesian:!1,pointClass:Ke,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(t){var e=this,n=e.points,i=e.startAngleRad;t||(ae(n,function(t){var n=t.graphic,r=t.shapeArgs;n&&(n.attr({r:t.startR||e.center[3]/2,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,n=0,i=this.points,r=i.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=i[t],n+=o&&!e.visible?0:e.y;for(this.total=n,t=0;t<r;t++)e=i[t],e.percentage=n>0&&(e.visible||!o)?e.y/n*100:0,e.total=n},generatePoints:function(){Ve.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,n,i,r,o,s,a,l=this,c=0,u=1e3,h=l.options,d=h.slicedOffset,p=d+h.borderWidth,f=h.startAngle||0,g=l.startAngleRad=_t/180*(f-90),m=l.endAngleRad=_t/180*(be(h.endAngle,f+360)-90),v=m-g,y=l.points,b=h.dataLabels.distance,w=h.ignoreHiddenPoint,x=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,n){return i=pt.asin(yt((e-t[1])/(t[2]/2+b),1)),t[0]+(n?-1:1)*(wt(i)*(t[2]/2+b))},s=0;s<x;s++)a=y[s],e=g+c*v,w&&!a.visible||(c+=a.percentage/100),n=g+c*v,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:ft(e*u)/u,end:ft(n*u)/u},i=(n+e)/2,i>1.5*_t?i-=2*_t:i<-_t/2&&(i+=2*_t),a.slicedTranslation={translateX:ft(wt(i)*d),translateY:ft(xt(i)*d)},r=wt(i)*t[2]/2,o=xt(i)*t[2]/2,a.tooltipPos=[t[0]+.7*r,t[1]+.7*o],a.half=i<-_t/2||i>_t/2?1:0,a.angle=i,p=yt(p,b/2),a.labelPos=[t[0]+r+wt(i)*b,t[1]+o+xt(i)*b,t[0]+r+wt(i)*p,t[1]+o+xt(i)*p,t[0]+r,t[1]+o,b<0?"center":a.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var t,e,n,i,r,o,s=this,a=s.chart,l=a.renderer,c=s.options.shadow;c&&!s.shadowGroup&&(s.shadowGroup=l.g("shadow").add(s.group)),ae(s.points,function(a){null!==a.y&&(e=a.graphic,r=a.shapeArgs,n=a.shadowGroup,i=a.pointAttr[a.selected?ee:Qt],i.stroke||(i.stroke=i.fill),c&&!n&&(n=a.shadowGroup=l.g("shadow").add(s.shadowGroup)),t=a.sliced?a.slicedTranslation:{translateX:0,translateY:0},n&&n.attr(t),e?e.setRadialReference(s.center).attr(i).animate(ve(r,t)):(o={"stroke-linejoin":"round"},a.visible||(o.visibility="hidden"),a.graphic=e=l[a.shapeType](r).setRadialReference(s.center).attr(i).attr(o).attr(t).add(s.group).shadow(c,n)))})},searchPoint:zt,sortByAngle:function(t,e){t.sort(function(t,n){return void 0!==t.angle&&(n.angle-t.angle)*e})},drawLegendSymbol:Fe.drawRectangle,getCenter:Be.getCenter,getSymbol:zt};Je=g(Ve,Je),re.pie=Je,Ve.prototype.drawDataLabels=function(){var t,e,n,r,o=this,s=o.options,a=s.cursor,l=s.dataLabels,u=o.points,h=o.hasRendered||0,d=be(l.defer,!0),p=o.chart.renderer;(l.enabled||o._hasPointLabels)&&(o.dlProcessOptions&&o.dlProcessOptions(l),r=o.plotGroup("dataLabelsGroup","data-labels",d&&!h?"hidden":"visible",l.zIndex||6),d&&(r.attr({opacity:+h}),h||he(o,"afterAnimate",function(){o.visible&&r.show(),r[s.animation?"animate":"attr"]({opacity:1},{duration:200})})),e=l,ae(u,function(u){var h,d,f,g,m,v,y=u.dataLabel,b=u.connector,x=!0,_={};if(t=u.dlOptions||u.options&&u.options.dataLabels,h=be(t&&t.enabled,e.enabled)&&null!==u.y,y&&!h)u.dataLabel=y.destroy();else if(h){if(l=i(e,t),v=l.style,m=l.rotation,d=u.getLabelConfig(),n=l.format?w(l.format,d):l.formatter.call(d,l),v.color=be(l.color,v.color,o.color,"black"),y)c(n)?(y.attr({text:n}),x=!1):(u.dataLabel=y=y.destroy(),b&&(u.connector=b.destroy()));else if(c(n)){f={fill:l.backgroundColor,stroke:l.borderColor,"stroke-width":l.borderWidth,r:l.borderRadius||0,rotation:m,padding:l.padding,zIndex:1},"contrast"===v.color&&(_.color=l.inside||l.distance<0||s.stacking?p.getContrast(u.color||o.color):"#000000"),a&&(_.cursor=a);for(g in f)f[g]===N&&delete f[g];y=u.dataLabel=p[m?"text":"label"](n,0,-9999,l.shape,null,null,l.useHTML).attr(f).css(ve(v,_)).add(r).shadow(l.shadow)}y&&o.alignDataLabel(u,y,l,null,x)}}))},Ve.prototype.alignDataLabel=function(t,e,n,i,r){var o,s,a,l,c=this.chart,u=c.inverted,h=be(t.plotX,-9999),d=be(t.plotY,-9999),p=e.getBBox(),f=c.renderer.fontMetrics(n.style.fontSize).b,g=n.rotation,m=n.align,v=this.visible&&(t.series.forceDL||c.isInsidePlot(h,ft(d),u)||i&&c.isInsidePlot(h,u?i.x+1:i.y+i.height-1,u)),y="justify"===be(n.overflow,"justify");v&&(i=ve({x:u?c.plotWidth-d:h,y:ft(u?c.plotHeight-h:d),width:0,height:0},i),ve(n,{width:p.width,height:p.height}),g?(y=!1,a=c.renderer.rotCorr(f,g),l={x:i.x+n.x+i.width/2+a.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},e[r?"attr":"animate"](l).attr({align:m}),o=(g+720)%360,s=o>180&&o<360,"left"===m?l.y-=s?p.height:0:"center"===m?(l.x-=p.width/2,l.y-=p.height/2):"right"===m&&(l.x-=p.width,l.y-=s?0:p.height)):(e.align(n,null,i),l=e.alignAttr),y?this.justifyDataLabel(e,n,l,p,i,r):be(n.crop,!0)&&(v=c.isInsidePlot(l.x,l.y)&&c.isInsidePlot(l.x+p.width,l.y+p.height)),n.shape&&!g&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),v||(ge(e),e.attr({y:-9999}),e.placed=!1)},Ve.prototype.justifyDataLabel=function(t,e,n,i,r,o){var s,a,l=this.chart,c=e.align,u=e.verticalAlign,h=t.box?0:t.padding||0;s=n.x+h,s<0&&("right"===c?e.align="left":e.x=-s,a=!0),s=n.x+i.width-h,s>l.plotWidth&&("left"===c?e.align="right":e.x=l.plotWidth-s,a=!0),s=n.y+h,s<0&&("bottom"===u?e.verticalAlign="top":e.y=-s,a=!0),s=n.y+i.height-h,s>l.plotHeight&&("top"===u?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},re.pie&&(re.pie.prototype.drawDataLabels=function(){var t,e,n,i,r,o,s,a,l,c,u,h,d,p=this,f=p.data,g=p.chart,m=p.options.dataLabels,v=be(m.connectorPadding,10),y=be(m.connectorWidth,1),b=g.plotWidth,w=g.plotHeight,x=be(m.softConnector,!0),_=m.distance,C=p.center,k=C[2]/2,T=C[1],M=_>0,D=[[],[]],A=[0,0,0,0],E=function(t,e){return e.y-t.y};if(p.visible&&(m.enabled||p._hasPointLabels)){for(Ve.prototype.drawDataLabels.apply(p),ae(f,function(t){t.dataLabel&&t.visible&&(D[t.half].push(t),t.dataLabel._pos=null)}),h=2;h--;){var P,I,O,L,R=[],H=[],z=D[h],F=z.length;if(F){for(p.sortByAngle(z,h-.5),d=s=0;!s&&z[d];)s=z[d]&&z[d].dataLabel&&(z[d].dataLabel.getBBox().height||21),d++;if(_>0){for(O=yt(T+k+_,g.plotHeight),I=vt(0,T-k-_);I<=O;I+=s)R.push(I);if(P=R.length,F>P){for(u=[].concat(z),u.sort(E),d=F;d--;)u[d].rank=d;for(d=F;d--;)z[d].rank>=P&&z.splice(d,1);F=z.length}for(d=0;d<F;d++){t=z[d],o=t.labelPos;var N,B,W=9999;for(B=0;B<P;B++)N=bt(R[B]-o[1]),N<W&&(W=N,L=B);if(L<d&&null!==R[d])L=d;else if(P<F-d+L&&null!==R[d])for(L=P-F+d;null===R[L];)L++;else for(;null===R[L];)L++;H.push({i:L,y:R[L]}),R[L]=null}H.sort(E)}for(d=0;d<F;d++){var V,q;t=z[d],o=t.labelPos,i=t.dataLabel,c=t.visible===!1?jt:"inherit",q=o[1],_>0?(V=H.pop(),L=V.i,l=V.y,(q>l&&null!==R[L+1]||q<l&&null!==R[L-1])&&(l=yt(vt(0,q),g.plotHeight))):l=q,a=m.justify?C[0]+(h?-1:1)*(k+_):p.getX(l===T-k-_||l===T+k+_?q:l,h),i._attr={visibility:c,align:o[6]},i._pos={x:a+m.x+({left:v,right:-v}[o[6]]||0),y:l+m.y-10},i.connX=a,i.connY=l,null===this.options.size&&(r=i.width,a-r<v?A[3]=vt(ft(r-a+v),A[3]):a+r>b-v&&(A[1]=vt(ft(a+r-b+v),A[1])),l-s/2<0?A[0]=vt(ft(-l+s/2),A[0]):l+s/2>w&&(A[2]=vt(ft(l+s/2-w),A[2])))}}}(0===S(A)||this.verifyDataLabelOverflow(A))&&(this.placeDataLabels(),M&&y&&ae(this.points,function(t){e=t.connector,o=t.labelPos,i=t.dataLabel,i&&i._pos&&t.visible?(c=i._attr.visibility,a=i.connX,l=i.connY,n=x?[Zt,a+("left"===o[6]?5:-5),l,"C",a,l,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],Kt,o[4],o[5]]:[Zt,a+("left"===o[6]?5:-5),l,Kt,o[2],o[3],Kt,o[4],o[5]],e?(e.animate({d:n}),e.attr("visibility",c)):t.connector=e=p.chart.renderer.path(n).attr({"stroke-width":y,stroke:m.connectorColor||t.color||"#606060",visibility:c}).add(p.dataLabelsGroup)):e&&(t.connector=e.destroy())}))}},re.pie.prototype.placeDataLabels=function(){ae(this.points,function(t){var e,n=t.dataLabel;n&&t.visible&&(e=n._pos,e?(n.attr(n._attr),n[n.moved?"animate":"attr"](e),n.moved=!0):n&&n.attr({y:-9999}))})},re.pie.prototype.alignDataLabel=zt,re.pie.prototype.verifyDataLabelOverflow=function(t){var e,n=this.center,i=this.options,r=i.center,o=i.minSize||80,s=o;return null!==r[0]?s=vt(n[2]-vt(t[1],t[3]),o):(s=vt(n[2]-t[1]-t[3],o),n[0]+=(t[3]-t[1])/2),null!==r[1]?s=vt(yt(s,n[2]-vt(t[0],t[2])),o):(s=vt(yt(s,n[2]-t[0]-t[2]),o),n[1]+=(t[0]-t[2])/2),s<n[2]?(n[2]=s,n[3]=Math.min(v(i.innerSize||0,s),s),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),re.column&&(re.column.prototype.alignDataLabel=function(t,e,n,r,o){var s,a=this.chart.inverted,l=t.series,c=t.dlBox||t.shapeArgs,u=be(t.below,t.plotY>be(this.translatedThreshold,l.yAxis.len)),h=be(n.inside,!!this.options.stacking);c&&(r=i(c),r.y<0&&(r.height+=r.y,r.y=0),s=r.y+r.height-l.yAxis.len,s>0&&(r.height-=s),a&&(r={x:l.yAxis.len-r.y-r.height,y:l.xAxis.len-r.x-r.width,width:r.height,height:r.width}),h||(a?(r.x+=u?0:r.width,r.width=0):(r.y+=u?r.height:0,r.height=0))),n.align=be(n.align,!a||h?"center":u?"right":"left"),n.verticalAlign=be(n.verticalAlign,a||h?"middle":u?"top":"bottom"),Ve.prototype.alignDataLabel.call(this,t,e,n,r,o)}),function(t){var e=t.Chart,n=t.each,i=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];n(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&n(o,function(r){n(t.points,function(t){t[r]&&(t[r].labelrank=i(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,i,r,o,s,a,l,c,u,h,d,p=t.length,f=function(t,e,n,i,r,o,s,a){return!(r>t+n||r+s<t||o>e+i||o+a<e)};for(i=0;i<p;i++)e=t[i],e&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),i=0;i<p;i++)for(o=t[i],r=i+1;r<p;++r)s=t[r],o&&s&&o.placed&&s.placed&&0!==o.newOpacity&&0!==s.newOpacity&&(l=o.alignAttr,c=s.alignAttr,u=o.parentGroup,h=s.parentGroup,d=2*(o.box?0:o.padding),a=f(l.x+u.translateX,l.y+u.translateY,o.width-d,o.height-d,c.x+h.translateX,c.y+h.translateY,s.width-d,s.height-d),a&&((o.labelrank<s.labelrank?o:s).newOpacity=0));n(t,function(t){var e,n;t&&(n=t.newOpacity,t.oldOpacity!==n&&t.placed&&(n?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=n,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(ht);var Qe=ht.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,n=e.pointer,i=t.options.cursor,r=i&&{cursor:i},o=function(t){for(var n,i=t.target;i&&!n;)n=i.point,i=i.parentNode;n!==N&&n!==e.hoverPoint&&n.onMouseOver(t)};ae(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.element.point=t)}),t._hasTracking||(ae(t.trackerGroups,function(e){t[e]&&(t[e].addClass($t+"tracker").on("mouseover",o).on("mouseout",function(t){n.onTrackerMouseOut(t)}).css(r),W&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,n=e.options,i=n.trackByArea,r=[].concat(i?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,l=s.renderer,c=s.options.tooltip.snap,u=e.tracker,h=n.cursor,d=h&&{cursor:h},p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(It?1e-4:.002)+")";if(o&&!i)for(t=o+1;t--;)r[t]===Zt&&r.splice(t+1,0,r[t+1]-c,r[t+2],Kt),(t&&r[t]===Zt||t===o)&&r.splice(t,0,Kt,r[t-2]+c,r[t-1]);u?u.attr({d:r}):(e.tracker=l.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?Ut:jt,stroke:f,fill:i?f:Xt,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).add(e.group),ae([e.tracker,e.markerGroup],function(t){t.addClass($t+"tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}).css(d),W&&t.on("touchstart",p)}))}};return re.column&&(Ge.prototype.drawTracker=Qe.drawTrackerPoint),re.pie&&(re.pie.prototype.drawTracker=Qe.drawTrackerPoint),re.scatter&&(Ze.prototype.drawTracker=Qe.drawTrackerPoint),ve(ze.prototype,{setItemEvents:function(t,e,n,i,r){var o=this;(n?e:t.legendGroup).on("mouseover",function(){t.setState(te),e.css(o.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?i:r),t.setState()}).on("click",function(e){var n="legendItemClick",i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent(n,e,i):pe(t,n,e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=f("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),he(t.checkbox,"click",function(e){var n=e.target;pe(t.series||t,"checkboxClick",{checked:n.checked,item:t},function(){t.select()})})}}),q.legend.itemStyle.cursor="pointer",ve(Ne.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,n=q.lang,i=e.options.chart.resetZoomButton,r=i.theme,o=r.states,s="chart"===i.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(n.resetZoom,null,null,t,r,o&&o.hover).attr({align:i.position.align,title:n.resetZoomTitle}).add().align(i.position,!1,s)},zoomOut:function(){var t=this;pe(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,n,i=this,r=i.pointer,o=!1;!t||t.resetSelection?ae(i.axes,function(t){e=t.zoom()}):ae(t.xAxis.concat(t.yAxis),function(t){var n=t.axis,i=n.isXAxis;(r[i?"zoomX":"zoomY"]||r[i?"pinchX":"pinchY"])&&(e=n.zoom(t.min,t.max),n.displayBtn&&(o=!0))}),n=i.resetZoomButton,o&&!n?i.showResetZoom():!o&&s(n)&&(i.resetZoomButton=n.destroy()),e&&i.redraw(be(i.options.chart.animation,t&&t.animation,i.pointCount<100))},pan:function(t,e){var n,i=this,r=i.hoverPoints;r&&ae(r,function(t){t.setState()}),ae("xy"===e?[1,0]:[1],function(e){var r=i[e?"xAxis":"yAxis"][0],o=r.horiz,s=t[o?"chartX":"chartY"],a=o?"mouseDownX":"mouseDownY",l=i[a],c=(r.pointRange||0)/2,u=r.getExtremes(),h=r.toValue(l-s,!0)+c,d=r.toValue(l+r.len-s,!0)-c,p=l>s;r.series.length&&(p||h>yt(u.dataMin,u.min))&&(!p||d<vt(u.dataMax,u.max))&&(r.setExtremes(h,d,!1,!1,{trigger:"pan"}),n=!0),i[a]=s}),n&&i.redraw(!1),p(i.container,{cursor:"move"})}}),ve(We.prototype,{select:function(t,e){var n=this,i=n.series,r=i.chart;t=be(t,!n.selected),n.firePointEvent(t?"select":"unselect",{accumulate:e},function(){n.selected=n.options.selected=t,i.options.data[se(n,i.data)]=n.options,n.setState(t&&ee),e||ae(r.getSelectedPoints(),function(t){t.selected&&t!==n&&(t.selected=t.options.selected=!1,i.options.data[se(t,i.data)]=t.options,t.setState(Qt),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var n=this,i=n.series,r=i.chart,o=r.tooltip,s=r.hoverPoint;r.hoverSeries!==i&&i.onMouseOver(),s&&s!==n&&s.onMouseOut(),n.series&&(n.firePointEvent("mouseOver"),!o||o.shared&&!i.noSharedTooltip||o.refresh(n,t),n.setState(te),e||(r.hoverPoint=n))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&se(this,e)!==-1||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,n=i(e.series.options.point,e.options),r=n.events;e.events=r;for(t in r)he(e,t,r[t]);this.hasImportedEvents=!0}},setState:function(t,e){var n,r,o,s,a=this,l=gt(a.plotX),c=a.plotY,u=a.series,h=u.options.states,d=xe[u.type].marker&&u.options.marker,p=d&&!d.enabled,f=d&&d.states[t],g=f&&f.enabled===!1,m=u.stateMarkerGraphic,v=a.marker||{},y=u.chart,b=u.halo;t=t||Qt,s=a.pointAttr[t]||u.pointAttr[t],t===a.state&&!e||a.selected&&t!==ee||h[t]&&h[t].enabled===!1||t&&(g||p&&f.enabled===!1)||t&&v.states&&v.states[t]&&v.states[t].enabled===!1||(a.graphic?(n=d&&a.graphic.symbolName&&s.r,a.graphic.attr(i(s,n?{x:l-n,y:c-n,width:2*n,height:2*n}:{})),m&&m.hide()):(t&&f&&(n=f.radius,o=v.symbol||u.symbol,m&&m.currentSymbol!==o&&(m=m.destroy()),m?m[e?"animate":"attr"]({x:l-n,y:c-n}):o&&(u.stateMarkerGraphic=m=y.renderer.symbol(o,l-n,c-n,2*n,2*n).attr(s).add(u.markerGroup),m.currentSymbol=o)),m&&(m[t&&y.isInsidePlot(l,c,y.inverted)?"show":"hide"](),m.element.point=a)),r=h[t]&&h[t].halo,r&&r.size?(b||(u.halo=b=y.renderer.path().add(y.seriesGroup)),b.attr(ve({fill:a.color||u.color,"fill-opacity":r.opacity,zIndex:-1},r.attributes))[e?"animate":"attr"]({d:a.haloPath(r.size)})):b&&b.attr({d:[]}),a.state=t)},haloPath:function(t){var e=this.series,n=e.chart,i=e.getPlotBox(),r=n.inverted,o=Math.floor(this.plotX);return n.renderer.symbols.circle(i.translateX+(r?e.yAxis.len-this.plotY:o)-t,i.translateY+(r?e.xAxis.len-o:this.plotY)-t,2*t,2*t)}}),ve(Ve.prototype,{onMouseOver:function(){var t=this,e=t.chart,n=e.hoverSeries;n&&n!==t&&n.onMouseOut(),t.options.events.mouseOver&&pe(t,"mouseOver"),t.setState(te),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,n=t.chart,i=n.tooltip,r=n.hoverPoint;n.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&pe(t,"mouseOut"),!i||e.stickyTracking||i.shared&&!t.noSharedTooltip||i.hide(),t.setState()},setState:function(t){var e,n=this,i=n.options,r=n.graph,o=i.states,s=i.lineWidth,a=0;if(t=t||Qt,n.state!==t){if(n.state=t,o[t]&&o[t].enabled===!1)return;if(t&&(s=o[t].lineWidth||s+(o[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":s},r.attr(e);n["zoneGraph"+a];)n["zoneGraph"+a].attr(e),a+=1}},setVisible:function(t,e){var n,i=this,r=i.chart,o=i.legendItem,s=r.options.chart.ignoreHiddenSeries,a=i.visible;i.visible=t=i.userOptions.visible=t===N?!a:t,n=t?"show":"hide",ae(["group","dataLabelsGroup","markerGroup","tracker"],function(t){i[t]&&i[t][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),o&&r.legend.colorizeItem(i,t),i.isDirty=!0,i.options.stacking&&ae(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),ae(i.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),e!==!1&&r.redraw(),pe(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=t===N?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),pe(e,t?"select":"unselect")},drawTracker:Qe.drawTrackerGraph}),ve(ht,{Color:L,Point:We,Tick:z,Renderer:B,SVGElement:R,SVGRenderer:Ce,arrayMin:k,arrayMax:S,charts:Ft,correctFloat:D,dateFormat:Y,error:e,format:w,pathAnim:j,getOptions:O,hasBidiBug:Ot,isTouchDevice:Et,setOptions:I,addEvent:he,removeEvent:de,createElement:f,discardElement:M,css:p,each:ae,map:ue,merge:i,splat:h,stableSort:C,extendClass:g,pInt:r,svg:It,canvas:Lt,vml:!It&&!Lt,product:Bt,version:Wt}),ht})},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="strength-log-graph-container"><div id="strength-log-graph-rep"></div><div id="strength-log-graph-weight"></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;l=n(49),i=n(11),o=n(13),r=n(82),h=n(112),u=function(t,e){var n,i,r,o;for(r=[],n=0,i=t.length;n<i;n++)o=t[n],r.push(Math.pow(o-e,2));return _.sum(r)/(t.length-1)},c=function(t){return Math.sqrt(t)},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.defaults={name:"",exercise:"",muscle:0,weightMin:0,weightAvg:0,weightMax:0,weightSD:0,weightTotal:0,repMin:0,repAvg:0,repMax:0,repSD:0,repTotal:0},e}(i.Model),a=function(t){function e(t){e.__super__.constructor.call(this,_.extend({},t,{model:new s})),this.mergeOptions(t,["sConf","sLogs"]),this.rootChannel=i.Radio.channel("root")}return d(e,t),e.prototype.template=h,e.prototype.ui={table:"#log-table"},e.prototype.bindings={"#log-table-name":"name","#log-table-muscle":{observe:"muscle",onGet:function(t){return _.find(r.Muscles,{value:t}).label}},"#log-table-date":{observe:"date",onGet:function(t){return l(t).format("MM/DD/YY")}},"#log-table-weight-max":{observe:"weightMax",onGet:function(t){return t?t:"---"}},"#log-table-weight-min":{observe:"weightMin",onGet:function(t){return t?t:"---"}},"#log-table-weight-avg":{observe:"weightAvg",onGet:function(t){return t?t:"---"}},"#log-table-weight-total":{observe:"weightTotal"},"#log-table-rep-min":{observe:"repMin",onGet:function(t){return t?t:"---"}},"#log-table-rep-max":{observe:"repMax",onGet:function(t){return t?t:"---"}},"#log-table-rep-avg":{observe:"repAvg",onGet:function(t){return t?t:"---"}},"#log-table-rep-total":{observe:"repTotal"}},e.prototype.onRender=function(){this.stickit(),this.updateModel(this.sConf,this.sLogs)},e.prototype.updateModel=function(t,e){var n,i,r,o;r=[],i=[],e.each(function(t){var e;return e=l(t.get("date")).valueOf(),r.push({id:e,x:e,y:t.get("weight")}),i.push({id:e,x:e,y:t.get("rep")})}),o=this.reduce(r),n=this.reduce(i),this.model.set({name:t.get("name"),exerciseID:t.id,muscle:t.get("muscle"),weightMin:o.min,weightMax:o.max,weightAvg:o.avg,weightSD:o.sd,weightTotal:o.total,repMin:n.min,repMax:n.max,repAvg:n.avg,repSD:n.sd,repTotal:n.total})},e.prototype.reduce=function(t){var e,n;return n=_.map(t,function(t){return t.y}),e=c(u(n,_.mean(n))),{min:this.min(n),max:this.max(n),avg:this.avg(n),total:n.length,sd:_.round(e,2)}},e.prototype.min=function(t){return _.round(_.min(t),2)},e.prototype.max=function(t){return _.round(_.max(t),2)},e.prototype.avg=function(t){return _.round(_.mean(t),2)},e}(o.ItemView),t.exports=a},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><table id="log-table" class="table table-striped table-hover table-condensed table-responsive"><thead><tr><th></th><th><b>Rep</b></th><th><b>Weight(lb)</b></th></tr></thead><tbody><tr><td>Maximum</td><td id="log-table-rep-max"></td><td id="log-table-weight-max"></td></tr><tr><td>Average</td><td id="log-table-rep-avg"></td><td id="log-table-weight-avg"></td></tr><tr><td>Minimum</td><td id="log-table-rep-min"></td><td id="log-table-weight-min"></td></tr><tr><td>Total Count</td><td id="log-table-rep-total"></td><td id="log-table-weight-total"></td></tr></tbody></table></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;s=n(49),i=n(114),r=n(13),a=n(118),o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["date","sLogs","sConf"])}return l(e,t),e.prototype.template=a,e.prototype.ui={rep:".strength-goal-rep",weight:".strength-goal-weight"},e.prototype.regions={repGauge:".strength-goal-rep-gauge-container",weightGauge:".strength-goal-weight-gauge-container"},e.prototype.onRender=function(){var t,e,n;n=[],e=[],this.sLogs.each(function(t){var i;return i=s(t.get("date")).valueOf(),n.push({id:i,x:i,y:t.get("weight")}),e.push({id:i,x:i,y:t.get("rep")})}),this.showChildView("repGauge",new i({logs:e,date:this.date,type:"rep"})),(null!=(t=this.sConf)?t.get("body"):void 0)===!1?this.showChildView("weightGauge",new i({logs:n,date:this.date,type:"weight"})):(this.ui.weight.hide(),this.ui.rep.switchClass("col-sm-6","col-sm-12"))},e}(r.LayoutView),t.exports=o},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;l=n(115),c=n(49),i=n(11),o=n(13),d=n(116),r=n(117),h=function(t,e){var n,i,r,o;for(r=[],n=0,i=t.length;n<i;n++)o=t[n],r.push(Math.pow(o-e,2));return _.sum(r)/(t.length-1)},u=function(t){return Math.sqrt(t)},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.defaults={gold:0,silver:0,bronze:0,value:0},e}(i.Model),a=function(t){function e(t){e.__super__.constructor.call(this,_.extend({},t,{model:new s})),this.mergeOptions(t,["logs","date","type"])}return p(e,t),e.prototype.template=d,e.prototype.ui={level:".strength-goal-level"},e.prototype.serializeData=function(){return{label:"rep"===this.type?"Reps":"Weight (lb)"}},e.prototype.bindings={".strength-goal-value":"value"},e.prototype.onRender=function(){this.stickit(),this.updateModel(this.logs)},e.prototype.onShow=function(){var t,e,n,i,o,s,a,c;a=$(this.el).find(".strength-goal-gauge")[0],i=this.model.get("bronze"),n=this.model.get("gold"),t="rep"===this.type?"#00ffa4":"#FE7935",o={lines:12,angle:.15,lineWidth:.44,limitMax:"false",colorStart:t,colorStop:t,strokeColor:"#E0E0E0",generateGradient:!0,pointer:{length:.8,strokeWidth:.035,color:"#000000"}},e=new r.Gauge(a).setOptions(o),e.minValue=i,e.maxValue=n,e.animationSpeed=83,c=_.clamp(this.model.get("value"),i,n),e.set(c),s=l.scaleLinear().domain([i,n]).range([0,100]),this.ui.level.html(_.round(s(c),0))},e.prototype.updateModel=function(t){var e,n;return e=_(t).filter(function(t){return function(e){var n,i;return i=c(t.date),n=c(e.x),n.isAfter(i.startOf("day"))&&n.isBefore(i.endOf("day"))}}(this)).map(function(t){return t.y}).value(),this.model.set("value",this.max(e)),n=_(t).filter(function(t){return function(e){var n,i;return i=c(t.date).subtract(1,"days"),n=c(e.x),n.isBefore(i.endOf("day"))}}(this)).map(function(t){return t.y}).value(),"rep"===this.type?this.reduceRep(n):this.reduceWeight(n),n},e.prototype.reduceWeight=function(t){var e,n,i,r,o,s;n=0,o=this.mean(t),r=u(h(t,o)),0===r&&(r=5),e=_.round(o-r||o,n)||0,e=this.roundUp5(e),s=_.round(o,n)||0,s=this.roundUp5(s),i=_.round(o+r||o,n)||0,i=this.roundUp5(i),this.model.set({bronze:e,silver:s,gold:i})},e.prototype.reduceRep=function(t){var e,n,i,r,o,s;n=0,o=this.mean(t),r=u(h(t,o)),0===r&&(r=5),e=_.round(o-r||o,n)||0,s=_.round(o,n)||0,i=_.round(o+r||o,n)||0,this.model.set({bronze:e,silver:s,gold:i})},e.prototype.min=function(t){return _.min(t)},e.prototype.max=function(t){return _.max(t)},e.prototype.mean=function(t){return _.mean(t)},e.prototype.roundUp5=function(t){return 5*Math.ceil(t/5)},e}(o.ItemView),t.exports=a},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return bc(t(e),n)}}function n(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=Rc?r*=10:o>=Hc?r*=5:o>=zc&&(r*=2),e<t?-r:r}function i(t){return t.length}function r(){}function o(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,s=t.length;if(null==e)for(;++o<s;)n.set(o,t[o]);else for(;++o<s;)n.set(e(i=t[o],o,t),i)}else if(t)for(var a in t)n.set(a,t[a]);return n}function s(){return{}}function a(t,e,n){t[e]=n}function l(){return o()}function c(t,e,n){t.set(e,n)}function u(){}function h(t,e){var n=new u;if(t instanceof u)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}function d(t){return+t}function p(t){return t*t}function f(t){return t*(2-t)}function g(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function m(t){return t*t*t}function v(t){return--t*t*t+1;
}function y(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function b(t){return 1-Math.cos(t*bu)}function w(t){return Math.sin(t*bu)}function x(t){return(1-Math.cos(yu*t))/2}function _(t){return Math.pow(2,10*t-10)}function C(t){return 1-Math.pow(2,-10*t)}function k(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function S(t){return 1-Math.sqrt(1-t*t)}function T(t){return Math.sqrt(1- --t*t)}function M(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function D(t){return 1-A(1-t)}function A(t){return(t=+t)<wu?Au*t*t:t<_u?Au*(t-=xu)*t+Cu:t<Su?Au*(t-=ku)*t+Tu:Au*(t-=Mu)*t+Du}function E(t){return((t*=2)<=1?1-A(1-t):A(t-1)+1)/2}function P(t,e){return t[0]-e[0]||t[1]-e[1]}function I(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&Vu(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function O(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function L(){return new O}function R(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,c,u,h,d,p=t._root,f={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=f,t;for(;p.length;)if((c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+y)/2))?m=s:y=s,r=p,!(p=p[h=u<<1|c]))return r[h]=f,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return f.next=p,r?r[h]=f:t._root=f,t;do r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(m+y)/2))?m=s:y=s;while((h=u<<1|c)===(d=(l>=s)<<1|a>=o));return r[d]=p,r[h]=f,t}function H(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-(1/0),h=-(1/0);for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));for(u<l&&(l=this._x0,u=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(l,c).cover(u,h),n=0;n<o;++n)R(this,s[n],a[n],t[n]);return this}function z(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function F(t){return t[0]}function N(t){return t[1]}function B(t,e,n){var i=new W(null==e?F:e,null==n?N:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function W(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function V(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function q(t){if(!(t>=1))throw new Error;this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Y(t){if(!t._start)try{j(t)}catch(e){if(t._tasks[t._ended+t._active-1])U(t,e);else if(!t._data)throw e}}function j(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],i=n.length-1,r=n[i];n[i]=$(t,e),--t._waiting,++t._active,n=r.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||hh)}}function $(t,e){return function(n,i){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?U(t,n):(t._data[e]=i,t._waiting?Y(t):G(t))))}}function U(t,e){var n,i=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--i>=0;)if((n=t._tasks[i])&&(t._tasks[i]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,G(t)}function G(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function X(t){return new q(arguments.length?+t:1/0)}function Z(t){return t.innerRadius}function K(t){return t.outerRadius}function J(t){return t.startAngle}function Q(t){return t.endAngle}function tt(t){return t&&t.padAngle}function et(t){return t>=1?gh:t<=-1?-gh:Math.asin(t)}function nt(t,e,n,i,r,o,s,a){var l=n-t,c=i-e,u=s-r,h=a-o,d=(u*(e-o)-h*(t-r))/(h*l-u*c);return[t+d*l,e+d*c]}function it(t,e,n,i,r,o,s){var a=t-n,l=e-i,c=(s?o:-o)/Math.sqrt(a*a+l*l),u=c*l,h=-c*a,d=t+u,p=e+h,f=n+u,g=i+h,m=(d+f)/2,v=(p+g)/2,y=f-d,b=g-p,w=y*y+b*b,x=r-o,_=d*g-f*p,C=(b<0?-1:1)*Math.sqrt(Math.max(0,x*x*w-_*_)),k=(_*b-y*C)/w,S=(-_*y-b*C)/w,T=(_*b+y*C)/w,M=(-_*y+b*C)/w,D=k-m,A=S-v,E=T-m,P=M-v;return D*D+A*A>E*E+P*P&&(k=T,S=M),{cx:k,cy:S,x01:-u,y01:-h,x11:k*(r/x-1),y11:S*(r/x-1)}}function rt(t){this._context=t}function ot(t){return t[0]}function st(t){return t[1]}function at(t){this._curve=t}function lt(t){function e(e){return new at(t(e))}return e._curve=t,e}function ct(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(lt(t)):e()._curve},t}function ut(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ht(t){this._context=t}function dt(t){this._context=t}function pt(t){this._context=t}function ft(t,e){this._basis=new ht(t),this._beta=e}function gt(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function mt(t,e){this._context=t,this._k=(1-e)/6}function vt(t,e){this._context=t,this._k=(1-e)/6}function yt(t,e){this._context=t,this._k=(1-e)/6}function bt(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>ph){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>ph){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function wt(t,e){this._context=t,this._alpha=e}function xt(t,e){this._context=t,this._alpha=e}function _t(t,e){this._context=t,this._alpha=e}function Ct(t){this._context=t}function kt(t){return t<0?-1:1}function St(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(kt(o)+kt(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Tt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Mt(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Dt(t){this._context=t}function At(t){this._context=new Et(t)}function Et(t){this._context=t}function Pt(t){return new Dt(t)}function It(t){return new At(t)}function Ot(t){this._context=t}function Lt(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function Rt(t,e){this._context=t,this._t=e}function Ht(t){return new Rt(t,0)}function zt(t){return new Rt(t,1)}function Ft(t,e){return t[e]}function Nt(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}function Bt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Wt(){}function Vt(t){var e;return t=(t+"").trim().toLowerCase(),(e=xd.exec(t))?(e=parseInt(e[1],16),new Ut(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=_d.exec(t))?qt(parseInt(e[1],16)):(e=Cd.exec(t))?new Ut(e[1],e[2],e[3],1):(e=kd.exec(t))?new Ut(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Sd.exec(t))?Yt(e[1],e[2],e[3],e[4]):(e=Td.exec(t))?Yt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Md.exec(t))?Gt(e[1],e[2]/100,e[3]/100,1):(e=Dd.exec(t))?Gt(e[1],e[2]/100,e[3]/100,e[4]):Ad.hasOwnProperty(t)?qt(Ad[t]):"transparent"===t?new Ut(NaN,NaN,NaN,0):null}function qt(t){return new Ut(t>>16&255,t>>8&255,255&t,1)}function Yt(t,e,n,i){return i<=0&&(t=e=n=NaN),new Ut(t,e,n,i)}function jt(t){return t instanceof Wt||(t=Vt(t)),t?(t=t.rgb(),new Ut(t.r,t.g,t.b,t.opacity)):new Ut}function $t(t,e,n,i){return 1===arguments.length?jt(t):new Ut(t,e,n,null==i?1:i)}function Ut(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Gt(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Kt(t,e,n,i)}function Xt(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);if(t instanceof Wt||(t=Vt(t)),!t)return new Kt;if(t instanceof Kt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Kt(s,a,l,t.opacity)}function Zt(t,e,n,i){return 1===arguments.length?Xt(t):new Kt(t,e,n,null==i?1:i)}function Kt(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Qt(t){if(t instanceof ee)return new ee(t.l,t.a,t.b,t.opacity);if(t instanceof le){var e=t.h*Ed;return new ee(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Ut||(t=jt(t));var n=oe(t.r),i=oe(t.g),r=oe(t.b),o=ne((.4124564*n+.3575761*i+.1804375*r)/Od),s=ne((.2126729*n+.7151522*i+.072175*r)/Ld),a=ne((.0193339*n+.119192*i+.9503041*r)/Rd);return new ee(116*s-16,500*(o-s),200*(s-a),t.opacity)}function te(t,e,n,i){return 1===arguments.length?Qt(t):new ee(t,e,n,null==i?1:i)}function ee(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function ne(t){return t>Nd?Math.pow(t,1/3):t/Fd+Hd}function ie(t){return t>zd?t*t*t:Fd*(t-Hd)}function re(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function oe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function se(t){if(t instanceof le)return new le(t.h,t.c,t.l,t.opacity);t instanceof ee||(t=Qt(t));var e=Math.atan2(t.b,t.a)*Pd;return new le(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ae(t,e,n,i){return 1===arguments.length?se(t):new le(t,e,n,null==i?1:i)}function le(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function ce(t){if(t instanceof he)return new he(t.h,t.s,t.l,t.opacity);t instanceof Ut||(t=jt(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(Ud*i+jd*e-$d*n)/(Ud+jd-$d),o=i-r,s=(Yd*(n-r)-Vd*o)/qd,a=Math.sqrt(s*s+o*o)/(Yd*r*(1-r)),l=a?Math.atan2(s,o)*Pd-120:NaN;return new he(l<0?l+360:l,a,r,t.opacity)}function ue(t,e,n,i){return 1===arguments.length?ce(t):new he(t,e,n,null==i?1:i)}function he(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function de(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}function pe(t,e){return function(n){return t+n*e}}function fe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function ge(t,e){var n=e-t;return n?pe(t,n>180||n<-180?n-360*Math.round(n/360):n):tp(isNaN(t)?e:t)}function me(t){return 1===(t=+t)?ve:function(e,n){return n-e?fe(e,n,t):tp(isNaN(e)?n:e)}}function ve(t,e){var n=e-t;return n?pe(t,n):tp(isNaN(t)?e:t)}function ye(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=$t(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}function be(t){return function(){return t}}function we(t){return function(e){return t(e)+""}}function xe(t){return"none"===t?fp:(Gd||(Gd=document.createElement("DIV"),Xd=document.documentElement,Zd=document.defaultView),Gd.style.transform=t,t=Zd.getComputedStyle(Xd.appendChild(Gd),null).getPropertyValue("transform"),Xd.removeChild(Gd),t=t.slice(7,-1).split(","),gp(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function _e(t){return null==t?fp:(Kd||(Kd=document.createElementNS("http://www.w3.org/2000/svg","g")),Kd.setAttribute("transform",t),(t=Kd.transform.baseVal.consolidate())?(t=t.matrix,gp(t.a,t.b,t.c,t.d,t.e,t.f)):fp)}function Ce(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}function o(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:sp(t,r)},{i:l-2,x:sp(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}function s(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:sp(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}function a(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:sp(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}function l(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:sp(t,n)},{i:a-2,x:sp(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}return function(e,n){var i=[],r=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,i,r),s(e.rotate,n.rotate,i,r),a(e.skewX,n.skewX,i,r),l(e.scaleX,e.scaleY,n.scaleX,n.scaleY,i,r),e=n=null,function(t){for(var e,n=-1,o=r.length;++n<o;)i[(e=r[n]).i]=e.x(t);return i.join("")}}}function ke(t){return((t=Math.exp(t))+1/t)/2}function Se(t){return((t=Math.exp(t))-1/t)/2}function Te(t){return((t=Math.exp(2*t))-1)/(t+1)}function Me(t){return function(e,n){var i=t((e=Zt(e)).h,(n=Zt(n)).h),r=ve(e.s,n.s),o=ve(e.l,n.l),s=ve(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function De(t,e){var n=ve((t=te(t)).l,(e=te(e)).l),i=ve(t.a,e.a),r=ve(t.b,e.b),o=ve(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function Ae(t){return function(e,n){var i=t((e=ae(e)).h,(n=ae(n)).h),r=ve(e.c,n.c),o=ve(e.l,n.l),s=ve(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}function Ee(t){return function e(n){function i(e,i){var r=t((e=ue(e)).h,(i=ue(i)).h),o=ve(e.s,i.s),s=ve(e.l,i.l),a=ve(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}function Pe(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new Ie(i)}function Ie(t){this._=t}function Oe(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Le(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function Re(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=Ep,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}function He(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ze(t,e){var n=He(t);return function(i,r){return e(n(i),r,t)}}function Fe(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Ne(t){return function(e,n){t(null==e?n:null)}}function Be(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function We(t,e){return function(n){return t(n.responseText,e)}}function Ve(){return of||(lf(qe),of=af.now()+sf)}function qe(){of=0}function Ye(){this._call=this._time=this._next=null}function je(t,e,n){var i=new Ye;return i.restart(t,e,n),i}function $e(){Ve(),++Qp;for(var t,e=Pp;e;)(t=of-e._time)>=0&&e._call.call(null,t),e=e._next;--Qp}function Ue(){of=(rf=af.now())+sf,Qp=tf=0;try{$e()}finally{Qp=0,Xe(),of=0}}function Ge(){var t=af.now(),e=t-rf;e>nf&&(sf-=e,rf=t)}function Xe(){for(var t,e,n=Pp,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Pp=e);Ip=t,Ze(i)}function Ze(t){if(!Qp){tf&&(tf=clearTimeout(tf));var e=t-of;e>24?(t<1/0&&(tf=setTimeout(Ue,e)),ef&&(ef=clearInterval(ef))):(ef||(ef=setInterval(Ge,nf)),Qp=1,lf(Ue))}}function Ke(t,e,n,i){function r(e){return t(e=new Date((+e))),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date((+t)),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return s;do s.push(new Date((+n)));while(e(n,o),t(n),n<i);return s},r.filter=function(n){return Ke(function(e){for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return hf.setTime(+e),df.setTime(+i),t(hf),t(df),Math.floor(n(hf,df))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t===0}:function(e){return r.count(0,e)%t===0}):r:null}),r}function Je(t){return Ke(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mf)/bf})}function Qe(t){return Ke(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/bf})}function tn(t){if(!(e=kg.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",i=e[2]||">",r=e[3]||"-",o=e[4]||"",s=!!e[5],a=e[6]&&+e[6],l=!!e[7],c=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(l=!0,u="g"):Cg[u]||(u=""),(s||"0"===n&&"="===i)&&(s=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=o,this.zero=s,this.width=a,this.comma=l,this.precision=c,this.type=u}function en(t){return t}function nn(e){return Tg=Dg(e),t.format=Tg.format,t.formatPrefix=Tg.formatPrefix,Tg}function rn(t){if(0<=t.y&&t.y<100){var e=new Date((-1),t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function on(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sn(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function an(t){function e(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date((+n)));++a<c;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=Og[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function n(t,e){return function(n){var r=sn(1900),o=i(r,t,n+="",0);if(o!=n.length)return null;if("p"in r&&(r.H=r.H%12+12*r.p),"W"in r||"U"in r){"w"in r||(r.w="W"in r?1:0);var s="Z"in r?on(sn(r.y)).getUTCDay():e(sn(r.y)).getDay();r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(s+5)%7:r.w+7*r.U-(s+6)%7}return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,on(r)):e(r)}}function i(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(r=e.charCodeAt(s++),37===r){if(r=e.charAt(s++),o=V[r in Og?e.charAt(s++):r],!o||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function r(t,e,n){var i=E.exec(e.slice(n));return i?(t.p=P[i[0].toLowerCase()],n+i[0].length):-1}function o(t,e,n){var i=L.exec(e.slice(n));return i?(t.w=R[i[0].toLowerCase()],n+i[0].length):-1}function s(t,e,n){var i=I.exec(e.slice(n));return i?(t.w=O[i[0].toLowerCase()],n+i[0].length):-1}function a(t,e,n){var i=F.exec(e.slice(n));return i?(t.m=N[i[0].toLowerCase()],n+i[0].length):-1}function l(t,e,n){var i=H.exec(e.slice(n));return i?(t.m=z[i[0].toLowerCase()],n+i[0].length):-1}function c(t,e,n){return i(t,_,e,n)}function u(t,e,n){return i(t,C,e,n)}function h(t,e,n){return i(t,k,e,n)}function d(t){return M[t.getDay()]}function p(t){return T[t.getDay()]}function f(t){return A[t.getMonth()]}function g(t){return D[t.getMonth()]}function m(t){return S[+(t.getHours()>=12)]}function v(t){return M[t.getUTCDay()]}function y(t){return T[t.getUTCDay()]}function b(t){return A[t.getUTCMonth()]}function w(t){return D[t.getUTCMonth()]}function x(t){return S[+(t.getUTCHours()>=12)]}var _=t.dateTime,C=t.date,k=t.time,S=t.periods,T=t.days,M=t.shortDays,D=t.months,A=t.shortMonths,E=un(S),P=hn(S),I=un(T),O=hn(T),L=un(M),R=hn(M),H=un(D),z=hn(D),F=un(A),N=hn(A),B={a:d,A:p,b:f,B:g,c:null,d:Tn,e:Tn,H:Mn,I:Dn,j:An,L:En,m:Pn,M:In,p:m,S:On,U:Ln,w:Rn,W:Hn,x:null,X:null,y:zn,Y:Fn,Z:Nn,"%":ti},W={a:v,A:y,b:b,B:w,c:null,d:Bn,e:Bn,H:Wn,I:Vn,j:qn,L:Yn,m:jn,M:$n,p:x,S:Un,U:Gn,w:Xn,W:Zn,x:null,X:null,y:Kn,Y:Jn,Z:Qn,"%":ti},V={a:o,A:s,b:a,B:l,c:c,d:bn,e:bn,H:xn,I:xn,j:wn,L:kn,m:yn,M:_n,p:r,S:Cn,U:pn,w:dn,W:fn,x:u,X:h,y:mn,Y:gn,Z:vn,"%":Sn};return B.x=e(C,B),B.X=e(k,B),B.c=e(_,B),W.x=e(C,W),W.X=e(k,W),W.c=e(_,W),{format:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",rn);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",W);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,on);return e.toString=function(){return t},e}}}function ln(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function cn(t){return t.replace(Hg,"\\$&")}function un(t){return new RegExp("^(?:"+t.map(cn).join("|")+")","i")}function hn(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function dn(t,e,n){var i=Lg.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function pn(t,e,n){var i=Lg.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function fn(t,e,n){var i=Lg.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function gn(t,e,n){var i=Lg.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function mn(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function vn(t,e,n){var i=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function yn(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function bn(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function wn(t,e,n){var i=Lg.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function xn(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function _n(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function Cn(t,e,n){var i=Lg.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function kn(t,e,n){var i=Lg.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function Sn(t,e,n){var i=Rg.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function Tn(t,e){return ln(t.getDate(),e,2)}function Mn(t,e){return ln(t.getHours(),e,2)}function Dn(t,e){return ln(t.getHours()%12||12,e,2)}function An(t,e){return ln(1+Tf.count(Yf(t),t),e,3)}function En(t,e){return ln(t.getMilliseconds(),e,3)}function Pn(t,e){return ln(t.getMonth()+1,e,2)}function In(t,e){return ln(t.getMinutes(),e,2)}function On(t,e){return ln(t.getSeconds(),e,2)}function Ln(t,e){return ln(Df.count(Yf(t),t),e,2)}function Rn(t){return t.getDay()}function Hn(t,e){return ln(Af.count(Yf(t),t),e,2)}function zn(t,e){return ln(t.getFullYear()%100,e,2)}function Fn(t,e){return ln(t.getFullYear()%1e4,e,4)}function Nn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ln(e/60|0,"0",2)+ln(e%60,"0",2)}function Bn(t,e){return ln(t.getUTCDate(),e,2)}function Wn(t,e){return ln(t.getUTCHours(),e,2)}function Vn(t,e){return ln(t.getUTCHours()%12||12,e,2)}function qn(t,e){return ln(1+Zf.count(fg(t),t),e,3)}function Yn(t,e){return ln(t.getUTCMilliseconds(),e,3)}function jn(t,e){return ln(t.getUTCMonth()+1,e,2)}function $n(t,e){return ln(t.getUTCMinutes(),e,2)}function Un(t,e){return ln(t.getUTCSeconds(),e,2)}function Gn(t,e){return ln(Jf.count(fg(t),t),e,2)}function Xn(t){return t.getUTCDay()}function Zn(t,e){return ln(Qf.count(fg(t),t),e,2)}function Kn(t,e){return ln(t.getUTCFullYear()%100,e,2)}function Jn(t,e){return ln(t.getUTCFullYear()%1e4,e,4)}function Qn(){return"+0000"}function ti(){return"%"}function ei(e){return Ag=an(e),t.timeFormat=Ag.format,t.timeParse=Ag.parse,t.utcFormat=Ag.utcFormat,t.utcParse=Ag.utcParse,Ag}function ni(t){return t.toISOString()}function ii(t){var e=new Date(t);return isNaN(e)?null:e}function ri(t){function e(e){var o=e+"",s=n.get(o);if(!s){if(r!==qg)return r;n.set(o,s=i.push(e))}return t[(s-1)%t.length]}var n=o(),i=[],r=qg;return t=null==t?[]:Vg.call(t),e.domain=function(t){if(!arguments.length)return i.slice();i=[],n=o();for(var r,s,a=-1,l=t.length;++a<l;)n.has(s=(r=t[a])+"")||n.set(s,i.push(r));return e},e.range=function(n){return arguments.length?(t=Vg.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(r=t,e):r},e.copy=function(){return ri().domain(i).range(t).unknown(r)},e}function oi(){function t(){var t=r().length,i=s[1]<s[0],h=s[i-0],d=s[1-i];e=(d-h)/Math.max(1,t-l+2*c),a&&(e=Math.floor(e)),h+=(d-h-e*(t-l))*u,n=e*(1-l),a&&(h=Math.round(h),n=Math.round(n));var p=Lc(t).map(function(t){return h+e*t});return o(i?p.reverse():p)}var e,n,i=ri().unknown(void 0),r=i.domain,o=i.range,s=[0,1],a=!1,l=0,c=0,u=.5;return delete i.unknown,i.domain=function(e){return arguments.length?(r(e),t()):r()},i.range=function(e){return arguments.length?(s=[+e[0],+e[1]],t()):s.slice()},i.rangeRound=function(e){return s=[+e[0],+e[1]],a=!0,t()},i.bandwidth=function(){return n},i.step=function(){return e},i.round=function(e){return arguments.length?(a=!!e,t()):a},i.padding=function(e){return arguments.length?(l=c=Math.max(0,Math.min(1,e)),t()):l},i.paddingInner=function(e){return arguments.length?(l=Math.max(0,Math.min(1,e)),t()):l},i.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},i.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},i.copy=function(){return oi().domain(r()).range(s).round(a).paddingInner(l).paddingOuter(c).align(u)},t()}function si(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return si(e())},t}function ai(){return si(oi().paddingInner(1))}function li(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Yg(e)}function ci(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:i(t)}}}function ui(t){return function(e,n){var i=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:i(t)}}}function hi(t,e,n,i){var r=t[0],o=t[1],s=e[0],a=e[1];return o<r?(r=n(o,r),s=i(a,s)):(r=n(r,o),s=i(s,a)),function(t){return s(r(t))}}function di(t,e,n,i){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=n(t[a],t[a+1]),s[a]=i(e[a],e[a+1]);return function(e){var n=_c(t,e,1,r)-1;return s[n](o[n](e))}}function pi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function fi(t,e){function n(){return r=Math.min(a.length,l.length)>2?di:hi,o=s=null,i}function i(e){return(o||(o=r(a,l,u?ci(t):t,c)))(+e)}var r,o,s,a=$g,l=$g,c=hp,u=!1;return i.invert=function(t){return(s||(s=r(l,a,li,u?ui(e):e)))(+t)},i.domain=function(t){return arguments.length?(a=Wg.call(t,jg),n()):a.slice()},i.range=function(t){return arguments.length?(l=Vg.call(t),n()):l.slice()},i.rangeRound=function(t){return l=Vg.call(t),c=dp,n()},i.clamp=function(t){return arguments.length?(u=!!t,n()):u},i.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function gi(t){var e=t.domain;return t.ticks=function(t){var n=e();return Fc(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return Ug(e(),t,n)},t.nice=function(i){var r=e(),o=r.length-1,s=null==i?10:i,a=r[0],l=r[o],c=n(a,l,s);return c&&(c=n(Math.floor(a/c)*c,Math.ceil(l/c)*c,s),r[0]=Math.floor(a/c)*c,r[o]=Math.ceil(l/c)*c,e(r)),t},t}function mi(){var t=fi(li,sp);return t.copy=function(){return pi(t,mi())},gi(t)}function vi(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Wg.call(n,jg),t):e.slice()},t.copy=function(){return vi().domain(e)},gi(t)}function yi(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Yg(e)}function bi(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function wi(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xi(t){return 10===t?wi:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function _i(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ci(t){return function(e){return-t(-e)}}function ki(){function e(){return o=_i(r),s=xi(r),i()[0]<0&&(o=Ci(o),s=Ci(s)),n}var n=fi(yi,bi).domain([1,10]),i=n.domain,r=10,o=_i(10),s=xi(10);return n.base=function(t){return arguments.length?(r=+t,e()):r},n.domain=function(t){return arguments.length?(i(t),e()):i()},n.ticks=function(t){var e,n=i(),a=n[0],l=n[n.length-1];(e=l<a)&&(d=a,a=l,l=d);var c,u,h,d=o(a),p=o(l),f=null==t?10:+t,g=[];if(!(r%1)&&p-d<f){if(d=Math.round(d)-1,p=Math.round(p)+1,a>0){for(;d<p;++d)for(u=1,c=s(d);u<r;++u)if(h=c*u,!(h<a)){if(h>l)break;g.push(h)}}else for(;d<p;++d)for(u=r-1,c=s(d);u>=1;--u)if(h=c*u,!(h<a)){if(h>l)break;g.push(h)}}else g=Fc(d,p,Math.min(p-d,f)).map(s);return e?g.reverse():g},n.tickFormat=function(e,i){if(null==i&&(i=10===r?".0e":","),"function"!=typeof i&&(i=t.format(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,r*e/n.ticks().length);return function(t){var e=t/s(Math.round(o(t)));return e*r<r-.5&&(e*=r),e<=a?i(t):""}},n.nice=function(){return i(Gg(i(),{floor:function(t){return s(Math.floor(o(t)))},ceil:function(t){return s(Math.ceil(o(t)))}}))},n.copy=function(){return pi(n,ki().base(r))},n}function Si(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Ti(){function t(t,e){return(e=Si(e,n)-(t=Si(t,n)))?function(i){return(Si(i,n)-t)/e}:Yg(e)}function e(t,e){return e=Si(e,n)-(t=Si(t,n)),function(i){return Si(t+e*i,1/n)}}var n=1,i=fi(t,e),r=i.domain;return i.exponent=function(t){return arguments.length?(n=+t,r(r())):n},i.copy=function(){return pi(i,Ti().exponent(n))},gi(i)}function Mi(){return Ti().exponent(.5)}function Di(){function t(){var t=0,o=Math.max(1,i.length);for(r=new Array(o-1);++t<o;)r[t-1]=Wc(n,t/o);return e}function e(t){if(!isNaN(t=+t))return i[_c(r,t)]}var n=[],i=[],r=[];return e.invertExtent=function(t){var e=i.indexOf(t);return e<0?[NaN,NaN]:[e>0?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var i,r=0,o=e.length;r<o;++r)i=e[r],null==i||isNaN(i=+i)||n.push(i);return n.sort(bc),t()},e.range=function(e){return arguments.length?(i=Vg.call(e),t()):i.slice()},e.quantiles=function(){return r.slice()},e.copy=function(){return Di().domain(n).range(i)},e}function Ai(){function t(t){if(t<=t)return s[_c(o,t,0,r)]}function e(){var e=-1;for(o=new Array(r);++e<r;)o[e]=((e+1)*i-(e-r)*n)/(r+1);return t}var n=0,i=1,r=1,o=[.5],s=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e()):[n,i]},t.range=function(t){return arguments.length?(r=(s=Vg.call(t)).length-1,e()):s.slice()},t.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:e>=r?[o[r-1],i]:[o[e-1],o[e]]},t.copy=function(){return Ai().domain([n,i]).range(s)},gi(t)}function Ei(){function t(t){if(t<=t)return n[_c(e,t,0,i)]}var e=[.5],n=[0,1],i=1;return t.domain=function(r){return arguments.length?(e=Vg.call(r),i=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(r){return arguments.length?(n=Vg.call(r),i=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},t.copy=function(){return Ei().domain(e).range(n)},t}function Pi(t){return new Date(t)}function Ii(t){return t instanceof Date?+t:+new Date((+t))}function Oi(t,e,i,r,o,s,a,l,c){function u(n){return(a(n)<n?g:s(n)<n?m:o(n)<n?v:r(n)<n?y:e(n)<n?i(n)<n?b:w:t(n)<n?x:_)(n)}function h(e,i,r,o){if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(r-i)/e,a=wc(function(t){return t[2]}).right(C,s);a===C.length?(o=n(i/em,r/em,e),e=t):a?(a=C[s/C[a-1][2]<C[a][2]/s?a-1:a],o=a[1],e=a[0]):(o=n(i,r,e),e=l)}return null==o?e:e.every(o)}var d=fi(li,sp),p=d.invert,f=d.domain,g=c(".%L"),m=c(":%S"),v=c("%I:%M"),y=c("%I %p"),b=c("%a %d"),w=c("%b %d"),x=c("%B"),_=c("%Y"),C=[[a,1,Xg],[a,5,5*Xg],[a,15,15*Xg],[a,30,30*Xg],[s,1,Zg],[s,5,5*Zg],[s,15,15*Zg],[s,30,30*Zg],[o,1,Kg],[o,3,3*Kg],[o,6,6*Kg],[o,12,12*Kg],[r,1,Jg],[r,2,2*Jg],[i,1,Qg],[e,1,tm],[e,3,3*tm],[t,1,em]];return d.invert=function(t){return new Date(p(t))},d.domain=function(t){return arguments.length?f(Wg.call(t,Ii)):f().map(Pi)},d.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=h(t,r,o,e),n=n?n.range(r,o+1):[],s?n.reverse():n},d.tickFormat=function(t,e){return null==e?u:c(e)},d.nice=function(t,e){var n=f();return(t=h(t,n[0],n[n.length-1],e))?f(Gg(n,t)):d},d.copy=function(){
return pi(d,Oi(t,e,i,r,o,s,a,l,c))},d}function Li(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Ri(t){function e(e){var o=(e-n)/(i-n);return t(r?Math.max(0,Math.min(1,o)):o)}var n=0,i=1,r=!1;return e.domain=function(t){return arguments.length?(n=+t[0],i=+t[1],e):[n,i]},e.clamp=function(t){return arguments.length?(r=!!t,e):r},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return Ri(t).domain([n,i]).clamp(r)},gi(e)}function Hi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ym&&e.documentElement.namespaceURI===ym?e.createElement(t):e.createElementNS(n,t)}}function zi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fi(){return new Ni}function Ni(){this._="@"+(++_m).toString(36)}function Bi(t,e,n){return t=Wi(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Wi(e,n,i){return function(r){var o=t.event;t.event=r;try{e.call(this,this.__data__,n,i)}finally{t.event=o}}}function Vi(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function qi(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Yi(t,e,n){var i=Mm.hasOwnProperty(t.type)?Bi:Wi;return function(r,o,s){var a,l=this.__on,c=i(e,o,s);if(l)for(var u=0,h=l.length;u<h;++u)if((a=l[u]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=c,a.capture=n),void(a.value=e);this.addEventListener(t.type,c,n),a={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(a):this.__on=[a]}}function ji(e,n,i,r){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(i,r)}finally{t.event=o}}function $i(){}function Ui(){return[]}function Gi(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Xi(t,e,n,i,r,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Gi(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function Zi(t,e,n,i,r,o,s){var a,l,c,u={},h=e.length,d=o.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=c=Wm+s.call(l,l.__data__,a,e),c in u?r[a]=l:u[c]=l);for(a=0;a<d;++a)c=Wm+s.call(t,o[a],a,o),(l=u[c])?(i[a]=l,l.__data__=o[a],u[c]=null):n[a]=new Gi(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u[p[a]]===l&&(r[a]=l)}function Ki(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ji(t){return function(){this.removeAttribute(t)}}function Qi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tr(t,e){return function(){this.setAttribute(t,e)}}function er(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function nr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ir(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function rr(t){return function(){this.style.removeProperty(t)}}function or(t,e,n){return function(){this.style.setProperty(t,e,n)}}function sr(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function ar(t){return function(){delete this[t]}}function lr(t,e){return function(){this[t]=e}}function cr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ur(t){return t.trim().split(/^|\s+/)}function hr(t){return t.classList||new dr(t)}function dr(t){this._node=t,this._names=ur(t.getAttribute("class")||"")}function pr(t,e){for(var n=hr(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function fr(t,e){for(var n=hr(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function gr(t){return function(){pr(this,t)}}function mr(t){return function(){fr(this,t)}}function vr(t,e){return function(){(e.apply(this,arguments)?pr:fr)(this,t)}}function yr(){this.textContent=""}function br(t){return function(){this.textContent=t}}function wr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function xr(){this.innerHTML=""}function _r(t){return function(){this.innerHTML=t}}function Cr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function kr(){this.nextSibling&&this.parentNode.appendChild(this)}function Sr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tr(){return null}function Mr(){var t=this.parentNode;t&&t.removeChild(this)}function Dr(t,e,n){var i=tv(t),r=i.CustomEvent;r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Ar(t,e){return function(){return Dr(this,t,e)}}function Er(t,e){return function(){return Dr(this,t,e.apply(this,arguments))}}function Pr(t,e){this._groups=t,this._parents=e}function Ir(){return new Pr([[document.documentElement]],pv)}function Or(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>wv)throw new Error("too late");return n}function Lr(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>_v)throw new Error("too late");return n}function Rr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Hr(t,e,n){function i(t){n.state=xv,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)}function r(i){var c,u,h,d;if(n.state!==xv)return s();for(c in l)if(d=l[c],d.name===n.name){if(d.state===Cv)return cf(r);d.state===kv?(d.state=Tv,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete l[c]):+c<e&&(d.state=Tv,d.timer.stop(),delete l[c])}if(cf(function(){n.state===Cv&&(n.state=kv,n.timer.restart(o,n.delay,n.time),o(i))}),n.state=_v,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_v){for(n.state=Cv,a=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++u]=d);a.length=u+1}}function o(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=Sv,1),r=-1,o=a.length;++r<o;)a[r].call(null,i);n.state===Sv&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=Tv,n.timer.stop(),delete l[e];for(var i in l)return;delete t.__transition}var a,l=t.__transition;l[e]=n,n.timer=je(i,0,n.time)}function zr(t,e){var n,i;return function(){var r=Lr(this,t),o=r.tween;if(o!==n){i=n=o;for(var s=0,a=i.length;s<a;++s)if(i[s].name===e){i=i.slice(),i.splice(s,1);break}}r.tween=i}}function Fr(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Lr(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=a;break}l===c&&r.push(a)}o.tween=r}}function Nr(t,e,n){var i=t._id;return t.each(function(){var t=Lr(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Rr(t,i).value[e]}}function Br(t){return function(){this.removeAttribute(t)}}function Wr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vr(t,e,n){var i,r;return function(){var o=this.getAttribute(t);return o===n?null:o===i?r:r=e(i=o,n)}}function qr(t,e,n){var i,r;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===i?r:r=e(i=o,n)}}function Yr(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttribute(t):(s=this.getAttribute(t),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function jr(t,e,n){var i,r,o;return function(){var s,a=n(this);return null==a?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),s===a?null:s===i&&a===r?o:o=e(i=s,r=a))}}function $r(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttributeNS(t.space,t.local,i(e))}}return n._value=e,n}function Ur(t,e){function n(){var n=this,i=e.apply(n,arguments);return i&&function(e){n.setAttribute(t,i(e))}}return n._value=e,n}function Gr(t,e){return function(){Or(this,t).delay=+e.apply(this,arguments)}}function Xr(t,e){return e=+e,function(){Or(this,t).delay=e}}function Zr(t,e){return function(){Lr(this,t).duration=+e.apply(this,arguments)}}function Kr(t,e){return e=+e,function(){Lr(this,t).duration=e}}function Jr(t,e){if("function"!=typeof e)throw new Error;return function(){Lr(this,t).ease=e}}function Qr(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function to(t,e,n){var i,r,o=Qr(e)?Or:Lr;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}function eo(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function no(t,e){var n,i,r;return function(){var o=tv(this).getComputedStyle(this,null),s=o.getPropertyValue(t),a=(this.style.removeProperty(t),o.getPropertyValue(t));return s===a?null:s===n&&a===i?r:r=e(n=s,i=a)}}function io(t){return function(){this.style.removeProperty(t)}}function ro(t,e,n){var i,r;return function(){var o=tv(this).getComputedStyle(this,null).getPropertyValue(t);return o===n?null:o===i?r:r=e(i=o,n)}}function oo(t,e,n){var i,r,o;return function(){var s=tv(this).getComputedStyle(this,null),a=s.getPropertyValue(t),l=n(this);return null==l&&(this.style.removeProperty(t),l=s.getPropertyValue(t)),a===l?null:a===i&&l===r?o:o=e(i=a,r=l)}}function so(t,e,n){function i(){var i=this,r=e.apply(i,arguments);return r&&function(e){i.style.setProperty(t,r(e),n)}}return i._value=e,i}function ao(t){return function(){this.textContent=t}}function lo(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function co(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function uo(t){return Ir().transition(t)}function ho(){return++Xv}function po(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Kv.time=Ve(),Kv;return n}function fo(t,e,n){var i=t(n);return"translate("+(isFinite(i)?i:e(n))+",0)"}function go(t,e,n){var i=t(n);return"translate(0,"+(isFinite(i)?i:e(n))+")"}function mo(t){var e=t.bandwidth()/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function vo(){return!this.__axis}function yo(t,e){function n(n){var c,u=null==r?e.ticks?e.ticks.apply(e,i):e.domain():r,h=null==o?e.tickFormat?e.tickFormat.apply(e,i):ny:o,d=Math.max(s,0)+l,p=t===iy||t===oy?fo:go,f=e.range(),g=f[0]+.5,m=f[f.length-1]+.5,v=(e.bandwidth?mo:ny)(e.copy()),y=n.selection?n.selection():n,b=y.selectAll(".domain").data([null]),w=y.selectAll(".tick").data(u,e).order(),x=w.exit(),_=w.enter().append("g").attr("class","tick"),C=w.select("line"),k=w.select("text"),S=t===iy||t===sy?-1:1,T=t===sy||t===ry?(c="x","y"):(c="y","x");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(_),C=C.merge(_.append("line").attr("stroke","#000").attr(c+"2",S*s).attr(T+"1",.5).attr(T+"2",.5)),k=k.merge(_.append("text").attr("fill","#000").attr(c,S*d).attr(T,.5).attr("dy",t===iy?"0em":t===oy?"0.71em":"0.32em")),n!==y&&(b=b.transition(n),w=w.transition(n),C=C.transition(n),k=k.transition(n),x=x.transition(n).attr("opacity",ay).attr("transform",function(t){return p(v,this.parentNode.__axis||v,t)}),_.attr("opacity",ay).attr("transform",function(t){return p(this.parentNode.__axis||v,v,t)})),x.remove(),b.attr("d",t===sy||t==ry?"M"+S*a+","+g+"H0.5V"+m+"H"+S*a:"M"+g+","+S*a+"V0.5H"+m+"V"+S*a),w.attr("opacity",1).attr("transform",function(t){return p(v,v,t)}),C.attr(c+"2",S*s),k.attr(c,S*d).text(h),y.filter(vo).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ry?"start":t===sy?"end":"middle"),y.each(function(){this.__axis=v})}var i=[],r=null,o=null,s=6,a=6,l=3;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return i=ey.call(arguments),n},n.tickArguments=function(t){return arguments.length?(i=null==t?[]:ey.call(t),n):i.slice()},n.tickValues=function(t){return arguments.length?(r=null==t?null:ey.call(t),n):r&&r.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(s=a=+t,n):s},n.tickSizeInner=function(t){return arguments.length?(s=+t,n):s},n.tickSizeOuter=function(t){return arguments.length?(a=+t,n):a},n.tickPadding=function(t){return arguments.length?(l=+t,n):l},n}function bo(t){return yo(iy,t)}function wo(t){return yo(ry,t)}function xo(t){return yo(oy,t)}function _o(t){return yo(sy,t)}function Co(t,e){return t.parent===e.parent?1:2}function ko(t){return t.reduce(So,0)/t.length}function So(t,e){return t+e.x}function To(t){return 1+t.reduce(Mo,0)}function Mo(t,e){return Math.max(t,e.y)}function Do(t){for(var e;e=t.children;)t=e[0];return t}function Ao(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Eo(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}function Po(t,e){var n,i,r,o,s,a=new Ho(t),l=+t.value&&(a.value=t.value),c=[a];for(null==e&&(e=Oo);n=c.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)c.push(i=n.children[o]=new Ho(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Ro)}function Io(){return Po(this).eachBefore(Lo)}function Oo(t){return t.children}function Lo(t){t.data=t.data.data}function Ro(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Ho(t){this.data=t,this.depth=this.height=0,this.parent=null}function zo(t){this._=t,this.next=null}function Fo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r-e.r;return r*r+1e-6>n*n+i*i}function No(t,e){var n,i,r,o=null,s=t.head;switch(e.length){case 1:n=Bo(e[0]);break;case 2:n=Wo(e[0],e[1]);break;case 3:n=Vo(e[0],e[1],e[2])}for(;s;)r=s._,i=s.next,n&&Fo(n,r)?o=s:(o?(t.tail=o,o.next=null):t.head=t.tail=null,e.push(r),n=No(t,e),e.pop(),t.head?(s.next=t.head,t.head=s):(s.next=null,t.head=t.tail=s),o=t.tail,o.next=i),s=i;return t.tail=o,n}function Bo(t){return{x:t.x,y:t.y,r:t.r}}function Wo(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,l=o-n,c=s-i,u=a-r,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(i+s+c/h*u)/2,r:(h+r+a)/2}}function Vo(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,l=e.r,c=n.x,u=n.y,h=n.r,d=2*(i-s),p=2*(r-a),f=2*(l-o),g=i*i+r*r-o*o-s*s-a*a+l*l,m=2*(i-c),v=2*(r-u),y=2*(h-o),b=i*i+r*r-o*o-c*c-u*u+h*h,w=m*p-d*v,x=(p*b-v*g)/w-i,_=(v*f-p*y)/w,C=(m*g-d*b)/w-r,k=(d*y-m*f)/w,S=_*_+k*k-1,T=2*(x*_+C*k+o),M=x*x+C*C-o*o,D=(-T-Math.sqrt(T*T-4*S*M))/(2*S);return{x:x+_*D+i,y:C+k*D+r,r:D}}function qo(t,e,n){var i=t.x,r=t.y,o=e.r+n.r,s=t.r+n.r,a=e.x-i,l=e.y-r,c=a*a+l*l;if(c){var u=.5+((s*=s)-(o*=o))/(2*c),h=Math.sqrt(Math.max(0,2*o*(s+c)-(s-=c)*s-o*o))/(2*c);n.x=i+u*a+h*l,n.y=r+u*l-h*a}else n.x=i+s,n.y=r}function Yo(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return r*r>n*n+i*i}function jo(t,e,n){var i=t.x-e,r=t.y-n;return i*i+r*r}function $o(t){this._=t,this.next=null,this.previous=null}function Uo(t){if(!(r=t.length))return 0;var e,n,i,r;if(e=t[0],e.x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;qo(n,e,i=t[2]);var o,s,a,l,c,u,h,d=e.r*e.r,p=n.r*n.r,f=i.r*i.r,g=d+p+f,m=d*e.x+p*n.x+f*i.x,v=d*e.y+p*n.y+f*i.y;e=new $o(e),n=new $o(n),i=new $o(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){if(qo(e._,n._,i=t[a]),i=new $o(i),(c=e.previous)===(l=n.next)){if(Yo(l._,i._)){e=n,n=l,--a;continue t}}else{u=l._.r,h=c._.r;do if(u<=h){if(Yo(l._,i._)){n=l,e.next=n,n.previous=e,--a;continue t}l=l.next,u+=l._.r}else{if(Yo(c._,i._)){e=c,e.next=n,n.previous=e,--a;continue t}c=c.previous,h+=c._.r}while(l!==c.next)}for(i.previous=e,i.next=n,e.next=n.previous=n=i,g+=f=i._.r*i._.r,m+=f*i._.x,v+=f*i._.y,d=jo(e._,o=m/g,s=v/g);(i=i.next)!==n;)(f=jo(i._,o,s))<d&&(e=i,d=f);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=wy(e),a=0;a<r;++a)e=t[a],e.x-=i.x,e.y-=i.y;return i.r}function Go(t){return null==t?null:Xo(t)}function Xo(t){if("function"!=typeof t)throw new Error;return t}function Zo(){return 0}function Ko(t){return Math.sqrt(t.value)}function Jo(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Qo(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=Uo(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function ts(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function es(t){return t.id}function ns(t){return t.parentId}function is(t,e){return t.parent===e.parent?1:2}function rs(t){var e=t.children;return e?e[0]:t.t}function os(t){var e=t.children;return e?e[e.length-1]:t.t}function ss(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function as(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function ls(t,e,n){return t.a.parent===e.parent?t.a:n}function cs(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function us(t){for(var e,n,i,r,o,s=new cs(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new cs(i[r],r)),n.parent=e;return(s.parent=new cs(null,0)).children=[s],s}function hs(t,e,n,i,r,o){for(var s,a,l,c,u,h,d,p,f,g,m,v,y=[],b=e.children,w=0,x=b.length,_=e.value;w<x;){for(c=r-n,u=o-i,d=p=h=b[w].value,m=Math.max(u/c,c/u)/(_*t),v=h*h*m,g=Math.max(p/v,v/d),l=w+1;l<x;++l){if(h+=a=b[l].value,a<d&&(d=a),a>p&&(p=a),v=h*h*m,f=Math.max(p/v,v/d),f>g){h-=a;break}g=f}y.push(s={value:h,dice:c<u,children:b.slice(w,l)}),s.dice?Sy(s,n,i,r,_?i+=u*h/_:o):Iy(s,n,i,_?n+=c*h/_:r,o),_-=h,w=l}return y}function ds(t){return t.x+t.vx}function ps(t){return t.y+t.vy}function fs(t,e){return e}function gs(t){return t.x}function ms(t){return t.y}function vs(){t.event.stopImmediatePropagation()}function ys(t,e){var n=t.document.documentElement,i=fv(t).on("dragstart.drag",null);e&&(i.on("click.drag",Zy,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bs(t,e,n,i,r,o,s,a,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=c}function ws(){return!t.event.button}function xs(){return this.parentNode}function _s(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Cs(t){return t[0]}function ks(t){return t[1]}function Ss(){this._=null}function Ts(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ms(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ds(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function As(t){for(;t.L;)t=t.L;return t}function Es(t,e,n,i){var r=[null,null],o=ob.push(r)-1;return r.left=t,r.right=e,n&&Is(r,t,e,n),i&&Is(r,e,t,i),ib[t.index].halfedges.push(o),ib[e.index].halfedges.push(o),r}function Ps(t,e,n){var i=[e,n];return i.left=t,i}function Is(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Os(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],c=s[1],u=a[0],h=a[1],d=0,p=1,f=u-l,g=h-c;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<d)return;o<p&&(p=o)}else if(f>0){if(o>p)return;o>d&&(d=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>p)return;o>d&&(d=o)}else if(f>0){if(o<d)return;o<p&&(p=o)}if(o=n-c,g||!(o>0)){if(o/=g,g<0){if(o<d)return;o<p&&(p=o)}else if(g>0){if(o>p)return;o>d&&(d=o)}if(o=r-c,g||!(o<0)){if(o/=g,g<0){if(o>p)return;o>d&&(d=o)}else if(g>0){if(o<d)return;o<p&&(p=o)}return!(d>0||p<1)||(d>0&&(t[0]=[l+d*f,c+d*g]),p<1&&(t[1]=[l+p*f,c+p*g]),!0)}}}}}function Ls(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],p=u[0],f=u[1],g=(h+p)/2,m=(d+f)/2;if(f===d){if(g<e||g>=i)return;if(h>p){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(s=(h-p)/(f-d),a=m-s*g,s<-1||s>1)if(h>p){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(d<f){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function Rs(t,e,n,i){for(var r,o=ob.length;o--;)Ls(r=ob[o],t,e,n,i)&&Os(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>lb||Math.abs(r[0][1]-r[1][1])>lb)||delete ob[o]}function Hs(t){return ib[t.index]={site:t,halfedges:[]}}function zs(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Fs(t,e){return e[+(e.left!==t.site)]}function Ns(t,e){return e[+(e.left===t.site)]}function Bs(){for(var t,e,n,i,r=0,o=ib.length;r<o;++r)if((t=ib[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=zs(t,ob[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}function Ws(t,e,n,i){var r,o,s,a,l,c,u,h,d,p,f,g,m=ib.length,v=!0;for(r=0;r<m;++r)if(o=ib[r]){for(s=o.site,l=o.halfedges,a=l.length;a--;)ob[l[a]]||l.splice(a,1);for(a=0,c=l.length;a<c;)p=Ns(o,ob[l[a]]),f=p[0],g=p[1],u=Fs(o,ob[l[++a%c]]),h=u[0],d=u[1],(Math.abs(f-h)>lb||Math.abs(g-d)>lb)&&(l.splice(a,0,ob.push(Ps(s,p,Math.abs(f-t)<lb&&i-g>lb?[t,Math.abs(h-t)<lb?d:i]:Math.abs(g-i)<lb&&n-f>lb?[Math.abs(d-i)<lb?h:n,i]:Math.abs(f-n)<lb&&g-e>lb?[n,Math.abs(h-n)<lb?d:e]:Math.abs(g-e)<lb&&f-t>lb?[Math.abs(d-e)<lb?h:t,e]:null))-1),++c);c&&(v=!1)}if(v){var y,b,w,x=1/0;for(r=0,v=null;r<m;++r)(o=ib[r])&&(s=o.site,y=s[0]-t,b=s[1]-e,w=y*y+b*b,w<x&&(x=w,v=o));if(v){var _=[t,e],C=[t,i],k=[n,i],S=[n,e];v.halfedges.push(ob.push(Ps(s=v.site,_,C))-1,ob.push(Ps(s,C,k))-1,ob.push(Ps(s,k,S))-1,ob.push(Ps(s,S,_))-1)}}for(r=0;r<m;++r)(o=ib[r])&&(o.halfedges.length||delete ib[r])}function Vs(){Ts(this),this.x=this.y=this.arc=this.site=this.cy=null}function qs(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,c=i[1]-a,u=o[0]-s,h=o[1]-a,d=2*(l*h-c*u);if(!(d>=-cb)){var p=l*l+c*c,f=u*u+h*h,g=(h*p-c*f)/d,m=(l*f-u*p)/d,v=sb.pop()||new Vs;v.arc=t,v.site=r,v.x=g+s,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,b=rb._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}rb.insert(y,v),y||(eb=v)}}}}function Ys(t){var e=t.circle;e&&(e.P||(eb=e.N),rb.remove(e),sb.push(e),Ts(e),t.circle=null)}function js(){Ts(this),this.edge=this.site=this.circle=null}function $s(t){var e=ab.pop()||new js;return e.site=t,e}function Us(t){Ys(t),nb.remove(t),ab.push(t),Ts(t)}function Gs(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Us(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<lb&&Math.abs(i-l.circle.cy)<lb;)o=l.P,a.unshift(l),Us(l),l=o;a.unshift(l),Ys(l);for(var c=s;c.circle&&Math.abs(n-c.circle.x)<lb&&Math.abs(i-c.circle.cy)<lb;)s=c.N,a.push(c),Us(c),c=s;a.push(c),Ys(c);var u,h=a.length;for(u=1;u<h;++u)c=a[u],l=a[u-1],Is(c.edge,l.site,c.site,r);l=a[0],c=a[h-1],c.edge=Es(l.site,c.site,null,r),qs(l),qs(c)}function Xs(t){for(var e,n,i,r,o=t[0],s=t[1],a=nb._;a;)if(i=Zs(a,s)-o,i>lb)a=a.L;else{if(r=o-Ks(a,s),!(r>lb)){i>-lb?(e=a.P,n=a):r>-lb?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}Hs(t);var l=$s(t);if(nb.insert(e,l),e||n){if(e===n)return Ys(e),n=$s(e.site),nb.insert(l,n),l.edge=n.edge=Es(e.site,l.site),qs(e),void qs(n);if(!n)return void(l.edge=Es(e.site,l.site));Ys(e),Ys(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,p=t[1]-h,f=n.site,g=f[0]-u,m=f[1]-h,v=2*(d*m-p*g),y=d*d+p*p,b=g*g+m*m,w=[(m*y-p*b)/v+u,(d*b-g*y)/v+h];Is(n.edge,c,f,w),l.edge=Es(c,t,null,w),n.edge=Es(t,f,null,w),qs(e),qs(n)}}function Zs(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-(1/0);n=s.site;var a=n[0],l=n[1],c=l-e;if(!c)return a;var u=a-i,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+r-o/2)))/h+i:(i+a)/2}function Ks(t,e){var n=t.N;if(n)return Zs(n,e);var i=t.site;return i[1]===e?i[0]:1/0}function Js(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Qs(t,e){return e[1]-t[1]||e[0]-t[0]}function ta(t,e){var n,i,r,o=t.sort(Qs).pop();for(ob=[],ib=new Array(t.length),nb=new Ss,rb=new Ss;;)if(r=eb,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Xs(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Gs(r.arc)}if(Bs(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],c=+e[1][1];Rs(s,a,l,c),Ws(s,a,l,c)}this.edges=ob,this.cells=ib,nb=rb=ob=ib=null}function ea(t,e,n){this.target=t,this.type=e,this.transform=n}function na(t,e,n){this.k=t,this.x=e,this.y=n}function ia(t){return t.__zoom||db}function ra(){t.event.stopImmediatePropagation()}function oa(){return!t.event.button}function sa(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function aa(){return this.__zoom||db}function la(){t.event.stopImmediatePropagation()}function ca(t){return{type:t}}function ua(){return!t.event.button}function ha(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function da(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function pa(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function fa(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function ga(){return va(_b)}function ma(){return va(Cb)}function va(e){function n(t){var n=t.property("__brush",a).selectAll(".overlay").data([ca("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sb.overlay).merge(n).each(function(){var t=da(this).extent;fv(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([ca("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sb.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Sb[t.type]}),t.each(i).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",s)}function i(){var t=fv(this),e=da(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-d/2:e[0][0]-d/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-d/2:e[0][1]-d/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+d:d}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+d:d})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function r(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function s(){function n(){var t=Im(k);!H||_||C||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?C=!0:_=!0),F=t,x=!0,vb(),o()}function o(){var t;switch(b=F[0]-z[0],w=F[1]-z[1],T){case bb:case yb:M&&(b=Math.max(I-h,Math.min(L-g,b)),d=h+b,m=g+b),D&&(w=Math.max(O-p,Math.min(R-v,w)),f=p+w,y=v+w);break;case wb:M<0?(b=Math.max(I-h,Math.min(L-h,b)),d=h+b,m=g):M>0&&(b=Math.max(I-g,Math.min(L-g,b)),d=h,m=g+b),D<0?(w=Math.max(O-p,Math.min(R-p,w)),f=p+w,y=v):D>0&&(w=Math.max(O-v,Math.min(R-v,w)),f=p,y=v+w);break;case xb:M&&(d=Math.max(I,Math.min(L,h-b*M)),m=Math.max(I,Math.min(L,g+b*M))),D&&(f=Math.max(O,Math.min(R,p-w*D)),y=Math.max(O,Math.min(R,v+w*D)))}m<d&&(M*=-1,t=h,h=g,g=t,t=d,d=m,m=t,S in Tb&&W.attr("cursor",Sb[S=Tb[S]])),y<f&&(D*=-1,t=p,p=v,v=t,t=f,f=y,y=t,S in Mb&&W.attr("cursor",Sb[S=Mb[S]])),A.selection&&(P=A.selection),_&&(d=P[0][0],m=P[1][0]),C&&(f=P[0][1],y=P[1][1]),P[0][0]===d&&P[0][1]===f&&P[1][0]===m&&P[1][1]===y||(A.selection=[[d,f],[m,y]],i.call(k),N.brush())}function s(){if(la(),t.event.touches){if(t.event.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ys(t.event.view,x),V.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),W.attr("cursor",Sb.overlay),A.selection&&(P=A.selection),pa(P)&&(A.selection=null,i.call(k)),N.end()}function a(){switch(t.event.keyCode){case 16:H=M&&D;break;case 18:T===wb&&(M&&(g=m-b*M,h=d+b*M),D&&(v=y-w*D,p=f+w*D),T=xb,o());break;case 32:T!==wb&&T!==xb||(M<0?g=m-b:M>0&&(h=d-b),D<0?v=y-w:D>0&&(p=f-w),T=bb,W.attr("cursor",Sb.selection),o());break;default:return}vb()}function c(){switch(t.event.keyCode){case 16:H&&(_=C=H=!1,o());break;case 18:T===xb&&(M<0?g=m:M>0&&(h=d),D<0?v=y:D>0&&(p=f),T=wb,o());break;case 32:T===bb&&(t.event.altKey?(M&&(g=m-b*M,h=d+b*M),D&&(v=y-w*D,p=f+w*D),T=xb):(M<0?g=m:M>0&&(h=d),D<0?v=y:D>0&&(p=f),T=wb),W.attr("cursor",Sb[S]),o());break;default:return}vb()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return vb()}else if(l)return;if(u.apply(this,arguments)){var h,d,p,f,g,m,v,y,b,w,x,_,C,k=this,S=t.event.target.__data__.type,T="selection"===(t.event.metaKey?S="overlay":S)?yb:t.event.altKey?xb:wb,M=e===Cb?null:Db[S],D=e===_b?null:Ab[S],A=da(k),E=A.extent,P=A.selection,I=E[0][0],O=E[0][1],L=E[1][0],R=E[1][1],H=M&&D&&t.event.shiftKey,z=Im(k),F=z,N=r(k,arguments).beforestart();"overlay"===S?A.selection=P=[[h=e===Cb?I:z[0],p=e===_b?O:z[1]],[g=e===Cb?L:h,v=e===_b?R:p]]:(h=P[0][0],p=P[0][1],g=P[1][0],v=P[1][1]),d=h,f=p,m=g,y=v;var B=fv(k).attr("pointer-events","none"),W=B.selectAll(".overlay").attr("cursor",Sb[S]);if(t.event.touches)B.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",s,!0);else{var V=fv(t.event.view).on("keydown.brush",a,!0).on("keyup.brush",c,!0).on("mousemove.brush",n,!0).on("mouseup.brush",s,!0);Ky(t.event.view)}la(),Dv(k),i.call(k),N.start()}}function a(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var l,c=ha,u=ua,h=Pe(n,"start","brush","end"),d=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){r(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){r(this,arguments).end()}).tween("brush",function(){function t(t){s.selection=1===t&&pa(c)?null:u(t),i.call(o),a.brush()}var o=this,s=o.__brush,a=r(o,arguments),l=s.selection,c=e.input("function"==typeof n?n.apply(this,arguments):n,s.extent),u=hp(l,c);return l&&c?t:t(1)}):t.each(function(){var t=this,o=arguments,s=t.__brush,a=e.input("function"==typeof n?n.apply(t,o):n,s.extent),l=r(t,o).beforestart();Dv(t),s.selection=null==a||pa(a)?null:a,i.call(t),l.start().brush().end()})},o.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){ji(new mb(n,t,e.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:gb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(u="function"==typeof t?t:gb(!!t),n):u},n.handleSize=function(t){return arguments.length?(d=+t,n):d},n.on=function(){var t=h.on.apply(h,arguments);return t===h?n:t},n}function ya(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function ba(t){return t.source}function wa(t){return t.target}function xa(t){
return t.radius}function _a(t){return t.startAngle}function Ca(t){return t.endAngle}function ka(){this.reset()}function Sa(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Ta(t){return t>1?0:t<-1?_w:Math.acos(t)}function Ma(t){return t>1?Cw:t<-1?-Cw:Math.asin(t)}function Da(t){return(t=Hw(t/2))*t}function Aa(){}function Ea(t,e){t&&Ww.hasOwnProperty(t.type)&&Ww[t.type](t,e)}function Pa(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ia(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Pa(t[n],e,1);e.polygonEnd()}function Oa(){jw.point=Ra}function La(){Ha(Vb,qb)}function Ra(t,e){jw.point=Ha,Vb=t,qb=e,t*=Mw,e*=Mw,Yb=t,jb=Pw(e=e/2+kw),$b=Hw(e)}function Ha(t,e){t*=Mw,e*=Mw,e=e/2+kw;var n=t-Yb,i=n>=0?1:-1,r=i*n,o=Pw(e),s=Hw(e),a=$b*s,l=jb*o+a*Pw(r),c=a*i*Hw(r);qw.add(Ew(c,l)),Yb=t,jb=o,$b=s}function za(t){return[Ew(t[1],t[0]),Ma(t[2])]}function Fa(t){var e=t[0],n=t[1],i=Pw(n);return[i*Pw(e),i*Hw(e),Hw(n)]}function Na(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ba(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Wa(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Va(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qa(t){var e=Fw(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ya(t,e){ew.push(nw=[Ub=t,Xb=t]),e<Gb&&(Gb=e),e>Zb&&(Zb=e)}function ja(t,e){var n=Fa([t*Mw,e*Mw]);if(tw){var i=Ba(tw,n),r=[i[1],-i[0],0],o=Ba(r,i);qa(o),o=za(o);var s,a=t-Kb,l=a>0?1:-1,c=o[0]*Tw*l,u=Dw(a)>180;u^(l*Kb<c&&c<l*t)?(s=o[1]*Tw,s>Zb&&(Zb=s)):(c=(c+360)%360-180,u^(l*Kb<c&&c<l*t)?(s=-o[1]*Tw,s<Gb&&(Gb=s)):(e<Gb&&(Gb=e),e>Zb&&(Zb=e))),u?t<Kb?Ka(Ub,t)>Ka(Ub,Xb)&&(Xb=t):Ka(t,Xb)>Ka(Ub,Xb)&&(Ub=t):Xb>=Ub?(t<Ub&&(Ub=t),t>Xb&&(Xb=t)):t>Kb?Ka(Ub,t)>Ka(Ub,Xb)&&(Xb=t):Ka(t,Xb)>Ka(Ub,Xb)&&(Ub=t)}else Ya(t,e);tw=n,Kb=t}function $a(){Gw.point=ja}function Ua(){nw[0]=Ub,nw[1]=Xb,Gw.point=Ya,tw=null}function Ga(t,e){if(tw){var n=t-Kb;Uw.add(Dw(n)>180?n+(n>0?360:-360):n)}else Jb=t,Qb=e;jw.point(t,e),ja(t,e)}function Xa(){jw.lineStart()}function Za(){Ga(Jb,Qb),jw.lineEnd(),Dw(Uw)>ww&&(Ub=-(Xb=180)),nw[0]=Ub,nw[1]=Xb,tw=null}function Ka(t,e){return(e-=t)<0?e+360:e}function Ja(t,e){return t[0]-e[0]}function Qa(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function tl(t,e){t*=Mw,e*=Mw;var n=Pw(e);el(n*Pw(t),n*Hw(t),Hw(e))}function el(t,e,n){++iw,ow+=(t-ow)/iw,sw+=(e-sw)/iw,aw+=(n-aw)/iw}function nl(){Zw.point=il}function il(t,e){t*=Mw,e*=Mw;var n=Pw(e);mw=n*Pw(t),vw=n*Hw(t),yw=Hw(e),Zw.point=rl,el(mw,vw,yw)}function rl(t,e){t*=Mw,e*=Mw;var n=Pw(e),i=n*Pw(t),r=n*Hw(t),o=Hw(e),s=Ew(Fw((s=vw*o-yw*r)*s+(s=yw*i-mw*o)*s+(s=mw*r-vw*i)*s),mw*i+vw*r+yw*o);rw+=s,lw+=s*(mw+(mw=i)),cw+=s*(vw+(vw=r)),uw+=s*(yw+(yw=o)),el(mw,vw,yw)}function ol(){Zw.point=tl}function sl(){Zw.point=ll}function al(){cl(fw,gw),Zw.point=tl}function ll(t,e){fw=t,gw=e,t*=Mw,e*=Mw,Zw.point=cl;var n=Pw(e);mw=n*Pw(t),vw=n*Hw(t),yw=Hw(e),el(mw,vw,yw)}function cl(t,e){t*=Mw,e*=Mw;var n=Pw(e),i=n*Pw(t),r=n*Hw(t),o=Hw(e),s=vw*o-yw*r,a=yw*i-mw*o,l=mw*r-vw*i,c=Fw(s*s+a*a+l*l),u=mw*i+vw*r+yw*o,h=c&&-Ta(u)/c,d=Ew(c,u);hw+=h*s,dw+=h*a,pw+=h*l,rw+=d,lw+=d*(mw+(mw=i)),cw+=d*(vw+(vw=r)),uw+=d*(yw+(yw=o)),el(mw,vw,yw)}function ul(t,e){return[t>_w?t-Sw:t<-_w?t+Sw:t,e]}function hl(t,e,n){return(t%=Sw)?e||n?Qw(pl(t),fl(e,n)):pl(t):e||n?fl(e,n):ul}function dl(t){return function(e,n){return e+=t,[e>_w?e-Sw:e<-_w?e+Sw:e,n]}}function pl(t){var e=dl(t);return e.invert=dl(-t),e}function fl(t,e){function n(t,e){var n=Pw(e),a=Pw(t)*n,l=Hw(t)*n,c=Hw(e),u=c*i+a*r;return[Ew(l*o-u*s,a*i-c*r),Ma(u*o+l*s)]}var i=Pw(t),r=Hw(t),o=Pw(e),s=Hw(e);return n.invert=function(t,e){var n=Pw(e),a=Pw(t)*n,l=Hw(t)*n,c=Hw(e),u=c*o-l*s;return[Ew(l*o+c*s,a*i+u*r),Ma(u*i-a*r)]},n}function gl(t,e,n,i,r,o){if(n){var s=Pw(e),a=Hw(e),l=i*n;null==r?(r=e+i*Sw,o=e-l/2):(r=ml(s,r),o=ml(s,o),(i>0?r<o:r>o)&&(r+=i*Sw));for(var c,u=r;i>0?u>o:u<o;u-=l)c=za([s,-a*Pw(u),-a*Hw(u)]),t.point(c[0],c[1])}}function ml(t,e){e=Fa(e),e[0]-=t,qa(e);var n=Ta(-e[1]);return((-e[2]<0?-n:n)+Sw-ww)%Sw}function vl(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function yl(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function bl(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,c){var u=0,h=0;if(null==r||(u=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0){do c.point(0===u||3===u?t:n,u>1?i:e);while((u=(u+a+4)%4)!==h)}else c.point(o[0],o[1])}function s(i,r){return Dw(i[0]-t)<ww?r>0?0:3:Dw(i[0]-n)<ww?r>0?2:1:Dw(i[1]-e)<ww?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t,e){r(t,e)&&T.point(t,e)}function c(){for(var e=0,n=0,r=m.length;n<r;++n)for(var o,s,a=m[n],l=1,c=a.length,u=a[0],h=u[0],d=u[1];l<c;++l)o=h,s=d,u=a[l],h=u[0],d=u[1],s<=i?d>i&&(h-o)*(i-s)>(d-s)*(t-o)&&++e:d<=i&&(h-o)*(i-s)<(d-s)*(t-o)&&--e;return e}function u(){T=M,g=[],m=[],S=!0}function h(){var t=c(),e=S&&t,n=(g=Uc(g)).length;(e||n)&&(s.polygonStart(),e&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),n&&mx(g,a,t,o,s),s.polygonEnd()),T=s,g=m=v=null}function d(){D.point=f,m&&m.push(v=[]),k=!0,C=!1,x=_=NaN}function p(){g&&(f(y,b),w&&C&&M.rejoin(),g.push(M.result())),D.point=l,C&&T.lineEnd()}function f(o,s){var a=r(o,s);if(m&&v.push([o,s]),k)y=o,b=s,w=a,k=!1,a&&(T.lineStart(),T.point(o,s));else if(a&&C)T.point(o,s);else{var l=[x=Math.max(yx,Math.min(vx,x)),_=Math.max(yx,Math.min(vx,_))],c=[o=Math.max(yx,Math.min(vx,o)),s=Math.max(yx,Math.min(vx,s))];fx(l,c,t,e,n,i)?(C||(T.lineStart(),T.point(l[0],l[1])),T.point(c[0],c[1]),a||T.lineEnd(),S=!1):a&&(T.lineStart(),T.point(o,s),S=!1)}x=o,_=s,C=a}var g,m,v,y,b,w,x,_,C,k,S,T=s,M=px(),D={point:l,lineStart:d,lineEnd:p,polygonStart:u,polygonEnd:h};return D}}function wl(){xx.point=_l,xx.lineEnd=xl}function xl(){xx.point=xx.lineEnd=Aa}function _l(t,e){t*=Mw,e*=Mw,tx=t,ex=Hw(e),nx=Pw(e),xx.point=Cl}function Cl(t,e){t*=Mw,e*=Mw;var n=Hw(e),i=Pw(e),r=Dw(t-tx),o=Pw(r),s=Hw(r),a=i*s,l=nx*n-ex*i*o,c=ex*n+nx*i*o;wx.add(Ew(Fw(a*a+l*l),c)),tx=t,ex=n,nx=i}function kl(t,e,n){var i=Lc(t,e-ww,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Sl(t,e,n){var i=Lc(t,e-ww,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Tl(){Px.point=Ml}function Ml(t,e){Px.point=Dl,ix=ox=t,rx=sx=e}function Dl(t,e){Ex.add(sx*t-ox*e),ox=t,sx=e}function Al(){Dl(ix,rx)}function El(t,e){t<Ix&&(Ix=t),t>Lx&&(Lx=t),e<Ox&&(Ox=e),e>Rx&&(Rx=e)}function Pl(t,e){zx+=t,Fx+=e,++Nx}function Il(){$x.point=Ol}function Ol(t,e){$x.point=Ll,Pl(cx=t,ux=e)}function Ll(t,e){var n=t-cx,i=e-ux,r=Fw(n*n+i*i);Bx+=r*(cx+t)/2,Wx+=r*(ux+e)/2,Vx+=r,Pl(cx=t,ux=e)}function Rl(){$x.point=Pl}function Hl(){$x.point=Fl}function zl(){Nl(ax,lx)}function Fl(t,e){$x.point=Nl,Pl(ax=cx=t,lx=ux=e)}function Nl(t,e){var n=t-cx,i=e-ux,r=Fw(n*n+i*i);Bx+=r*(cx+t)/2,Wx+=r*(ux+e)/2,Vx+=r,r=ux*t-cx*e,qx+=r*(cx+t),Yx+=r*(ux+e),jx+=3*r,Pl(cx=t,ux=e)}function Bl(t){this._context=t}function Wl(){this._string=[]}function Vl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ql(t){return t.length>1}function Yl(t,e){return((t=t.x)[0]<0?t[1]-Cw-ww:Cw-t[1])-((e=e.x)[0]<0?e[1]-Cw-ww:Cw-e[1])}function jl(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?_w:-_w,l=Dw(o-n);Dw(l-_w)<ww?(t.point(n,i=(i+s)/2>0?Cw:-Cw),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=_w&&(Dw(n-r)<ww&&(n-=r*ww),Dw(o-a)<ww&&(o-=a*ww),i=$l(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function $l(t,e,n,i){var r,o,s=Hw(t-n);return Dw(s)>ww?Aw((Hw(e)*(o=Pw(i))*Hw(n)-Hw(i)*(r=Pw(e))*Hw(t))/(r*o*s)):(e+i)/2}function Ul(t,e,n,i){var r;if(null==t)r=n*Cw,i.point(-_w,r),i.point(0,r),i.point(_w,r),i.point(_w,0),i.point(_w,-r),i.point(0,-r),i.point(-_w,-r),i.point(-_w,0),i.point(-_w,r);else if(Dw(t[0]-e[0])>ww){var o=t[0]<e[0]?_w:-_w;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}function Gl(t){function e(){}var n=e.prototype=Object.create(Xl.prototype);for(var i in t)n[i]=t[i];return function(t){var n=new e;return n.stream=t,n}}function Xl(){}function Zl(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Vw(n,t.stream(Hx));var s=Hx.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),l=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,c=+e[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([l,c])}function Kl(t){return function(e,n){return Zl(t,[[0,0],e],n)}}function Jl(t){return function(e,n){return Zl(t,e,n)}}function Ql(t){return Gl({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function tc(t,e){function n(i,r,o,s,a,l,c,u,h,d,p,f,g,m){var v=c-i,y=u-r,b=v*v+y*y;if(b>4*e&&g--){var w=s+d,x=a+p,_=l+f,C=Fw(w*w+x*x+_*_),k=Ma(_/=C),S=Dw(Dw(_)-1)<ww||Dw(o-h)<ww?(o+h)/2:Ew(x,w),T=t(S,k),M=T[0],D=T[1],A=M-i,E=D-r,P=y*A-v*E;(P*P/b>e||Dw((v*A+y*E)/b-.5)>.3||s*d+a*p+l*f<e_)&&(n(i,r,o,s,a,l,M,D,S,w/=C,x/=C,_,g,m),m.point(M,D),n(M,D,S,w,x,_,c,u,h,d,p,f,g,m))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){v=NaN,_.point=o,e.lineStart()}function o(i,r){var o=Fa([i,r]),s=t(i,r);n(v,y,m,b,w,x,v=s[0],y=s[1],m=i,b=o[0],w=o[1],x=o[2],t_,e),e.point(v,y)}function s(){_.point=i,e.lineEnd()}function a(){r(),_.point=l,_.lineEnd=c}function l(t,e){o(u=t,e),h=v,d=y,p=b,f=w,g=x,_.point=o}function c(){n(v,y,m,b,w,x,h,d,u,p,f,g,t_,e),_.lineEnd=s,s()}var u,h,d,p,f,g,m,v,y,b,w,x,_={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),_.lineStart=a},polygonEnd:function(){e.polygonEnd(),_.lineStart=r}};return _}}function ec(t){return nc(function(){return t})()}function nc(t){function e(t){return t=u(t[0]*Mw,t[1]*Mw),[t[0]*m+a,l-t[1]*m]}function n(t){return t=u.invert((t[0]-a)/m,(l-t[1])/m),t&&[t[0]*Tw,t[1]*Tw]}function i(t,e){return t=s(t,e),[t[0]*m+a,l-t[1]*m]}function r(){u=Qw(c=hl(x,_,C),s);var t=s(b,w);return a=v-t[0]*m,l=y+t[1]*m,o()}function o(){return f=g=null,e}var s,a,l,c,u,h,d,p,f,g,m=150,v=480,y=250,b=0,w=0,x=0,_=0,C=0,k=null,S=Kx,T=null,M=Dx,D=.5,A=n_(i,D);return e.stream=function(t){return f&&g===t?f:f=i_(S(c,A(M(g=t))))},e.clipAngle=function(t){return arguments.length?(S=+t?Jx(k=t*Mw,6*Mw):(k=null,Kx),o()):k*Tw},e.clipExtent=function(t){return arguments.length?(M=null==t?(T=h=d=p=null,Dx):bl(T=+t[0][0],h=+t[0][1],d=+t[1][0],p=+t[1][1]),o()):null==T?null:[[T,h],[d,p]]},e.scale=function(t){return arguments.length?(m=+t,r()):m},e.translate=function(t){return arguments.length?(v=+t[0],y=+t[1],r()):[v,y]},e.center=function(t){return arguments.length?(b=t[0]%360*Mw,w=t[1]%360*Mw,r()):[b*Tw,w*Tw]},e.rotate=function(t){return arguments.length?(x=t[0]%360*Mw,_=t[1]%360*Mw,C=t.length>2?t[2]%360*Mw:0,r()):[x*Tw,_*Tw,C*Tw]},e.precision=function(t){return arguments.length?(A=n_(i,D=t*t),o()):Fw(D)},e.fitExtent=Jl(e),e.fitSize=Kl(e),function(){return s=t.apply(this,arguments),e.invert=s.invert&&n,r()}}function ic(t){var e=0,n=_w/3,i=nc(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*Mw,n=t[1]*Mw):[e*Tw,n*Tw]},r}function rc(t,e){function n(t,e){var n=Fw(o-2*r*Hw(e))/r;return[n*Hw(t*=r),s-n*Pw(t)]}var i=Hw(t),r=(i+Hw(e))/2,o=1+i*(2*r-i),s=Fw(o)/r;return n.invert=function(t,e){var n=s-e;return[Ew(t,n)/r,Ma((o-(t*t+n*n)*r*r)/(2*r))]},n}function oc(t){var e=t.length;return{point:function(n,i){for(var r=-1;++r<e;)t[r].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function sc(t){return function(e,n){var i=Pw(e),r=Pw(n),o=t(i*r);return[o*r*Hw(e),o*Hw(n)]}}function ac(t){return function(e,n){var i=Fw(e*e+n*n),r=t(i),o=Hw(r),s=Pw(r);return[Ew(e*o,i*s),Ma(i&&n*o/i)]}}function lc(t,e){return[t,Lw(Nw((Cw+e)/2))]}function cc(t){var e,n=ec(t),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(t){return arguments.length?(i(t),e&&n.clipExtent(null),n):i()},n.translate=function(t){return arguments.length?(r(t),e&&n.clipExtent(null),n):r()},n.clipExtent=function(t){if(!arguments.length)return e?null:o();if(e=null==t){var s=_w*i(),a=r();t=[[a[0]-s,a[1]-s],[a[0]+s,a[1]+s]]}return o(t),n},n.clipExtent(null)}function uc(t){return Nw((Cw+t)/2)}function hc(t,e){function n(t,e){o>0?e<-Cw+ww&&(e=-Cw+ww):e>Cw-ww&&(e=Cw-ww);var n=o/Rw(uc(e),r);return[n*Hw(r*t),o-n*Pw(r*t)]}var i=Pw(t),r=t===e?Hw(t):Lw(i/Pw(e))/Lw(uc(e)/uc(t)),o=i*Rw(uc(t),r)/r;return r?(n.invert=function(t,e){var n=o-e,i=zw(r)*Fw(t*t+n*n);return[Ew(t,n)/r,2*Aw(Rw(o/i,1/r))-Cw]},n):lc}function dc(t,e){return[t,e]}function pc(t,e){function n(t,e){var n=o-e,i=r*t;return[n*Hw(i),o-n*Pw(i)]}var i=Pw(t),r=t===e?Hw(t):(i-Pw(e))/(e-t),o=i/r+t;return Dw(r)<ww?dc:(n.invert=function(t,e){var n=o-e;return[Ew(t,n)/r,o-zw(r)*Fw(t*t+n*n)]},n)}function fc(t,e){var n=Pw(e),i=Pw(t)*n;return[n*Hw(t)/i,Hw(e)/i]}function gc(t,e){return[Pw(e)*Hw(t),Hw(e)]}function mc(t,e){var n=Pw(e),i=1+Pw(t)*n;return[n*Hw(t)/i,Hw(e)/i]}function vc(t,e){return[Lw(Nw((Cw+e)/2)),-t]}var yc="4.2.5",bc=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},wc=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}},xc=wc(bc),_c=xc.right,Cc=xc.left,kc=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Sc=function(t){return null===t?NaN:+t},Tc=function(t,e){var n,i,r=t.length,o=0,s=0,a=-1,l=0;if(null==e)for(;++a<r;)isNaN(n=Sc(t[a]))||(i=n-o,o+=i/++l,s+=i*(n-o));else for(;++a<r;)isNaN(n=Sc(e(t[a],a,t)))||(i=n-o,o+=i/++l,s+=i*(n-o));if(l>1)return s/(l-1)},Mc=function(t,e){var n=Tc(t,e);return n?Math.sqrt(n):n},Dc=function(t,e){var n,i,r,o=-1,s=t.length;if(null==e){for(;++o<s;)if(null!=(i=t[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<s;)if(null!=(i=e(t[o],o,t))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e(t[o],o,t))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},Ac=Array.prototype,Ec=Ac.slice,Pc=Ac.map,Ic=function(t){return function(){return t}},Oc=function(t){return t},Lc=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},Rc=Math.sqrt(50),Hc=Math.sqrt(10),zc=Math.sqrt(2),Fc=function(t,e,i){var r=n(t,e,i);return Lc(Math.ceil(t/r)*r,Math.floor(e/r)*r+r/2,r)},Nc=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},Bc=function(){function t(t){var r,o,s=t.length,a=new Array(s);for(r=0;r<s;++r)a[r]=e(t[r],r,t);var l=n(a),c=l[0],u=l[1],h=i(a,c,u);Array.isArray(h)||(h=Fc(c,u,h));for(var d=h.length;h[0]<=c;)h.shift(),--d;for(;h[d-1]>=u;)h.pop(),--d;var p,f=new Array(d+1);for(r=0;r<=d;++r)p=f[r]=[],p.x0=r>0?h[r-1]:c,p.x1=r<d?h[r]:u;for(r=0;r<s;++r)o=a[r],c<=o&&o<=u&&f[_c(h,o,0,d)].push(t[r]);return f}var e=Oc,n=Dc,i=Nc;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:Ic(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:Ic([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(i="function"==typeof e?e:Ic(Array.isArray(e)?Ec.call(e):e),t):i},t},Wc=function(t,e,n){if(null==n&&(n=Sc),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(r-o)}},Vc=function(t,e,n){return t=Pc.call(t,Sc).sort(bc),Math.ceil((n-e)/(2*(Wc(t,.75)-Wc(t,.25))*Math.pow(t.length,-1/3)))},qc=function(t,e,n){return Math.ceil((n-e)/(3.5*Mc(t)*Math.pow(t.length,-1/3)))},Yc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&i>n&&(n=i)}return n},jc=function(t,e){var n,i=0,r=t.length,o=-1,s=r;if(null==e)for(;++o<r;)isNaN(n=Sc(t[o]))?--s:i+=n;else for(;++o<r;)isNaN(n=Sc(e(t[o],o,t)))?--s:i+=n;if(s)return i/s},$c=function(t,e){var n,i=[],r=t.length,o=-1;if(null==e)for(;++o<r;)isNaN(n=Sc(t[o]))||i.push(n);else for(;++o<r;)isNaN(n=Sc(e(t[o],o,t)))||i.push(n);return Wc(i.sort(bc),.5)},Uc=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--s]=i[e];return n},Gc=function(t,e){var n,i,r=-1,o=t.length;if(null==e){for(;++r<o;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=e(t[r],r,t))&&i>=i){n=i;break}for(;++r<o;)null!=(i=e(t[r],r,t))&&n>i&&(n=i)}return n},Xc=function(t){for(var e=0,n=t.length-1,i=t[0],r=new Array(n<0?0:n);e<n;)r[e]=[i,i=t[++e]];return r},Zc=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Kc=function(t,e){if(n=t.length){var n,i,r=0,o=0,s=t[o];for(e||(e=bc);++r<n;)(e(i=t[r],s)<0||0!==e(s,s))&&(s=i,o=r);return 0===e(s,s)?o:void 0}},Jc=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},Qc=function(t,e){var n,i=0,r=t.length,o=-1;if(null==e)for(;++o<r;)(n=+t[o])&&(i+=n);else for(;++o<r;)(n=+e(t[o],o,t))&&(i+=n);return i},tu=function(t){if(!(o=t.length))return[];for(var e=-1,n=Gc(t,i),r=new Array(n);++e<n;)for(var o,s=-1,a=r[e]=new Array(o);++s<o;)a[s]=t[s][e];return r},eu=function(){return tu(arguments)},nu="$";r.prototype=o.prototype={constructor:r,has:function(t){return nu+t in this},get:function(t){return this[nu+t]},set:function(t,e){return this[nu+t]=e,this},remove:function(t){var e=nu+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===nu&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===nu&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===nu&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===nu&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===nu&&++t;return t},empty:function(){for(var t in this)if(t[0]===nu)return!1;return!0},each:function(t){for(var e in this)e[0]===nu&&t(this[e],e.slice(1),this)}};var iu=function(){function t(e,r,s,a){if(r>=u.length)return null!=i?i(e):null!=n?e.sort(n):e;for(var l,c,h,d=-1,p=e.length,f=u[r++],g=o(),m=s();++d<p;)(h=g.get(l=f(c=e[d])+""))?h.push(c):g.set(l,[c]);return g.each(function(e,n){a(m,n,t(e,r,s,a))}),m}function e(t,n){if(++n>u.length)return t;var r,o=h[n-1];return null!=i&&n>=u.length?r=t.entries():(r=[],t.each(function(t,i){r.push({key:i,values:e(t,n)})})),null!=o?r.sort(function(t,e){return o(t.key,e.key)}):r}var n,i,r,u=[],h=[];return r={object:function(e){return t(e,0,s,a)},map:function(e){return t(e,0,l,c)},entries:function(n){return e(t(n,0,l,c),0)},key:function(t){return u.push(t),r},sortKeys:function(t){return h[u.length-1]=t,r},sortValues:function(t){return n=t,r},rollup:function(t){return i=t,r}}},ru=o.prototype;u.prototype=h.prototype={constructor:u,has:ru.has,add:function(t){return t+="",this[nu+t]=t,this},remove:ru.remove,clear:ru.clear,values:ru.keys,size:ru.size,empty:ru.empty,each:ru.each};var ou=function(t){var e=[];for(var n in t)e.push(n);return e},su=function(t){var e=[];for(var n in t)e.push(t[n]);return e},au=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},lu=function(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return Math.random()*e+t}},cu=function(t,e){var n,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var r;if(null!=n)r=n,n=null;else do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}},uu=function(){var t=cu.apply(this,arguments);return function(){return Math.exp(t())}},hu=function(t){return function(){for(var e=0,n=0;n<t;++n)e+=Math.random();return e}},du=function(t){var e=hu(t);return function(){return e()/t}},pu=function(t){return function(){return-Math.log(1-Math.random())/t}},fu=3,gu=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(fu),mu=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(fu),vu=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(fu),yu=Math.PI,bu=yu/2,wu=4/11,xu=6/11,_u=8/11,Cu=.75,ku=9/11,Su=10/11,Tu=.9375,Mu=21/22,Du=63/64,Au=1/wu/wu,Eu=1.70158,Pu=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Eu),Iu=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Eu),Ou=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Eu),Lu=2*Math.PI,Ru=1,Hu=.3,zu=function t(e,n){function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Lu);return i.amplitude=function(e){return t(e,n*Lu)},i.period=function(n){return t(e,n)},i}(Ru,Hu),Fu=function t(e,n){function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Lu);return i.amplitude=function(e){return t(e,n*Lu)},i.period=function(n){return t(e,n)},i}(Ru,Hu),Nu=function t(e,n){function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Lu);return i.amplitude=function(e){return t(e,n*Lu)},i.period=function(n){return t(e,n)},i}(Ru,Hu),Bu=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},Wu=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],l=0;++i<r;)e=a,a=t[i],l+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return l*=3,[o/l,s/l]},Vu=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},qu=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(P),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=I(i),s=I(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[i[o[e]][2]]);for(e=+a;e<s.length-l;++e)c.push(t[i[s[e]][2]]);return c},Yu=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],l=o[0],c=o[1],u=!1,h=0;h<r;++h)o=t[h],n=o[0],i=o[1],i>a!=c>a&&s<(l-n)*(a-i)/(c-i)+n&&(u=!u),l=n,c=i;return u},ju=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],l=0;++i<r;)e=s,n=a,o=t[i],s=o[0],a=o[1],e-=s,n-=a,l+=Math.sqrt(e*e+n*n);return l},$u=Math.PI,Uu=2*$u,Gu=1e-6,Xu=Uu-Gu;O.prototype=L.prototype={constructor:O,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._.push("C",+t,",",+e,",",+n,",",+i,",",this._x1=+r,",",this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,c=o-t,u=s-e,h=c*c+u*u;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(h>Gu)if(Math.abs(u*a-l*c)>Gu&&r){var d=n-o,p=i-s,f=a*a+l*l,g=d*d+p*p,m=Math.sqrt(f),v=Math.sqrt(h),y=r*Math.tan(($u-Math.acos((f+h-g)/(2*m*v)))/2),b=y/v,w=y/m;Math.abs(b-1)>Gu&&this._.push("L",t+b*c,",",e+b*u),this._.push("A",r,",",r,",0,0,",+(u*d>c*p),",",this._x1=t+w*a,",",this._y1=e+w*l)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e,n=+n;var s=n*Math.cos(i),a=n*Math.sin(i),l=t+s,c=e+a,u=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",l,",",c):(Math.abs(this._x1-l)>Gu||Math.abs(this._y1-c)>Gu)&&this._.push("L",l,",",c),n&&(h>Xu?this._.push("A",n,",",n,",0,1,",u,",",t-s,",",e-a,"A",n,",",n,",0,1,",u,",",this._x1=l,",",this._y1=c):(h<0&&(h=h%Uu+Uu),this._.push("A",n,",",n,",0,",+(h>=$u),",",u,",",this._x1=t+n*Math.cos(r),",",this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+i,"h",-n,"Z")},toString:function(){return this._.join("")}};var Zu=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return R(this.cover(e,n),e,n,t)},Ku=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{if(!(n>t||t>r||i>e||e>o))return this;var s,a,l=r-n,c=this._root;switch(a=(e<(i+o)/2)<<1|t<(n+r)/2){case 0:do s=new Array(4),s[a]=c,c=s;while(l*=2,r=n+l,o=i+l,t>r||e>o);break;case 1:do s=new Array(4),s[a]=c,c=s;while(l*=2,n=r-l,o=i+l,n>t||e>o);break;case 2:do s=new Array(4),s[a]=c,c=s;while(l*=2,r=n+l,i=o-l,t>r||i>e);break;case 3:do s=new Array(4),s[a]=c,c=s;while(l*=2,n=r-l,i=o-l,n>t||i>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ju=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},Qu=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},th=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r},eh=function(t,e,n){var i,r,o,s,a,l,c,u=this._x0,h=this._y0,d=this._x1,p=this._y1,f=[],g=this._root;for(g&&f.push(new th(g,u,h,d,p)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,p=e+n,n*=n);l=f.pop();)if(!(!(g=l.node)||(r=l.x0)>d||(o=l.y0)>p||(s=l.x1)<u||(a=l.y1)<h))if(g.length){var m=(r+s)/2,v=(o+a)/2;f.push(new th(g[3],m,v,s,a),new th(g[2],r,v,m,a),new th(g[1],m,o,s,v),new th(g[0],r,o,m,v)),(c=(e>=v)<<1|t>=m)&&(l=f[f.length-1],f[f.length-1]=f[f.length-1-c],f[f.length-1-c]=l)}else{var y=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=y*y+b*b;if(w<n){var x=Math.sqrt(n=w);u=t-x,h=e-x,d=t+x,p=e+x,i=g.data}}return i},nh=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,c,u,h,d,p=this._root,f=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(a=(f+m)/2))?f=a:m=a,(u=s>=(l=(g+v)/2))?g=l:v=l,e=p,!(p=p[h=u<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[d]=p:this._root=p),this):(this._root=r,this)},ih=function(){return this._root},rh=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},oh=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new th(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var c=(i+o)/2,u=(r+s)/2;(n=l[3])&&a.push(new th(n,c,u,o,s)),(n=l[2])&&a.push(new th(n,i,u,c,s)),(n=l[1])&&a.push(new th(n,c,r,o,u)),(n=l[0])&&a.push(new th(n,i,r,c,u))}return this},sh=function(t){var e,n=[],i=[];for(this._root&&n.push(new th(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(a+c)/2;(o=r[0])&&n.push(new th(o,s,a,u,h)),(o=r[1])&&n.push(new th(o,u,a,l,h)),(o=r[2])&&n.push(new th(o,s,h,u,c)),(o=r[3])&&n.push(new th(o,u,h,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ah=function(t){return arguments.length?(this._x=t,this):this._x},lh=function(t){return arguments.length?(this._y=t,this):this._y},ch=B.prototype=W.prototype;ch.copy=function(){var t,e,n=new W(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=V(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=V(e));return n},ch.add=Zu,ch.addAll=H,ch.cover=Ku,ch.data=Ju,ch.extent=Qu,ch.find=eh,ch.remove=nh,ch.removeAll=z,ch.root=ih,ch.size=rh,ch.visit=oh,ch.visitAfter=sh,ch.x=ah,ch.y=lh;var uh=[].slice,hh={};q.prototype=X.prototype={constructor:q,defer:function(t){if("function"!=typeof t||this._call)throw new Error;if(null!=this._error)return this;var e=uh.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),Y(this),this},abort:function(){return null==this._error&&U(this,new Error("abort")),this},await:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=function(e,n){t.apply(null,[e].concat(n))},G(this),this},awaitAll:function(t){if("function"!=typeof t||this._call)throw new Error;return this._call=t,G(this),this}};var dh=function(t){return function(){return t}},ph=1e-12,fh=Math.PI,gh=fh/2,mh=2*fh,vh=function(){function t(){var t,c,u=+e.apply(this,arguments),h=+n.apply(this,arguments),d=o.apply(this,arguments)-gh,p=s.apply(this,arguments)-gh,f=Math.abs(p-d),g=p>d;if(l||(l=t=L()),h<u&&(c=h,h=u,u=c),h>ph)if(f>mh-ph)l.moveTo(h*Math.cos(d),h*Math.sin(d)),l.arc(0,0,h,d,p,!g),u>ph&&(l.moveTo(u*Math.cos(p),u*Math.sin(p)),l.arc(0,0,u,p,d,g));else{var m,v,y=d,b=p,w=d,x=p,_=f,C=f,k=a.apply(this,arguments)/2,S=k>ph&&(r?+r.apply(this,arguments):Math.sqrt(u*u+h*h)),T=Math.min(Math.abs(h-u)/2,+i.apply(this,arguments)),M=T,D=T;if(S>ph){var A=et(S/u*Math.sin(k)),E=et(S/h*Math.sin(k));(_-=2*A)>ph?(A*=g?1:-1,w+=A,x-=A):(_=0,w=x=(d+p)/2),(C-=2*E)>ph?(E*=g?1:-1,y+=E,b-=E):(C=0,y=b=(d+p)/2)}var P=h*Math.cos(y),I=h*Math.sin(y),O=u*Math.cos(x),R=u*Math.sin(x);if(T>ph){var H=h*Math.cos(b),z=h*Math.sin(b),F=u*Math.cos(w),N=u*Math.sin(w);if(f<fh){var B=_>ph?nt(P,I,F,N,H,z,O,R):[O,R],W=P-B[0],V=I-B[1],q=H-B[0],Y=z-B[1],j=1/Math.sin(Math.acos((W*q+V*Y)/(Math.sqrt(W*W+V*V)*Math.sqrt(q*q+Y*Y)))/2),$=Math.sqrt(B[0]*B[0]+B[1]*B[1]);M=Math.min(T,(u-$)/(j-1)),D=Math.min(T,(h-$)/(j+1))}}C>ph?D>ph?(m=it(F,N,P,I,h,D,g),v=it(H,z,O,R,h,D,g),l.moveTo(m.cx+m.x01,m.cy+m.y01),D<T?l.arc(m.cx,m.cy,D,Math.atan2(m.y01,m.x01),Math.atan2(v.y01,v.x01),!g):(l.arc(m.cx,m.cy,D,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!g),l.arc(0,0,h,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),!g),l.arc(v.cx,v.cy,D,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!g))):(l.moveTo(P,I),l.arc(0,0,h,y,b,!g)):l.moveTo(P,I),u>ph&&_>ph?M>ph?(m=it(O,R,H,z,u,-M,g),v=it(P,I,F,N,u,-M,g),l.lineTo(m.cx+m.x01,m.cy+m.y01),M<T?l.arc(m.cx,m.cy,M,Math.atan2(m.y01,m.x01),Math.atan2(v.y01,v.x01),!g):(l.arc(m.cx,m.cy,M,Math.atan2(m.y01,m.x01),Math.atan2(m.y11,m.x11),!g),l.arc(0,0,u,Math.atan2(m.cy+m.y11,m.cx+m.x11),Math.atan2(v.cy+v.y11,v.cx+v.x11),g),l.arc(v.cx,v.cy,M,Math.atan2(v.y11,v.x11),Math.atan2(v.y01,v.x01),!g))):l.arc(0,0,u,x,w,g):l.lineTo(O,R)}else l.moveTo(0,0);if(l.closePath(),t)return l=null,t+""||null}var e=Z,n=K,i=dh(0),r=null,o=J,s=Q,a=tt,l=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-fh/2;return[Math.cos(i)*t,Math.sin(i)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:dh(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:dh(+e),t):n},t.cornerRadius=function(e){return arguments.length?(i="function"==typeof e?e:dh(+e),t):i},t.padRadius=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:dh(+e),t):r},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:dh(+e),t):o},t.endAngle=function(e){return arguments.length?(s="function"==typeof e?e:dh(+e),t):s},t.padAngle=function(e){
return arguments.length?(a="function"==typeof e?e:dh(+e),t):a},t.context=function(e){return arguments.length?(l=null==e?null:e,t):l},t};rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var yh=function(t){return new rt(t)},bh=function(){function t(t){var a,l,c,u=t.length,h=!1;for(null==r&&(s=o(c=L())),a=0;a<=u;++a)!(a<u&&i(l=t[a],a,t))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(l,a,t),+n(l,a,t));if(c)return s=null,c+""||null}var e=ot,n=st,i=dh(!0),r=null,o=yh,s=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:dh(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:dh(+e),t):n},t.defined=function(e){return arguments.length?(i="function"==typeof e?e:dh(!!e),t):i},t.curve=function(e){return arguments.length?(o=e,null!=r&&(s=o(r)),t):o},t.context=function(e){return arguments.length?(null==e?r=s=null:s=o(r=e),t):r},t},wh=function(){function t(t){var e,u,h,d,p,f=t.length,g=!1,m=new Array(f),v=new Array(f);for(null==a&&(c=l(p=L())),e=0;e<=f;++e){if(!(e<f&&s(d=t[e],e,t))===g)if(g=!g)u=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=e-1;h>=u;--h)c.point(m[h],v[h]);c.lineEnd(),c.areaEnd()}g&&(m[e]=+n(d,e,t),v[e]=+r(d,e,t),c.point(i?+i(d,e,t):m[e],o?+o(d,e,t):v[e]))}if(p)return c=null,p+""||null}function e(){return bh().defined(s).curve(l).context(a)}var n=ot,i=null,r=dh(0),o=st,s=dh(!0),a=null,l=yh,c=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:dh(+e),i=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:dh(+e),t):n},t.x1=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:dh(+e),t):i},t.y=function(e){return arguments.length?(r="function"==typeof e?e:dh(+e),o=null,t):r},t.y0=function(e){return arguments.length?(r="function"==typeof e?e:dh(+e),t):r},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:dh(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(r)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(i).y(r)},t.defined=function(e){return arguments.length?(s="function"==typeof e?e:dh(!!e),t):s},t.curve=function(e){return arguments.length?(l=e,null!=a&&(c=l(a)),t):l},t.context=function(e){return arguments.length?(null==e?a=c=null:c=l(a=e),t):a},t},xh=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},_h=function(t){return t},Ch=function(){function t(t){var a,l,c,u,h,d=t.length,p=0,f=new Array(d),g=new Array(d),m=+r.apply(this,arguments),v=Math.min(mh,Math.max(-mh,o.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/d,s.apply(this,arguments)),b=y*(v<0?-1:1);for(a=0;a<d;++a)(h=g[f[a]=a]=+e(t[a],a,t))>0&&(p+=h);for(null!=n?f.sort(function(t,e){return n(g[t],g[e])}):null!=i&&f.sort(function(e,n){return i(t[e],t[n])}),a=0,c=p?(v-d*b)/p:0;a<d;++a,m=u)l=f[a],h=g[l],u=m+(h>0?h*c:0)+b,g[l]={data:t[l],index:a,value:h,startAngle:m,endAngle:u,padAngle:y};return g}var e=_h,n=xh,i=null,r=dh(0),o=dh(mh),s=dh(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:dh(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,i=null,t):n},t.sort=function(e){return arguments.length?(i=e,n=null,t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:dh(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:dh(+e),t):o},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:dh(+e),t):s},t},kh=lt(yh);at.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Sh=function(){return ct(bh().curve(kh))},Th=function(){var t=wh().curve(kh),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return ct(n())},delete t.lineX0,t.lineEndAngle=function(){return ct(i())},delete t.lineX1,t.lineInnerRadius=function(){return ct(r())},delete t.lineY0,t.lineOuterRadius=function(){return ct(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(lt(t)):e()._curve},t},Mh={draw:function(t,e){var n=Math.sqrt(e/fh);t.moveTo(n,0),t.arc(0,0,n,0,mh)}},Dh={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Ah=Math.sqrt(1/3),Eh=2*Ah,Ph={draw:function(t,e){var n=Math.sqrt(e/Eh),i=n*Ah;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Ih=.8908130915292852,Oh=Math.sin(fh/10)/Math.sin(7*fh/10),Lh=Math.sin(mh/10)*Oh,Rh=-Math.cos(mh/10)*Oh,Hh={draw:function(t,e){var n=Math.sqrt(e*Ih),i=Lh*n,r=Rh*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=mh*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},zh={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},Fh=Math.sqrt(3),Nh={draw:function(t,e){var n=-Math.sqrt(e/(3*Fh));t.moveTo(0,2*n),t.lineTo(-Fh*n,-n),t.lineTo(Fh*n,-n),t.closePath()}},Bh=-.5,Wh=Math.sqrt(3)/2,Vh=1/Math.sqrt(12),qh=3*(Vh/2+1),Yh={draw:function(t,e){var n=Math.sqrt(e/qh),i=n/2,r=n*Vh,o=i,s=n*Vh+n,a=-o,l=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Bh*i-Wh*r,Wh*i+Bh*r),t.lineTo(Bh*o-Wh*s,Wh*o+Bh*s),t.lineTo(Bh*a-Wh*l,Wh*a+Bh*l),t.lineTo(Bh*i+Wh*r,Bh*r-Wh*i),t.lineTo(Bh*o+Wh*s,Bh*s-Wh*o),t.lineTo(Bh*a+Wh*l,Bh*l-Wh*a),t.closePath()}},jh=[Mh,Dh,Ph,zh,Hh,Nh,Yh],$h=function(){function t(){var t;if(i||(i=t=L()),e.apply(this,arguments).draw(i,+n.apply(this,arguments)),t)return i=null,t+""||null}var e=dh(Mh),n=dh(64),i=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:dh(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:dh(+e),t):n},t.context=function(e){return arguments.length?(i=null==e?null:e,t):i},t},Uh=function(){};ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ut(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Gh=function(t){return new ht(t)};dt.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Xh=function(t){return new dt(t)};pt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ut(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Zh=function(t){return new pt(t)};ft.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*s),this._beta*e[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Kh=function t(e){function n(t){return 1===e?new ht(t):new ft(t,e)}return n.beta=function(e){return t(+e)},n}(.85);mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gt(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Jh=function t(e){function n(t){return new mt(t,e)}return n.tension=function(e){return t(+e)},n}(0);vt.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Qh=function t(e){function n(t){return new vt(t,e)}return n.tension=function(e){return t(+e)},n}(0);yt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var td=function t(e){function n(t){return new yt(t,e)}return n.tension=function(e){return t(+e)},n}(0);wt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var ed=function t(e){function n(t){return e?new wt(t,e):new mt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);xt.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var nd=function t(e){function n(t){return e?new xt(t,e):new vt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);_t.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var id=function t(e){function n(t){return e?new _t(t,e):new yt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Ct.prototype={areaStart:Uh,areaEnd:Uh,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var rd=function(t){return new Ct(t)};Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Mt(this,this._t0,Tt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Mt(this,Tt(this,n=St(this,t,e)),n);break;default:Mt(this,this._t0,n=St(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(At.prototype=Object.create(Dt.prototype)).point=function(t,e){Dt.prototype.point.call(this,e,t)},Et.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Lt(t),r=Lt(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var od=function(t){return new Ot(t)};Rt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var sd=function(t){return new Rt(t,.5)},ad=Array.prototype.slice,ld=function(t,e){if((i=t.length)>1)for(var n,i,r=1,o=t[e[0]],s=o.length;r<i;++r){n=o,o=t[e[r]];for(var a=0;a<s;++a)o[a][1]+=o[a][0]=isNaN(n[a][1])?n[a][0]:n[a][1]}},cd=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},ud=function(){function t(t){var o,s,a=e.apply(this,arguments),l=t.length,c=a.length,u=new Array(c);for(o=0;o<c;++o){for(var h,d=a[o],p=u[o]=new Array(l),f=0;f<l;++f)p[f]=h=[0,+r(t[f],d,f,t)],h.data=t[f];p.key=d}for(o=0,s=n(u);o<c;++o)u[s[o]].index=o;return i(u,s),u}var e=dh([]),n=cd,i=ld,r=Ft;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:dh(ad.call(n)),t):e},t.value=function(e){return arguments.length?(r="function"==typeof e?e:dh(+e),t):r},t.order=function(e){return arguments.length?(n=null==e?cd:"function"==typeof e?e:dh(ad.call(e)),t):n},t.offset=function(e){return arguments.length?(i=null==e?ld:e,t):i},t},hd=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}ld(t,e)}},dd=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}ld(t,e)}},pd=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,c=0;a<r;++a){for(var u=t[e[a]],h=u[s][1]||0,d=u[s-1][1]||0,p=(h-d)/2,f=0;f<a;++f){var g=t[e[f]],m=g[s][1]||0,v=g[s-1][1]||0;p+=m-v}l+=h,c+=p*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=c/l)}n[s-1][1]+=n[s-1][0]=o,ld(t,e)}},fd=function(t){var e=t.map(Nt);return cd(t).sort(function(t,n){return e[t]-e[n]})},gd=function(t){return fd(t).reverse()},md=function(t){var e,n,i=t.length,r=t.map(Nt),o=cd(t).sort(function(t,e){return r[e]-r[t]}),s=0,a=0,l=[],c=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],l.push(n)):(a+=r[n],c.push(n));return c.reverse().concat(l)},vd=function(t){return cd(t).reverse()},yd=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},bd=.7,wd=1/bd,xd=/^#([0-9a-f]{3})$/,_d=/^#([0-9a-f]{6})$/,Cd=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,kd=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Sd=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Td=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Md=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,Dd=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,Ad={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yd(Wt,Vt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),yd(Ut,$t,Bt(Wt,{brighter:function(t){return t=null==t?wd:Math.pow(wd,t),new Ut(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?bd:Math.pow(bd,t),new Ut(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),yd(Kt,Zt,Bt(Wt,{brighter:function(t){return t=null==t?wd:Math.pow(wd,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bd:Math.pow(bd,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Ut(Jt(t>=240?t-240:t+120,r,i),Jt(t,r,i),Jt(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ed=Math.PI/180,Pd=180/Math.PI,Id=18,Od=.95047,Ld=1,Rd=1.08883,Hd=4/29,zd=6/29,Fd=3*zd*zd,Nd=zd*zd*zd;yd(ee,te,Bt(Wt,{brighter:function(t){return new ee(this.l+Id*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ee(this.l-Id*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Ld*ie(t),e=Od*ie(e),n=Rd*ie(n),new Ut(re(3.2404542*e-1.5371385*t-.4985314*n),re(-.969266*e+1.8760108*t+.041556*n),re(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),yd(le,ae,Bt(Wt,{brighter:function(t){return new le(this.h,this.c,this.l+Id*(null==t?1:t),this.opacity)},darker:function(t){return new le(this.h,this.c,this.l-Id*(null==t?1:t),this.opacity)},rgb:function(){return Qt(this).rgb()}}));var Bd=-.14861,Wd=1.78277,Vd=-.29227,qd=-.90649,Yd=1.97294,jd=Yd*qd,$d=Yd*Wd,Ud=Wd*Vd-qd*Bd;yd(he,ue,Bt(Wt,{brighter:function(t){return t=null==t?wd:Math.pow(wd,t),new he(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bd:Math.pow(bd,t),new he(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ed,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Ut(255*(e+n*(Bd*i+Wd*r)),255*(e+n*(Vd*i+qd*r)),255*(e+n*(Yd*i)),this.opacity)}}));var Gd,Xd,Zd,Kd,Jd=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return de((n-i/e)*e,s,r,o,a)}},Qd=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return de((n-i/e)*e,r,o,s,a)}},tp=function(t){return function(){return t}},ep=function t(e){function n(t,e){var n=i((t=$t(t)).r,(e=$t(e)).r),r=i(t.g,e.g),o=i(t.b,e.b),s=i(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}var i=me(e);return n.gamma=t,n}(1),np=ye(Jd),ip=ye(Qd),rp=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(i),s=new Array(i);for(n=0;n<r;++n)o[n]=hp(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},op=function(t,e){var n=new Date;return t=+t,e-=t,function(i){return n.setTime(t+e*i),n}},sp=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},ap=function(t,e){var n,i={},r={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?i[n]=hp(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},lp=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cp=new RegExp(lp.source,"g"),up=function(t,e){var n,i,r,o=lp.lastIndex=cp.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=lp.exec(t))&&(i=cp.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:sp(n,i)})),o=cp.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?we(l[0].x):be(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},hp=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?tp(e):("number"===i?sp:"string"===i?(n=Vt(e))?(e=n,ep):up:e instanceof Vt?ep:e instanceof Date?op:Array.isArray(e)?rp:isNaN(e)?ap:sp)(t,e)},dp=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},pp=180/Math.PI,fp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},gp=function(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*pp,skewX:Math.atan(l)*pp,scaleX:s,scaleY:a}},mp=Ce(xe,"px, ","px)","deg)"),vp=Ce(_e,", ",")",")"),yp=Math.SQRT2,bp=2,wp=4,xp=1e-12,_p=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],c=e[2],u=a-r,h=l-o,d=u*u+h*h;if(d<xp)i=Math.log(c/s)/yp,n=function(t){return[r+t*u,o+t*h,s*Math.exp(yp*t*i)]};else{var p=Math.sqrt(d),f=(c*c-s*s+wp*d)/(2*s*bp*p),g=(c*c-s*s-wp*d)/(2*c*bp*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/yp,n=function(t){var e=t*i,n=ke(m),a=s/(bp*p)*(n*Te(yp*e+m)-Se(m));return[r+a*u,o+a*h,s*n/ke(yp*e+m)]}}return n.duration=1e3*i,n},Cp=Me(ge),kp=Me(ve),Sp=Ae(ge),Tp=Ae(ve),Mp=Ee(ge),Dp=Ee(ve),Ap=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},Ep={value:function(){}};Ie.prototype=Pe.prototype={constructor:Ie,on:function(t,e){var n,i=this._,r=Oe(t+"",i),o=-1,s=r.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=Re(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Re(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=Le(i[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ie(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],o=0,n=i.length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var Pp,Ip,Op=function(t){function e(t,e){var i,r,o=n(t,function(t,n){return i?i(t,n-1):(r=t,void(i=e?ze(t,e):He(t)))});return o.columns=r,o}function n(t,e){function n(){if(u>=c)return s;if(r)return r=!1,o;var e,n=u;if(34===t.charCodeAt(n)){for(var i=n;i++<c;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}return u=i+2,e=t.charCodeAt(i+1),13===e?(r=!0,10===t.charCodeAt(i+2)&&++u):10===e&&(r=!0),t.slice(n+1,i).replace(/""/g,'"')}for(;u<c;){var a=1;if(e=t.charCodeAt(u++),10===e)r=!0;else if(13===e)r=!0,10===t.charCodeAt(u)&&(++u,++a);else if(e!==l)continue;return t.slice(n,u-a)}return t.slice(n)}for(var i,r,o={},s={},a=[],c=t.length,u=0,h=0;(i=n())!==s;){for(var d=[];i!==o&&i!==s;)d.push(i),i=n();e&&null==(d=e(d,h++))||a.push(d)}return a}function i(e,n){return null==n&&(n=Fe(e)),[n.map(s).join(t)].concat(e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})).join("\n")}function r(t){return t.map(o).join("\n")}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":a.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return{parse:e,parseRows:n,format:i,formatRows:r}},Lp=Op(","),Rp=Lp.parse,Hp=Lp.parseRows,zp=Lp.format,Fp=Lp.formatRows,Np=Op("\t"),Bp=Np.parse,Wp=Np.parseRows,Vp=Np.format,qp=Np.formatRows,Yp=function(t,e){function n(t){var e,n=u.status;if(!n&&Be(u)||n>=200&&n<300||304===n){if(s)try{e=s.call(i,u)}catch(t){return void l.call("error",i,t)}else e=u;l.call("load",i,e)}else l.call("error",i,t)}var i,r,s,a,l=Pe("beforesend","progress","load","error"),c=o(),u=new XMLHttpRequest,h=null,d=null,p=0;if("undefined"==typeof XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=n:u.onreadystatechange=function(t){u.readyState>3&&n(t)},u.onprogress=function(t){l.call("progress",i,t)},i={header:function(t,e){return t=(t+"").toLowerCase(),
arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),i)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",i):r},responseType:function(t){return arguments.length?(a=t,i):a},timeout:function(t){return arguments.length?(p=+t,i):p},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",i)},password:function(t){return arguments.length<1?d:(d=null==t?null:t+"",i)},response:function(t){return s=t,i},get:function(t,e){return i.send("GET",t,e)},post:function(t,e){return i.send("POST",t,e)},send:function(e,n,o){return u.open(e,t,!0,h,d),null==r||c.has("accept")||c.set("accept",r+",*/*"),u.setRequestHeader&&c.each(function(t,e){u.setRequestHeader(e,t)}),null!=r&&u.overrideMimeType&&u.overrideMimeType(r),null!=a&&(u.responseType=a),p>0&&(u.timeout=p),null==o&&"function"==typeof n&&(o=n,n=null),null!=o&&1===o.length&&(o=Ne(o)),null!=o&&i.on("error",o).on("load",function(t){o(null,t)}),l.call("beforesend",i,u),u.send(null==n?null:n),i},abort:function(){return u.abort(),i},on:function(){var t=l.on.apply(l,arguments);return t===l?i:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return i.get(e)}return i},jp=function(t,e){return function(n,i){var r=Yp(n).mimeType(t).response(e);if(null!=i){if("function"!=typeof i)throw new Error("invalid callback: "+i);return r.get(i)}return r}},$p=jp("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Up=jp("application/json",function(t){return JSON.parse(t.responseText)}),Gp=jp("text/plain",function(t){return t.responseText}),Xp=jp("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Zp=function(t,e){return function(n,i,r){arguments.length<3&&(r=i,i=null);var o=Yp(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(We(e,i=t)):i},o.row(i),r?o.get(r):o}},Kp=Zp("text/csv",Rp),Jp=Zp("text/tab-separated-values",Bp),Qp=0,tf=0,ef=0,nf=1e3,rf=0,of=0,sf=0,af="object"==typeof performance&&performance.now?performance:Date,lf="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};Ye.prototype=je.prototype={constructor:Ye,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ve():+n)+(null==e?0:+e),this._next||Ip===this||(Ip?Ip._next=this:Pp=this,Ip=this),this._call=t,this._time=n,Ze()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ze())}};var cf=function(t,e,n){var i=new Ye;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},uf=function(t,e,n){var i=new Ye,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Ve():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)},hf=new Date,df=new Date,pf=Ke(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});pf.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ke(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):pf:null};var ff=pf.range,gf=1e3,mf=6e4,vf=36e5,yf=864e5,bf=6048e5,wf=Ke(function(t){t.setTime(Math.floor(t/gf)*gf)},function(t,e){t.setTime(+t+e*gf)},function(t,e){return(e-t)/gf},function(t){return t.getUTCSeconds()}),xf=wf.range,_f=Ke(function(t){t.setTime(Math.floor(t/mf)*mf)},function(t,e){t.setTime(+t+e*mf)},function(t,e){return(e-t)/mf},function(t){return t.getMinutes()}),Cf=_f.range,kf=Ke(function(t){var e=t.getTimezoneOffset()*mf%vf;e<0&&(e+=vf),t.setTime(Math.floor((+t-e)/vf)*vf+e)},function(t,e){t.setTime(+t+e*vf)},function(t,e){return(e-t)/vf},function(t){return t.getHours()}),Sf=kf.range,Tf=Ke(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mf)/yf},function(t){return t.getDate()-1}),Mf=Tf.range,Df=Je(0),Af=Je(1),Ef=Je(2),Pf=Je(3),If=Je(4),Of=Je(5),Lf=Je(6),Rf=Df.range,Hf=Af.range,zf=Ef.range,Ff=Pf.range,Nf=If.range,Bf=Of.range,Wf=Lf.range,Vf=Ke(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),qf=Vf.range,Yf=Ke(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Yf.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ke(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var jf=Yf.range,$f=Ke(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*mf)},function(t,e){return(e-t)/mf},function(t){return t.getUTCMinutes()}),Uf=$f.range,Gf=Ke(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*vf)},function(t,e){return(e-t)/vf},function(t){return t.getUTCHours()}),Xf=Gf.range,Zf=Ke(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/yf},function(t){return t.getUTCDate()-1}),Kf=Zf.range,Jf=Qe(0),Qf=Qe(1),tg=Qe(2),eg=Qe(3),ng=Qe(4),ig=Qe(5),rg=Qe(6),og=Jf.range,sg=Qf.range,ag=tg.range,lg=eg.range,cg=ng.range,ug=ig.range,hg=rg.range,dg=Ke(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),pg=dg.range,fg=Ke(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});fg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ke(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var gg,mg=fg.range,vg=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},yg=function(t){return t=vg(Math.abs(t)),t?t[1]:NaN},bg=function(t,e){return function(n,i){for(var r=n.length,o=[],s=0,a=t[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}},wg=function(t,e){t=t.toPrecision(e);t:for(var n,i=t.length,r=1,o=-1;r<i;++r)switch(t[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},xg=function(t,e){var n=vg(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(gg=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+vg(t,Math.max(0,e+o-1))[0]},_g=function(t,e){var n=vg(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array((-r)).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Cg={"":wg,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return _g(100*t,e)},r:_g,s:xg,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},kg=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i,Sg=function(t){return new tn(t)};tn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Tg,Mg=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Dg=function(t){function e(t){function e(t){var e,r,l,y=f,b=g;if("c"===p)b=m(t)+b,t="";else{t=+t;var w=(t<0||1/t<0)&&(t*=-1,!0);if(t=m(t,d),w)for(e=-1,r=t.length,w=!1;++e<r;)if(l=t.charCodeAt(e),48<l&&l<58||"x"===p&&96<l&&l<103||"X"===p&&64<l&&l<71){w=!0;break}if(y=(w?"("===a?a:"-":"-"===a||"("===a?"":a)+y,b=b+("s"===p?Mg[8+gg/3]:"")+(w&&"("===a?")":""),v)for(e=-1,r=t.length;++e<r;)if(l=t.charCodeAt(e),48>l||l>57){b=(46===l?o+t.slice(e+1):t.slice(e))+b,t=t.slice(0,e);break}}h&&!c&&(t=i(t,1/0));var x=y.length+t.length+b.length,_=x<u?new Array(u-x+1).join(n):"";switch(h&&c&&(t=i(_+t,_.length?u-b.length:1/0),_=""),s){case"<":return y+t+b+_;case"=":return y+_+t+b;case"^":return _.slice(0,x=_.length>>1)+y+t+b+_.slice(x)}return _+y+t+b}t=Sg(t);var n=t.fill,s=t.align,a=t.sign,l=t.symbol,c=t.zero,u=t.width,h=t.comma,d=t.precision,p=t.type,f="$"===l?r[0]:"#"===l&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===l?r[1]:/[%p]/.test(p)?"%":"",m=Cg[p],v=!p||/[defgprs%]/.test(p);return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),e.toString=function(){return t+""},e}function n(t,n){var i=e((t=Sg(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(yg(n)/3))),o=Math.pow(10,-r),s=Mg[8+r/3];return function(t){return i(o*t)+s}}var i=t.grouping&&t.thousands?bg(t.grouping,t.thousands):en,r=t.currency,o=t.decimal;return{format:e,formatPrefix:n}};nn({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Ag,Eg=function(t){return Math.max(0,-yg(Math.abs(t)))},Pg=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(yg(e)/3)))-yg(Math.abs(t)))},Ig=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yg(e)-yg(t))+1},Og={"-":"",_:" ",0:"0"},Lg=/^\s*\d+/,Rg=/^%/,Hg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;ei({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var zg="%Y-%m-%dT%H:%M:%S.%LZ",Fg=Date.prototype.toISOString?ni:t.utcFormat(zg),Ng=+new Date("2000-01-01T00:00:00.000Z")?ii:t.utcParse(zg),Bg=Array.prototype,Wg=Bg.map,Vg=Bg.slice,qg={name:"implicit"},Yg=function(t){return function(){return t}},jg=function(t){return+t},$g=[0,1],Ug=function(e,i,r){var o,s=e[0],a=e[e.length-1],l=n(s,a,null==i?10:i);switch(r=Sg(null==r?",f":r),r.type){case"s":var c=Math.max(Math.abs(s),Math.abs(a));return null!=r.precision||isNaN(o=Pg(l,c))||(r.precision=o),t.formatPrefix(r,c);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=Ig(l,Math.max(Math.abs(s),Math.abs(a))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=Eg(l))||(r.precision=o-2*("%"===r.type))}return t.format(r)},Gg=function(t,e){t=t.slice();var n,i=0,r=t.length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t},Xg=1e3,Zg=60*Xg,Kg=60*Zg,Jg=24*Kg,Qg=7*Jg,tm=30*Jg,em=365*Jg,nm=function(){return Oi(Yf,Vf,Df,Tf,kf,_f,wf,pf,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},im=function(){return Oi(fg,dg,Jf,Zf,Gf,$f,wf,pf,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},rm=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},om=rm("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),sm=rm("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),am=rm("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),lm=rm("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),cm=Dp(ue(300,.5,0),ue(-240,.5,1)),um=Dp(ue(-100,.75,.35),ue(80,1.5,.8)),hm=Dp(ue(260,.75,.35),ue(80,1.5,.8)),dm=ue(),pm=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return dm.h=360*t-100,dm.s=1.5-1.5*e,dm.l=.8-.9*e,dm+""},fm=Li(rm("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),gm=Li(rm("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mm=Li(rm("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),vm=Li(rm("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ym="http://www.w3.org/1999/xhtml",bm={svg:"http://www.w3.org/2000/svg",xhtml:ym,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wm=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),bm.hasOwnProperty(e)?{space:bm[e],local:t}:t},xm=function(t){var e=wm(t);return(e.local?zi:Hi)(e)},_m=0;Ni.prototype=Fi.prototype={constructor:Ni,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Cm=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var km=document.documentElement;if(!km.matches){var Sm=km.webkitMatchesSelector||km.msMatchesSelector||km.mozMatchesSelector||km.oMatchesSelector;Cm=function(t){return function(){return Sm.call(this,t)}}}}var Tm=Cm,Mm={};if(t.event=null,"undefined"!=typeof document){var Dm=document.documentElement;"onmouseenter"in Dm||(Mm={mouseenter:"mouseover",mouseleave:"mouseout"})}var Am=function(t,e,n){var i,r,o=Vi(t+""),s=o.length;{if(!(arguments.length<2)){for(a=e?Yi:qi,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(i=0,l=a[c];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value}},Em=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},Pm=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Im=function(t){var e=Em();return e.changedTouches&&(e=e.changedTouches[0]),Pm(t,e)},Om=function(t){return null==t?$i:function(){return this.querySelector(t)}},Lm=function(t){"function"!=typeof t&&(t=Om(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],l=a.length,c=i[r]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new Pr(i,this._parents)},Rm=function(t){return null==t?Ui:function(){return this.querySelectorAll(t)}},Hm=function(t){"function"!=typeof t&&(t=Rm(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(i.push(t.call(s,s.__data__,c,a)),r.push(s));return new Pr(i,r)},zm=function(t){"function"!=typeof t&&(t=Tm(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Pr(i,this._parents)},Fm=function(t){return new Array(t.length)},Nm=function(){return new Pr(this._enter||this._groups.map(Fm),this._parents)};Gi.prototype={constructor:Gi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Bm=function(t){return function(){return t}},Wm="$",Vm=function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?Zi:Xi,i=this._parents,r=this._groups;"function"!=typeof t&&(t=Bm(t));for(var o=r.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],d=h.length,p=t.call(u,u&&u.__data__,c,i),f=p.length,g=a[c]=new Array(f),m=s[c]=new Array(f),v=l[c]=new Array(d);n(u,h,g,m,v,p,e);for(var y,b,w=0,x=0;w<f;++w)if(y=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<f;);y._next=b||null}}return s=new Pr(s,i),s._enter=a,s._exit=l,s},qm=function(){return new Pr(this._exit||this._groups.map(Fm),this._parents)},Ym=function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<i;++a)s[a]=e[a];return new Pr(s,this._parents)},jm=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&s!==i.nextSibling&&s.parentNode.insertBefore(i,s),s=i);return this},$m=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Ki);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,c=r[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new Pr(r,this._parents).order()},Um=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Gm=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},Xm=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},Zm=function(){var t=0;return this.each(function(){++t}),t},Km=function(){return!this.node()},Jm=function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},Qm=function(t,e){var n=wm(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?Qi:Ji:"function"==typeof e?n.local?ir:nr:n.local?er:tr)(n,e))},tv=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},ev=function(t,e,n){var i;return arguments.length>1?this.each((null==e?rr:"function"==typeof e?sr:or)(t,e,null==n?"":n)):tv(i=this.node()).getComputedStyle(i,null).getPropertyValue(t)},nv=function(t,e){return arguments.length>1?this.each((null==e?ar:"function"==typeof e?cr:lr)(t,e)):this.node()[t]};dr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var iv=function(t,e){var n=ur(t+"");if(arguments.length<2){for(var i=hr(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?vr:e?gr:mr)(n,e))},rv=function(t){return arguments.length?this.each(null==t?yr:("function"==typeof t?wr:br)(t)):this.node().textContent},ov=function(t){return arguments.length?this.each(null==t?xr:("function"==typeof t?Cr:_r)(t)):this.node().innerHTML},sv=function(){return this.each(kr)},av=function(){return this.each(Sr)},lv=function(t){var e="function"==typeof t?t:xm(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},cv=function(t,e){var n="function"==typeof t?t:xm(t),i=null==e?Tr:"function"==typeof e?e:Om(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},uv=function(){return this.each(Mr)},hv=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},dv=function(t,e){return this.each(("function"==typeof e?Er:Ar)(t,e))},pv=[null];Pr.prototype=Ir.prototype={constructor:Pr,select:Lm,selectAll:Hm,filter:zm,data:Vm,enter:Nm,exit:qm,merge:Ym,order:jm,sort:$m,call:Um,nodes:Gm,node:Xm,size:Zm,empty:Km,each:Jm,attr:Qm,style:ev,property:nv,classed:iv,text:rv,html:ov,raise:sv,lower:av,append:lv,insert:cv,remove:uv,datum:hv,on:Am,dispatch:dv};var fv=function(t){return"string"==typeof t?new Pr([[document.querySelector(t)]],[document.documentElement]):new Pr([[t]],pv)},gv=function(t){return"string"==typeof t?new Pr([document.querySelectorAll(t)],[document.documentElement]):new Pr([null==t?[]:t],pv)},mv=function(t,e,n){arguments.length<3&&(n=e,e=Em().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return Pm(t,i);return null},vv=function(t,e){null==e&&(e=Em().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=Pm(t,e[n]);return r},yv=Pe("start","end","interrupt"),bv=[],wv=0,xv=1,_v=2,Cv=3,kv=4,Sv=5,Tv=6,Mv=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};Hr(t,n,{name:e,index:i,group:r,on:yv,tween:bv,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wv})},Dv=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){e=null==e?null:e+"";for(r in o)(n=o[r]).name===e?(i=n.state===Cv,n.state=Tv,n.timer.stop(),i&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}},Av=function(t){return this.each(function(){Dv(this,t)})},Ev=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Rr(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?zr:Fr)(n,t,e))},Pv=function(t,e){var n;return("number"==typeof e?sp:e instanceof Vt?ep:(n=Vt(e))?(e=n,ep):up)(t,e)},Iv=function(t,e){var n=wm(t),i="transform"===n?vp:Pv;return this.attrTween(t,"function"==typeof e?(n.local?jr:Yr)(n,i,Nr(this,"attr."+t,e)):null==e?(n.local?Wr:Br)(n):(n.local?qr:Vr)(n,i,e))},Ov=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=wm(t);return this.tween(n,(i.local?$r:Ur)(i,e))},Lv=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Gr:Xr)(e,t)):Rr(this.node(),e).delay},Rv=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zr:Kr)(e,t)):Rr(this.node(),e).duration},Hv=function(t){var e=this._id;return arguments.length?this.each(Jr(e,t)):Rr(this.node(),e).ease},zv=function(t){"function"!=typeof t&&(t=Tm(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new co(i,this._parents,this._name,this._id)},Fv=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,d=s[a]=new Array(h),p=0;p<h;++p)(l=c[p]||u[p])&&(d[p]=l);for(;a<i;++a)s[a]=e[a];return new co(s,this._parents,this._name,this._id)},Nv=function(t,e){var n=this._id;return arguments.length<2?Rr(this.node(),n).on.on(t):this.each(to(n,t,e))},Bv=function(){return this.on("end.remove",eo(this._id))},Wv=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Om(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,c=i[s],u=c.length,h=o[s]=new Array(u),d=0;d<u;++d)(a=c[d])&&(l=t.call(a,a.__data__,d,c))&&("__data__"in a&&(l.__data__=a.__data__),h[d]=l,Mv(h[d],e,n,d,h,Rr(a,n)));return new co(o,this._parents,e,n)},Vv=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Rm(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,c=i[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,p=t.call(l,l.__data__,h,c),f=Rr(l,n),g=0,m=p.length;g<m;++g)(d=p[g])&&Mv(d,e,n,g,p,f);o.push(p),s.push(l)}return new co(o,s,e,n)},qv=Ir.prototype.constructor,Yv=function(){return new qv(this._groups,this._parents)},jv=function(t,e,n){var i="transform"==(t+="")?mp:Pv;return null==e?this.styleTween(t,no(t,i)).on("end.style."+t,io(t)):this.styleTween(t,"function"==typeof e?oo(t,i,Nr(this,"style."+t,e)):ro(t,i,e),n)},$v=function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,so(t,e,null==n?"":n))},Uv=function(t){return this.tween("text","function"==typeof t?lo(Nr(this,"text",t)):ao(null==t?"":t+""))},Gv=function(){for(var t=this._name,e=this._id,n=ho(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Rr(s,e);Mv(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new co(i,this._parents,t,n)},Xv=0,Zv=Ir.prototype;co.prototype=uo.prototype={constructor:co,select:Wv,selectAll:Vv,filter:zv,merge:Fv,selection:Yv,transition:Gv,call:Zv.call,nodes:Zv.nodes,node:Zv.node,size:Zv.size,empty:Zv.empty,each:Zv.each,on:Nv,attr:Iv,attrTween:Ov,style:jv,styleTween:$v,text:Uv,remove:Bv,tween:Ev,delay:Lv,duration:Rv,ease:Hv};var Kv={time:null,delay:0,duration:250,ease:y},Jv=function(t){var e,n;t instanceof co?(e=t._id,t=t._name):(e=ho(),(n=Kv).time=Ve(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Mv(s,t,e,c,a,n||po(s,e));return new co(i,this._parents,t,e)};Ir.prototype.interrupt=Av,Ir.prototype.transition=Jv;var Qv=[null],ty=function(t,e){var n,i,r=t.__transition;if(r){e=null==e?null:e+"";for(i in r)if((n=r[i]).state>xv&&n.name===e)return new co([[t]],Qv,e,(+i))}return null},ey=Array.prototype.slice,ny=function(t){return t},iy=1,ry=2,oy=3,sy=4,ay=1e-6,ly=function(){function t(t){var o,s=0;t.eachAfter(function(t){var n=t.children;n?(t.x=ko(n),t.y=To(n)):(t.x=o?s+=e(t,o):0,t.y=0,o=t)});var a=Do(t),l=Ao(t),c=a.x-e(a,l)/2,u=l.x+e(l,a)/2;return t.eachAfter(r?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*i}:function(e){e.x=(e.x-c)/(u-c)*n,e.y=(1-(t.y?e.y/t.y:1))*i})}var e=Co,n=1,i=1,r=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(r=!1,n=+e[0],i=+e[1],t):r?null:[n,i]},t.nodeSize=function(e){return arguments.length?(r=!0,n=+e[0],i=+e[1],t):r?[n,i]:null},t},cy=function(t){var e,n,i,r,o=this,s=[o];do for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i]);while(s.length);return this},uy=function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),
e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},hy=function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},dy=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},py=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},fy=function(t){for(var e=this,n=Eo(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},gy=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},my=function(){var t=[];return this.each(function(e){t.push(e)}),t},vy=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},yy=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Ho.prototype=Po.prototype={constructor:Ho,each:cy,eachAfter:hy,eachBefore:uy,sum:dy,sort:py,path:fy,ancestors:gy,descendants:my,leaves:vy,links:yy,copy:Io};var by=function(t){for(var e,n=(t=t.slice()).length,i=null,r=i;n;){var o=new zo(t[n-1]);r=r?r.next=o:i=o,t[e]=t[--n]}return{head:i,tail:r}},wy=function(t){return No(by(t),[])},xy=function(t){return Uo(t),t},_y=function(t){return function(){return t}},Cy=function(){function t(t){return t.x=n/2,t.y=i/2,e?t.eachBefore(Jo(e)).eachAfter(Qo(r,.5)).eachBefore(ts(1)):t.eachBefore(Jo(Ko)).eachAfter(Qo(Zo,1)).eachAfter(Qo(r,t.r/Math.min(n,i))).eachBefore(ts(Math.min(n,i)/(2*t.r))),t}var e=null,n=1,i=1,r=Zo;return t.radius=function(n){return arguments.length?(e=Go(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r="function"==typeof e?e:_y(+e),t):r},t},ky=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Sy=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,c=t.value&&(i-e)/t.value;++a<l;)o=s[a],o.y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*c},Ty=function(){function t(t){var s=t.height+1;return t.x0=t.y0=r,t.x1=n,t.y1=i/s,t.eachBefore(e(i,s)),o&&t.eachBefore(ky),t}function e(t,e){return function(n){n.children&&Sy(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,s=n.x1-r,a=n.y1-r;s<i&&(i=s=(i+s)/2),a<o&&(o=a=(o+a)/2),n.x0=i,n.y0=o,n.x1=s,n.y1=a}}var n=1,i=1,r=0,o=!1;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(n=+e[0],i=+e[1],t):[n,i]},t.padding=function(e){return arguments.length?(r=+e,t):r},t},My="$",Dy={depth:-1},Ay={},Ey=function(){function t(t){var i,r,o,s,a,l,c,u=t.length,h=new Array(u),d={};for(r=0;r<u;++r)i=t[r],a=h[r]=new Ho(i),null!=(l=e(i,r,t))&&(l+="")&&(c=My+(a.id=l),d[c]=c in d?Ay:a);for(r=0;r<u;++r)if(a=h[r],l=n(t[r],r,t),null!=l&&(l+="")){if(s=d[My+l],!s)throw new Error("missing: "+l);if(s===Ay)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Dy,o.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Ro),o.parent=null,u>0)throw new Error("cycle");return o}var e=es,n=ns;return t.id=function(n){return arguments.length?(e=Xo(n),t):e},t.parentId=function(e){return arguments.length?(n=Xo(e),t):n},t};cs.prototype=Object.create(Ho.prototype);var Py=function(){function t(t){var i=us(t);if(i.eachAfter(e),i.parent.m=-i.z,i.eachBefore(n),l)t.eachBefore(r);else{var c=t,u=t,h=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)});var d=c===u?1:o(c,u)/2,p=d-c.x,f=s/(u.x+d+p),g=a/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*f,t.y=t.depth*g})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){as(t);var s=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+o(t._,r._),t.m=t.z-s):t.z=s}else r&&(t.z=r.z+o(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var i,r=t,s=t,a=e,l=r.parent.children[0],c=r.m,u=s.m,h=a.m,d=l.m;a=os(a),r=rs(r),a&&r;)l=rs(l),s=os(s),s.a=t,i=a.z+h-r.z-c+o(a._,r._),i>0&&(ss(ls(a,t,n),t,i),c+=i,u+=i),h+=a.m,c+=r.m,d+=l.m,u+=s.m;a&&!os(s)&&(s.t=a,s.m+=h-u),r&&!rs(l)&&(l.t=r,l.m+=c-d,n=t)}return n}function r(t){t.x*=s,t.y=t.depth*a}var o=is,s=1,a=1,l=null;return t.separation=function(e){return arguments.length?(o=e,t):o},t.size=function(e){return arguments.length?(l=!1,s=+e[0],a=+e[1],t):l?null:[s,a]},t.nodeSize=function(e){return arguments.length?(l=!0,s=+e[0],a=+e[1],t):l?[s,a]:null},t},Iy=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,c=t.value&&(r-n)/t.value;++a<l;)o=s[a],o.x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*c},Oy=(1+Math.sqrt(5))/2,Ly=function t(e){function n(t,n,i,r,o){hs(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Oy),Ry=function(){function t(t){return t.x0=t.y0=0,t.x1=r,t.y1=o,t.eachBefore(e),s=[0],i&&t.eachBefore(ky),t}function e(t){var e=s[t.depth],i=t.x0+e,r=t.y0+e,o=t.x1-e,d=t.y1-e;o<i&&(i=o=(i+o)/2),d<r&&(r=d=(r+d)/2),t.x0=i,t.y0=r,t.x1=o,t.y1=d,t.children&&(e=s[t.depth+1]=a(t)/2,i+=h(t)-e,r+=l(t)-e,o-=c(t)-e,d-=u(t)-e,o<i&&(i=o=(i+o)/2),d<r&&(r=d=(r+d)/2),n(t,i,r,o,d))}var n=Ly,i=!1,r=1,o=1,s=[0],a=Zo,l=Zo,c=Zo,u=Zo,h=Zo;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(e){return arguments.length?(r=+e[0],o=+e[1],t):[r,o]},t.tile=function(e){return arguments.length?(n=Xo(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(a="function"==typeof e?e:_y(+e),t):a},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(l="function"==typeof e?e:_y(+e),t):l},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:_y(+e),t):c},t.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:_y(+e),t):u},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:_y(+e),t):h},t},Hy=function(t,e,n,i,r){function o(t,e,n,i,r,s,a){if(t>=e-1){var c=l[t];return c.x0=i,c.y0=r,c.x1=s,c.y1=a,void 0}for(var h=u[t],d=n/2+h,p=t+1,f=e-1;p<f;){var g=p+f>>>1;u[g]<d?p=g+1:f=g}var m=u[p]-h,v=n-m;if(a-r>s-i){var y=(r*v+a*m)/n;o(t,p,m,i,r,s,y),o(p,e,v,i,y,s,a)}else{var b=(i*v+s*m)/n;o(t,p,m,i,r,b,a),o(p,e,v,b,r,s,a)}}var s,a,l=t.children,c=l.length,u=new Array(c+1);for(u[0]=a=s=0;s<c;++s)u[s+1]=a+=l[s].value;o(0,c,t.value,e,n,i,r)},zy=function(t,e,n,i,r){(1&t.depth?Iy:Sy)(t,e,n,i,r)},Fy=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,c,u,h=-1,d=s.length,p=t.value;++h<d;){for(a=s[h],l=a.children,c=a.value=0,u=l.length;c<u;++c)a.value+=l[c].value;a.dice?Sy(a,n,i,r,i+=(o-i)*a.value/p):Iy(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else t._squarify=s=hs(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Oy),Ny=function(t,e){function n(){var n,r,o=i.length,s=0,a=0;for(n=0;n<o;++n)r=i[n],s+=r.x,a+=r.y;for(s=s/o-t,a=a/o-e,n=0;n<o;++n)r=i[n],r.x-=s,r.y-=a}var i;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){i=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},By=function(t){return function(){return t}},Wy=function(){return 1e-6*(Math.random()-.5)},Vy=function(t){function e(){function t(t,n,i,r,s){var a=t.data,p=t.r,f=h+p;{if(!a)return n>c+f||r<c-f||i>u+f||s<u-f;if(a.index>e){var g=c-a.x-a.vx,m=u-a.y-a.vy,v=g*g+m*m;v<f*f&&(0===g&&(g=Wy(),v+=g*g),0===m&&(m=Wy(),v+=m*m),v=(f-(v=Math.sqrt(v)))/v*o,l.vx+=(g*=v)*(f=(p*=p)/(d+p)),l.vy+=(m*=v)*f,a.vx-=g*(f=1-f),a.vy-=m*f)}}}for(var e,a,l,c,u,h,d,p=i.length,f=0;f<s;++f)for(a=B(i,ds,ps).visitAfter(n),e=0;e<p;++e)l=i[e],h=r[e],d=h*h,c=l.x+l.vx,u=l.y+l.vy,a.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}var i,r,o=1,s=1;return"function"!=typeof t&&(t=By(null==t?1:+t)),e.initialize=function(e){var n,o=(i=e).length;for(r=new Array(o),n=0;n<o;++n)r[n]=+t(i[n],n,i)},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(o=+t,e):o},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:By(+n),e):t},e},qy=function(t){function e(t){return 1/Math.min(u[t.source.index],u[t.target.index])}function n(e){for(var n=0,i=t.length;n<g;++n)for(var r,o,s,c,u,d,p,f=0;f<i;++f)r=t[f],o=r.source,s=r.target,c=s.x+s.vx-o.x-o.vx||Wy(),u=s.y+s.vy-o.y-o.vy||Wy(),d=Math.sqrt(c*c+u*u),d=(d-l[f])/d*e*a[f],c*=d,u*=d,s.vx-=c*(p=h[f]),s.vy-=u*p,o.vx+=c*(p=1-p),o.vy+=u*p}function i(){if(c){var e,n,i=c.length,p=t.length,f=o(c,d);for(e=0,u=new Array(i);e<i;++e)u[e]=0;for(e=0;e<p;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=f.get(n.source)),"object"!=typeof n.target&&(n.target=f.get(n.target)),++u[n.source.index],++u[n.target.index];for(e=0,h=new Array(p);e<p;++e)n=t[e],h[e]=u[n.source.index]/(u[n.source.index]+u[n.target.index]);a=new Array(p),r(),l=new Array(p),s()}}function r(){if(c)for(var e=0,n=t.length;e<n;++e)a[e]=+p(t[e],e,t)}function s(){if(c)for(var e=0,n=t.length;e<n;++e)l[e]=+f(t[e],e,t)}var a,l,c,u,h,d=fs,p=e,f=By(30),g=1;return null==t&&(t=[]),n.initialize=function(t){c=t,i()},n.links=function(e){return arguments.length?(t=e,i(),n):t},n.id=function(t){return arguments.length?(d=t,n):d},n.iterations=function(t){return arguments.length?(g=+t,n):g},n.strength=function(t){return arguments.length?(p="function"==typeof t?t:By(+t),r(),n):p},n.distance=function(t){return arguments.length?(f="function"==typeof t?t:By(+t),s(),n):f},n},Yy=10,jy=Math.PI*(3-Math.sqrt(5)),$y=function(t){function e(){n(),f.call("tick",s),a<l&&(p.stop(),f.call("end",s))}function n(){var e,n,i=t.length;for(a+=(u-a)*c,d.each(function(t){t(a)}),e=0;e<i;++e)n=t[e],null==n.fx?n.x+=n.vx*=h:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=h:(n.y=n.fy,n.vy=0)}function i(){for(var e,n=0,i=t.length;n<i;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var r=Yy*Math.sqrt(n),o=n*jy;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function r(e){return e.initialize&&e.initialize(t),e}var s,a=1,l=.001,c=1-Math.pow(l,1/300),u=0,h=.6,d=o(),p=je(e),f=Pe("tick","end");return null==t&&(t=[]),i(),s={tick:n,restart:function(){return p.restart(e),s},stop:function(){return p.stop(),s},nodes:function(e){return arguments.length?(t=e,i(),d.each(r),s):t},alpha:function(t){return arguments.length?(a=+t,s):a},alphaMin:function(t){return arguments.length?(l=+t,s):l},alphaDecay:function(t){return arguments.length?(c=+t,s):+c},alphaTarget:function(t){return arguments.length?(u=+t,s):u},velocityDecay:function(t){return arguments.length?(h=1-t,s):1-h},force:function(t,e){return arguments.length>1?(null==e?d.remove(t):d.set(t,r(e)),s):d.get(t)},find:function(e,n,i){var r,o,s,a,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)a=t[c],r=e-a.x,o=n-a.y,s=r*r+o*o,s<i&&(l=a,i=s);return l},on:function(t,e){return arguments.length>1?(f.on(t,e),s):f.on(t)}}},Uy=function(){function t(t){var e,a=r.length,l=B(r,gs,ms).visitAfter(n);for(s=t,e=0;e<a;++e)o=r[e],l.visit(i)}function e(){if(r){var t,e=r.length;for(a=new Array(e),t=0;t<e;++t)a[t]=+l(r[t],t,r)}}function n(t){var e,n,i,r,o,s=0;if(t.length){for(i=r=o=0;o<4;++o)(e=t[o])&&(n=e.value)&&(s+=n,i+=n*e.x,r+=n*e.y);t.x=i/s,t.y=r/s}else{e=t,e.x=e.data.x,e.y=e.data.y;do s+=a[e.data.index];while(e=e.next)}t.value=s}function i(t,e,n,i){if(!t.value)return!0;var r=t.x-o.x,l=t.y-o.y,d=i-e,p=r*r+l*l;if(d*d/h<p)return p<u&&(0===r&&(r=Wy(),p+=r*r),0===l&&(l=Wy(),p+=l*l),p<c&&(p=Math.sqrt(c*p)),o.vx+=r*t.value*s/p,o.vy+=l*t.value*s/p),!0;if(!(t.length||p>=u)){(t.data!==o||t.next)&&(0===r&&(r=Wy(),p+=r*r),0===l&&(l=Wy(),p+=l*l),p<c&&(p=Math.sqrt(c*p)));do t.data!==o&&(d=a[t.data.index]*s/p,o.vx+=r*d,o.vy+=l*d);while(t=t.next)}}var r,o,s,a,l=By(-30),c=1,u=1/0,h=.81;return t.initialize=function(t){r=t,e()},t.strength=function(n){return arguments.length?(l="function"==typeof n?n:By(+n),e(),t):l},t.distanceMin=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.distanceMax=function(e){return arguments.length?(u=e*e,t):Math.sqrt(u)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},Gy=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)e=i[n],e.vx+=(o[n]-e.x)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=By(.1);return"function"!=typeof t&&(t=By(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:By(+t),n(),e):s},e.x=function(i){return arguments.length?(t="function"==typeof i?i:By(+i),n(),e):t},e},Xy=function(t){function e(t){for(var e,n=0,s=i.length;n<s;++n)e=i[n],e.vy+=(o[n]-e.y)*r[n]*t}function n(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)r[e]=isNaN(o[e]=+t(i[e],e,i))?0:+s(i[e],e,i)}}var i,r,o,s=By(.1);return"function"!=typeof t&&(t=By(null==t?0:+t)),e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(s="function"==typeof t?t:By(+t),n(),e):s},e.y=function(i){return arguments.length?(t="function"==typeof i?i:By(+i),n(),e):t},e},Zy=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Ky=function(t){var e=t.document.documentElement,n=fv(t).on("dragstart.drag",Zy,!0);"onselectstart"in e?n.on("selectstart.drag",Zy,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Jy=function(t){return function(){return t}};bs.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Qy=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",o).on("touchmove.drag",s).on("touchend.drag touchcancel.drag",a).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!u&&h.apply(this,arguments)){var e=l("mouse",d.apply(this,arguments),Im,this,arguments);e&&(fv(t.event.view).on("mousemove.drag",i,!0).on("mouseup.drag",r,!0),Ky(t.event.view),vs(),c=!1,e("start"))}}function i(){Zy(),c=!0,f.mouse("drag")}function r(){fv(t.event.view).on("mousemove.drag mouseup.drag",null),ys(t.event.view,c),Zy(),f.mouse("end")}function o(){if(h.apply(this,arguments)){var e,n,i=t.event.changedTouches,r=d.apply(this,arguments),o=i.length;for(e=0;e<o;++e)(n=l(i[e].identifier,r,mv,this,arguments))&&(vs(),n("start"))}}function s(){var e,n,i=t.event.changedTouches,r=i.length;for(e=0;e<r;++e)(n=f[i[e].identifier])&&(Zy(),n("drag"))}function a(){var e,n,i=t.event.changedTouches,r=i.length;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),e=0;e<r;++e)(n=f[i[e].identifier])&&(vs(),n("end"))}function l(n,i,r,o,s){var a,l,c,u=r(i,n),h=g.copy();if(ji(new bs(e,"beforestart",a,n,m,u[0],u[1],0,0,h),function(){return null!=(t.event.subject=a=p.apply(o,s))&&(l=a.x-u[0]||0,c=a.y-u[1]||0,!0)}))return function t(d){var p,g=u;switch(d){case"start":f[n]=t,p=m++;break;case"end":delete f[n],--m;case"drag":u=r(i,n),p=m}ji(new bs(e,d,a,n,p,u[0]+l,u[1]+c,u[0]-g[0],u[1]-g[1],h),h.apply,h,[d,o,s])}}var c,u,h=ws,d=xs,p=_s,f={},g=Pe("start","drag","end"),m=0;return e.filter=function(t){return arguments.length?(h="function"==typeof t?t:Jy(!!t),e):h},e.container=function(t){return arguments.length?(d="function"==typeof t?t:Jy(t),e):d},e.subject=function(t){return arguments.length?(p="function"==typeof t?t:Jy(t),e):p},e.on=function(){var t=g.on.apply(g,arguments);return t===g?e:t},e},tb=function(t){return function(){return t}};Ss.prototype={constructor:Ss,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=As(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ms(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Ds(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Ds(this,n),t=n,n=t.U),n.C=!1,i.C=!0,Ms(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?As(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,Ms(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Ds(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ms(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,Ds(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ms(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Ds(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var eb,nb,ib,rb,ob,sb=[],ab=[],lb=1e-6,cb=1e-12;ta.prototype={constructor:ta,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Fs(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){for(var r,o=n.site,s=n.halfedges,a=-1,l=s.length,c=e[s[l-1]],u=c.left===o?c.right:c.left;++a<l;)r=u,c=e[s[a]],u=c.left===o?c.right:c.left,i<r.index&&i<u.index&&Js(o,r,u)<0&&t.push([o.data,r.data,u.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})}};var ub=function(){function t(t){return new ta(t.map(function(i,r){var o=[Math.round(e(i,r,t)/lb)*lb,Math.round(n(i,r,t)/lb)*lb];return o.index=r,o.data=i,o}),i)}var e=Cs,n=ks,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:tb(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:tb(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t},hb=function(t){return function(){return t}};na.prototype={constructor:na,scale:function(t){return 1===t?this:new na(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new na(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var db=new na(1,0,0);ia.prototype=na.prototype;var pb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},fb=function(){function e(t){t.on("wheel.zoom",c).on("mousedown.zoom",u).on("dblclick.zoom",h).on("touchstart.zoom",d).on("touchmove.zoom",p).on("touchend.zoom touchcancel.zoom",f).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",aa)}function n(t,e){return e=Math.max(b,Math.min(w,e)),e===t.k?t:new na(e,t.x,t.y)}function i(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new na(t.k,i,r)}function r(t,e){var n=Math.min(0,t.invertX(e[0][0])-x)||Math.max(0,t.invertX(e[1][0])-_),i=Math.min(0,t.invertY(e[0][1])-C)||Math.max(0,t.invertY(e[1][1])-k);return n||i?t.translate(n,i):t}function o(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function s(t,e,n){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,r=a(t,i),s=y.apply(t,i),l=n||o(s),c=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,h="function"==typeof e?e.apply(t,i):e,d=_p(u.invert(l).concat(c/u.k),h.invert(l).concat(c/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=c/e[2];t=new na(n,l[0]-e[0]*n,l[1]-e[1]*n)}r.zoom(null,t)}})}function a(t,e){for(var n,i=0,r=T.length;i<r;++i)if((n=T[i]).that===t)return n;return new l(t,e)}function l(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=y.apply(t,e)}function c(){function e(){o.wheel=null,o.end()}if(v.apply(this,arguments)){var o=a(this,arguments),s=this.__zoom,l=Math.max(b,Math.min(w,s.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),c=Im(this);if(o.wheel)o.mouse[0][0]===c[0]&&o.mouse[0][1]===c[1]||(o.mouse[1]=s.invert(o.mouse[0]=c)),clearTimeout(o.wheel);else{if(s.k===l)return;o.mouse=[c,s.invert(c)],Dv(this),o.start()}pb(),o.wheel=setTimeout(e,A),o.zoom("mouse",r(i(n(s,l),o.mouse[0],o.mouse[1]),o.extent))}}function u(){function e(){pb(),o.moved=!0,o.zoom("mouse",r(i(o.that.__zoom,o.mouse[0]=Im(o.that),o.mouse[1]),o.extent))}function n(){s.on("mousemove.zoom mouseup.zoom",null),ys(t.event.view,o.moved),pb(),o.end()}if(!m&&v.apply(this,arguments)){var o=a(this,arguments),s=fv(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),l=Im(this);Ky(t.event.view),ra(),o.mouse=[l,this.__zoom.invert(l)],Dv(this),o.start()}}function h(){if(v.apply(this,arguments)){var o=this.__zoom,a=Im(this),l=o.invert(a),c=o.k*(t.event.shiftKey?.5:2),u=r(i(n(o,c),a,l),y.apply(this,arguments));pb(),S>0?fv(this).transition().duration(S).call(s,u,a):fv(this).call(e.transform,u)}}function d(){if(v.apply(this,arguments)){var e,n,i,r=a(this,arguments),o=t.event.changedTouches,s=o.length;for(ra(),e=0;e<s;++e)n=o[e],i=mv(this,o,n.identifier),i=[i,this.__zoom.invert(i),n.identifier],r.touch0?r.touch1||(r.touch1=i):r.touch0=i;return g&&(g=clearTimeout(g),!r.touch1)?(r.end(),h.apply(this,arguments)):void(t.event.touches.length===s&&(g=setTimeout(function(){g=null},D),Dv(this),r.start()))}}function p(){var e,o,s,l,c=a(this,arguments),u=t.event.changedTouches,h=u.length;for(pb(),g&&(g=clearTimeout(g)),e=0;e<h;++e)o=u[e],s=mv(this,u,o.identifier),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=s:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=s);if(o=c.that.__zoom,c.touch1){var d=c.touch0[0],p=c.touch0[1],f=c.touch1[0],m=c.touch1[1],v=(v=f[0]-d[0])*v+(v=f[1]-d[1])*v,y=(y=m[0]-p[0])*y+(y=m[1]-p[1])*y;o=n(o,Math.sqrt(v/y)),s=[(d[0]+f[0])/2,(d[1]+f[1])/2],l=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;s=c.touch0[0],l=c.touch0[1]}c.zoom("touch",r(i(o,s,l),c.extent))}function f(){var e,n,i=a(this,arguments),r=t.event.changedTouches,o=r.length;for(ra(),m&&clearTimeout(m),m=setTimeout(function(){m=null},D),e=0;e<o;++e)n=r[e],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0||i.end()}var g,m,v=oa,y=sa,b=0,w=1/0,x=-w,_=w,C=x,k=_,S=250,T=[],M=Pe("start","zoom","end"),D=500,A=150;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",aa),t!==n?s(t,e):n.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,s){e.transform(t,function(){var t=y.apply(this,arguments),e=this.__zoom,a=o(t),l=e.invert(a),c="function"==typeof s?s.apply(this,arguments):s;return r(i(n(e,c),a,l),t)})},e.translateBy=function(t,n,i){e.transform(t,function(){return r(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof i?i.apply(this,arguments):i),y.apply(this,arguments))})},l.prototype={start:function(){return 1===++this.active&&(this.index=T.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(T.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){ji(new ea(e,t,this.that.__zoom),M.apply,M,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(v="function"==typeof t?t:hb(!!t),e):v},e.extent=function(t){return arguments.length?(y="function"==typeof t?t:hb([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):y},e.scaleExtent=function(t){return arguments.length?(b=+t[0],w=+t[1],e):[b,w]},e.translateExtent=function(t){return arguments.length?(x=+t[0][0],_=+t[1][0],C=+t[0][1],k=+t[1][1],e):[[x,C],[_,k]]},e.duration=function(t){return arguments.length?(S=+t,e):S},e.on=function(){var t=M.on.apply(M,arguments);return t===M?e:t},e},gb=function(t){return function(){return t}},mb=function(t,e,n){this.target=t,this.type=e,this.selection=n},vb=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},yb={name:"drag"},bb={name:"space"},wb={name:"handle"},xb={name:"center"},_b={name:"x",handles:["e","w"].map(ca),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Cb={name:"y",handles:["n","s"].map(ca),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},kb={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(ca),input:function(t){return t},output:function(t){return t}},Sb={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Tb={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Mb={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Db={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ab={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Eb=function(){return va(kb)},Pb=Math.cos,Ib=Math.sin,Ob=Math.PI,Lb=Ob/2,Rb=2*Ob,Hb=Math.max,zb=function(){function t(t){var o,s,a,l,c,u,h=t.length,d=[],p=Lc(h),f=[],g=[],m=g.groups=new Array(h),v=new Array(h*h);for(o=0,c=-1;++c<h;){for(s=0,u=-1;++u<h;)s+=t[c][u];d.push(s),f.push(Lc(h)),o+=s}for(n&&p.sort(function(t,e){return n(d[t],d[e])}),i&&f.forEach(function(e,n){e.sort(function(e,r){return i(t[n][e],t[n][r])})}),o=Hb(0,Rb-e*h)/o,l=o?e:Rb/h,s=0,c=-1;++c<h;){for(a=s,u=-1;++u<h;){var y=p[c],b=f[y][u],w=t[y][b],x=s,_=s+=w*o;v[b*h+y]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}m[y]={index:y,startAngle:a,endAngle:s,value:d[y]},s+=l}for(c=-1;++c<h;)for(u=c-1;++u<h;){var C=v[u*h+c],k=v[c*h+u];(C.value||k.value)&&g.push(C.value<k.value?{source:k,target:C}:{source:C,target:k})}return r?g.sort(r):g}var e=0,n=null,i=null,r=null;return t.padAngle=function(n){return arguments.length?(e=Hb(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(i=e,t):i},t.sortChords=function(e){return arguments.length?(null==e?r=null:(r=ya(e))._=e,t):r&&r._},t},Fb=Array.prototype.slice,Nb=function(t){return function(){return t}},Bb=function(){function t(){var t,a=Fb.call(arguments),l=e.apply(this,a),c=n.apply(this,a),u=+i.apply(this,(a[0]=l,a)),h=r.apply(this,a)-Lb,d=o.apply(this,a)-Lb,p=u*Pb(h),f=u*Ib(h),g=+i.apply(this,(a[0]=c,a)),m=r.apply(this,a)-Lb,v=o.apply(this,a)-Lb;if(s||(s=t=L()),s.moveTo(p,f),s.arc(0,0,u,h,d),h===m&&d===v||(s.quadraticCurveTo(0,0,g*Pb(m),g*Ib(m)),s.arc(0,0,g,m,v)),s.quadraticCurveTo(0,0,p,f),s.closePath(),t)return s=null,t+""||null}var e=ba,n=wa,i=xa,r=_a,o=Ca,s=null;return t.radius=function(e){return arguments.length?(i="function"==typeof e?e:Nb(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:Nb(+e),t):r},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:Nb(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(s=null==e?null:e,t):s},t},Wb=function(){return new ka};ka.prototype={constructor:ka,reset:function(){this.s=this.t=0},add:function(t){Sa(bw,t,this.t),Sa(this,bw.s,this.s),this.s?this.t+=bw.t:this.s=bw.t},valueOf:function(){return this.s}};var Vb,qb,Yb,jb,$b,Ub,Gb,Xb,Zb,Kb,Jb,Qb,tw,ew,nw,iw,rw,ow,sw,aw,lw,cw,uw,hw,dw,pw,fw,gw,mw,vw,yw,bw=new ka,ww=1e-6,xw=1e-12,_w=Math.PI,Cw=_w/2,kw=_w/4,Sw=2*_w,Tw=180/_w,Mw=_w/180,Dw=Math.abs,Aw=Math.atan,Ew=Math.atan2,Pw=Math.cos,Iw=Math.ceil,Ow=Math.exp,Lw=Math.log,Rw=Math.pow,Hw=Math.sin,zw=Math.sign||function(t){return t>0?1:t<0?-1:0},Fw=Math.sqrt,Nw=Math.tan,Bw={Feature:function(t,e){Ea(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Ea(n[i].geometry,e)}},Ww={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pa(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Pa(n[i],e,0)},Polygon:function(t,e){Ia(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ia(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Ea(n[i],e)}},Vw=function(t,e){t&&Bw.hasOwnProperty(t.type)?Bw[t.type](t,e):Ea(t,e)},qw=Wb(),Yw=Wb(),jw={point:Aa,lineStart:Aa,lineEnd:Aa,polygonStart:function(){qw.reset(),jw.lineStart=Oa,jw.lineEnd=La},polygonEnd:function(){var t=+qw;Yw.add(t<0?Sw+t:t),this.lineStart=this.lineEnd=this.point=Aa},sphere:function(){Yw.add(Sw)}},$w=function(t){return Yw.reset(),Vw(t,jw),2*Yw},Uw=Wb(),Gw={point:Ya,lineStart:$a,lineEnd:Ua,polygonStart:function(){Gw.point=Ga,Gw.lineStart=Xa,Gw.lineEnd=Za,Uw.reset(),jw.polygonStart()},polygonEnd:function(){jw.polygonEnd(),Gw.point=Ya,Gw.lineStart=$a,Gw.lineEnd=Ua,qw<0?(Ub=-(Xb=180),Gb=-(Zb=90)):Uw>ww?Zb=90:Uw<-ww&&(Gb=-90),nw[0]=Ub,nw[1]=Xb}},Xw=function(t){var e,n,i,r,o,s,a;if(Zb=Xb=-(Ub=Gb=1/0),ew=[],Vw(t,Gw),n=ew.length){for(ew.sort(Ja),e=1,i=ew[0],o=[i];e<n;++e)r=ew[e],Qa(i,r[0])||Qa(i,r[1])?(Ka(i[0],r[1])>Ka(i[0],i[1])&&(i[1]=r[1]),Ka(r[0],i[1])>Ka(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-(1/0),n=o.length-1,e=0,i=o[n];e<=n;i=r,++e)r=o[e],(a=Ka(i[1],r[0]))>s&&(s=a,Ub=r[0],Xb=i[1])}return ew=nw=null,Ub===1/0||Gb===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ub,Gb],[Xb,Zb]]},Zw={sphere:Aa,point:tl,lineStart:nl,lineEnd:ol,polygonStart:function(){Zw.lineStart=sl,Zw.lineEnd=al},polygonEnd:function(){Zw.lineStart=nl,Zw.lineEnd=ol}},Kw=function(t){iw=rw=ow=sw=aw=lw=cw=uw=hw=dw=pw=0,Vw(t,Zw);var e=hw,n=dw,i=pw,r=e*e+n*n+i*i;return r<xw&&(e=lw,n=cw,i=uw,rw<ww&&(e=ow,n=sw,i=aw),r=e*e+n*n+i*i,r<xw)?[NaN,NaN]:[Ew(n,e)*Tw,Ma(i/Fw(r))*Tw]},Jw=function(t){return function(){return t}},Qw=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n};ul.invert=ul;var tx,ex,nx,ix,rx,ox,sx,ax,lx,cx,ux,hx=function(t){function e(e){return e=t(e[0]*Mw,e[1]*Mw),e[0]*=Tw,e[1]*=Tw,e}return t=hl(t[0]*Mw,t[1]*Mw,t.length>2?t[2]*Mw:0),e.invert=function(e){return e=t.invert(e[0]*Mw,e[1]*Mw),e[0]*=Tw,e[1]*=Tw,e},e},dx=function(){function t(t,e){n.push(t=i(t,e)),t[0]*=Tw,t[1]*=Tw}function e(){var t=r.apply(this,arguments),e=o.apply(this,arguments)*Mw,l=s.apply(this,arguments)*Mw;return n=[],i=hl(-t[0]*Mw,-t[1]*Mw,0).invert,gl(a,e,l,1),t={type:"Polygon",coordinates:[n]},n=i=null,t}var n,i,r=Jw([0,0]),o=Jw(90),s=Jw(6),a={point:t};return e.center=function(t){return arguments.length?(r="function"==typeof t?t:Jw([+t[0],+t[1]]),e):r},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:Jw(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Jw(+t),e):s;
},e},px=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Aa,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},fx=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],c=e[0],u=e[1],h=0,d=1,p=c-a,f=u-l;if(s=n-a,p||!(s>0)){if(s/=p,p<0){if(s<h)return;s<d&&(d=s)}else if(p>0){if(s>d)return;s>h&&(h=s)}if(s=r-a,p||!(s<0)){if(s/=p,p<0){if(s>d)return;s>h&&(h=s)}else if(p>0){if(s<h)return;s<d&&(d=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<h)return;s<d&&(d=s)}else if(f>0){if(s>d)return;s>h&&(h=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>d)return;s>h&&(h=s)}else if(f>0){if(s<h)return;s<d&&(d=s)}return h>0&&(t[0]=a+h*p,t[1]=l+h*f),d<1&&(e[0]=a+d*p,e[1]=l+d*f),!0}}}}},gx=function(t,e){return Dw(t[0]-e[0])<ww&&Dw(t[1]-e[1])<ww},mx=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(gx(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);return void r.lineEnd()}a.push(n=new vl(i,t,null,(!0))),l.push(n.o=new vl(i,null,n,(!1))),a.push(n=new vl(s,t,null,(!1))),l.push(n.o=new vl(s,null,n,(!0)))}}),a.length){for(l.sort(e),yl(a),yl(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var c,u,h=a[0];;){for(var d=h,p=!0;d.v;)if((d=d.n)===h)return;c=d.z,r.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(o=0,s=c.length;o<s;++o)r.point((u=c[o])[0],u[1]);else i(d.x,d.n.x,1,r);d=d.n}else{if(p)for(c=d.p.z,o=c.length-1;o>=0;--o)r.point((u=c[o])[0],u[1]);else i(d.x,d.p.x,-1,r);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);r.lineEnd()}}},vx=1e9,yx=-vx,bx=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=bl(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},wx=Wb(),xx={sphere:Aa,point:Aa,lineStart:wl,lineEnd:Aa,polygonStart:Aa,polygonEnd:Aa},_x=function(t){return wx.reset(),Vw(t,xx),+wx},Cx=[null,null],kx={type:"LineString",coordinates:Cx},Sx=function(t,e){return Cx[0]=t,Cx[1]=e,_x(kx)},Tx=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return Lc(Iw(o/m)*m,r,m).map(d).concat(Lc(Iw(c/v)*v,l,v).map(p)).concat(Lc(Iw(i/f)*f,n,f).filter(function(t){return Dw(t%m)>ww}).map(u)).concat(Lc(Iw(a/g)*g,s,g).filter(function(t){return Dw(t%v)>ww}).map(h))}var n,i,r,o,s,a,l,c,u,h,d,p,f=10,g=f,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(p(l).slice(1),d(r).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],c=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[o,c],[r,l]]},t.extentMinor=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],a=+e[0][1],s=+e[1][1],i>n&&(e=i,i=n,n=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[i,a],[n,s]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.stepMinor=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(y=+e,u=kl(a,s,90),h=Sl(i,n,y),d=kl(c,l,90),p=Sl(o,r,y),t):y},t.extentMajor([[-180,-90+ww],[180,90-ww]]).extentMinor([[-180,-80-ww],[180,80+ww]])},Mx=function(t,e){var n=t[0]*Mw,i=t[1]*Mw,r=e[0]*Mw,o=e[1]*Mw,s=Pw(i),a=Hw(i),l=Pw(o),c=Hw(o),u=s*Pw(n),h=s*Hw(n),d=l*Pw(r),p=l*Hw(r),f=2*Ma(Fw(Da(o-i)+s*l*Da(r-n))),g=Hw(f),m=f?function(t){var e=Hw(t*=f)/g,n=Hw(f-t)/g,i=n*u+e*d,r=n*h+e*p,o=n*a+e*c;return[Ew(r,i)*Tw,Ew(o,Fw(i*i+r*r))*Tw]}:function(){return[n*Tw,i*Tw]};return m.distance=f,m},Dx=function(t){return t},Ax=Wb(),Ex=Wb(),Px={point:Aa,lineStart:Aa,lineEnd:Aa,polygonStart:function(){Px.lineStart=Tl,Px.lineEnd=Al},polygonEnd:function(){Px.lineStart=Px.lineEnd=Px.point=Aa,Ax.add(Dw(Ex)),Ex.reset()},result:function(){var t=Ax/2;return Ax.reset(),t}},Ix=1/0,Ox=Ix,Lx=-Ix,Rx=Lx,Hx={point:El,lineStart:Aa,lineEnd:Aa,polygonStart:Aa,polygonEnd:Aa,result:function(){var t=[[Ix,Ox],[Lx,Rx]];return Lx=Rx=-(Ox=Ix=1/0),t}},zx=0,Fx=0,Nx=0,Bx=0,Wx=0,Vx=0,qx=0,Yx=0,jx=0,$x={point:Pl,lineStart:Il,lineEnd:Rl,polygonStart:function(){$x.lineStart=Hl,$x.lineEnd=zl},polygonEnd:function(){$x.point=Pl,$x.lineStart=Il,$x.lineEnd=Rl},result:function(){var t=jx?[qx/jx,Yx/jx]:Vx?[Bx/Vx,Wx/Vx]:Nx?[zx/Nx,Fx/Nx]:[NaN,NaN];return zx=Fx=Nx=Bx=Wx=Vx=qx=Yx=jx=0,t}};Bl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Sw)}},result:Aa},Wl.prototype={_circle:Vl(4.5),pointRadius:function(t){return this._circle=Vl(t),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}}};var Ux=function(){function t(t){return t&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),Vw(t,n(r))),r.result()}var e,n,i,r,o=4.5;return t.area=function(t){return Vw(t,n(Px)),Px.result()},t.bounds=function(t){return Vw(t,n(Hx)),Hx.result()},t.centroid=function(t){return Vw(t,n($x)),$x.result()},t.projection=function(i){return arguments.length?(n=null==(e=i)?Dx:i.stream,t):e},t.context=function(e){return arguments.length?(r=null==(i=e)?new Wl:new Bl(e),"function"!=typeof o&&r.pointRadius(o),t):i},t.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),t):o},t.projection(null).context(null)},Gx=Wb(),Xx=function(t,e){var n=e[0],i=e[1],r=[Hw(n),-Pw(n),0],o=0,s=0;Gx.reset();for(var a=0,l=t.length;a<l;++a)if(u=(c=t[a]).length)for(var c,u,h=c[u-1],d=h[0],p=h[1]/2+kw,f=Hw(p),g=Pw(p),m=0;m<u;++m,d=y,f=w,g=x,h=v){var v=c[m],y=v[0],b=v[1]/2+kw,w=Hw(b),x=Pw(b),_=y-d,C=_>=0?1:-1,k=C*_,S=k>_w,T=f*w;if(Gx.add(Ew(T*C*Hw(k),g*x+T*Pw(k))),o+=S?_+C*Sw:_,S^d>=n^y>=n){var M=Ba(Fa(h),Fa(v));qa(M);var D=Ba(r,M);qa(D);var A=(S^_>=0?-1:1)*Ma(D[2]);(i>A||i===A&&(M[0]||M[1]))&&(s+=S^_>=0?1:-1)}}return(o<-ww||o<ww&&Gx<-ww)^1&s},Zx=function(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){x.point=a,m.lineStart()}function c(){x.point=s,m.lineEnd()}function u(t,e){g.push([t,e]);var n=r(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function d(){u(g[0][0],g[0][1]),b.lineEnd();var t,e,n,i,r=b.clean(),s=y.result(),a=s.length;if(g.pop(),p.push(g),g=null,a)if(1&r){if(n=s[0],(e=n.length-1)>0){for(w||(o.polygonStart(),w=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),f.push(s.filter(ql))}var p,f,g,m=e(o),v=r.invert(i[0],i[1]),y=px(),b=e(y),w=!1,x={point:s,lineStart:l,lineEnd:c,polygonStart:function(){x.point=u,x.lineStart=h,x.lineEnd=d,f=[],p=[]},polygonEnd:function(){x.point=s,x.lineStart=l,x.lineEnd=c,f=Uc(f);var t=Xx(p,v);f.length?(w||(o.polygonStart(),w=!0),mx(f,Yl,t,n,o)):t&&(w||(o.polygonStart(),w=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),w&&(o.polygonEnd(),w=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}},Kx=Zx(function(){return!0},jl,Ul,[-_w,-Cw]),Jx=function(t,e){function n(n,i,r,o){gl(o,t,e,r,n,i)}function i(t,e){return Pw(t)*Pw(e)>a}function r(t){var e,n,r,a,u;return{lineStart:function(){a=r=!1,u=1},point:function(h,d){var p,f=[h,d],g=i(h,d),m=l?g?0:s(h,d):g?s(h+(h<0?_w:-_w),d):0;if(!e&&(a=r=g)&&t.lineStart(),g!==r&&(p=o(e,f),(gx(e,p)||gx(f,p))&&(f[0]+=ww,f[1]+=ww,g=i(f[0],f[1]))),g!==r)u=0,g?(t.lineStart(),p=o(f,e),t.point(p[0],p[1])):(p=o(e,f),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(c&&e&&l^g){var v;m&n||!(v=o(f,e,!0))||(u=0,l?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&gx(e,f)||t.point(f[0],f[1]),e=f,r=g,n=m},lineEnd:function(){r&&t.lineEnd(),e=null},clean:function(){return u|(a&&r)<<1}}}function o(t,e,n){var i=Fa(t),r=Fa(e),o=[1,0,0],s=Ba(i,r),l=Na(s,s),c=s[0],u=l-c*c;if(!u)return!n&&t;var h=a*l/u,d=-a*c/u,p=Ba(o,s),f=Va(o,h),g=Va(s,d);Wa(f,g);var m=p,v=Na(f,m),y=Na(m,m),b=v*v-y*(Na(f,f)-1);if(!(b<0)){var w=Fw(b),x=Va(m,(-v-w)/y);if(Wa(x,f),x=za(x),!n)return x;var _,C=t[0],k=e[0],S=t[1],T=e[1];k<C&&(_=C,C=k,k=_);var M=k-C,D=Dw(M-_w)<ww,A=D||M<ww;if(!D&&T<S&&(_=S,S=T,T=_),A?D?S+T>0^x[1]<(Dw(x[0]-C)<ww?S:T):S<=x[1]&&x[1]<=T:M>_w^(C<=x[0]&&x[0]<=k)){var E=Va(m,(-v+w)/y);return Wa(E,f),[x,za(E)]}}}function s(e,n){var i=l?t:_w-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var a=Pw(t),l=a>0,c=Dw(a)>ww;return Zx(i,r,n,l?[0,-t]:[-_w,t-_w])},Qx=function(t){return{stream:Gl(t)}};Xl.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var t_=16,e_=Pw(30*Mw),n_=function(t,e){return+e?tc(t,e):Ql(t)},i_=Gl({point:function(t,e){this.stream.point(t*Mw,e*Mw)}}),r_=function(){return ic(rc).scale(155.424).center([0,33.6442])},o_=function(){return r_().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},s_=function(){function t(t){var e=t[0],n=t[1];return a=null,r.point(e,n),a||(o.point(e,n),a)||(s.point(e,n),a)}function e(){return n=i=null,t}var n,i,r,o,s,a,l=o_(),c=r_().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=r_().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){a=[t,e]}};return t.invert=function(t){var e=l.scale(),n=l.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?c:r>=.166&&r<.234&&i>=-.214&&i<-.115?u:l).invert(t)},t.stream=function(t){return n&&i===t?n:n=oc([l.stream(i=t),c.stream(t),u.stream(t)])},t.precision=function(t){return arguments.length?(l.precision(t),c.precision(t),u.precision(t),e()):l.precision()},t.scale=function(e){return arguments.length?(l.scale(e),c.scale(.35*e),u.scale(e),t.translate(l.translate())):l.scale()},t.translate=function(t){if(!arguments.length)return l.translate();var n=l.scale(),i=+t[0],a=+t[1];return r=l.translate(t).clipExtent([[i-.455*n,a-.238*n],[i+.455*n,a+.238*n]]).stream(h),o=c.translate([i-.307*n,a+.201*n]).clipExtent([[i-.425*n+ww,a+.12*n+ww],[i-.214*n-ww,a+.234*n-ww]]).stream(h),s=u.translate([i-.205*n,a+.212*n]).clipExtent([[i-.214*n+ww,a+.166*n+ww],[i-.115*n-ww,a+.234*n-ww]]).stream(h),e()},t.fitExtent=Jl(t),t.fitSize=Kl(t),t.scale(1070)},a_=sc(function(t){return Fw(2/(1+t))});a_.invert=ac(function(t){return 2*Ma(t/2)});var l_=function(){return ec(a_).scale(124.75).clipAngle(179.999)},c_=sc(function(t){return(t=Ta(t))&&t/Hw(t)});c_.invert=ac(function(t){return t});var u_=function(){return ec(c_).scale(79.4188).clipAngle(179.999)};lc.invert=function(t,e){return[t,2*Aw(Ow(e))-Cw]};var h_=function(){return cc(lc).scale(961/Sw)},d_=function(){return ic(hc).scale(109.5).parallels([30,30])};dc.invert=dc;var p_=function(){return ec(dc).scale(152.63)},f_=function(){return ic(pc).scale(131.154).center([0,13.9389])};fc.invert=ac(Aw);var g_=function(){return ec(fc).scale(144.049).clipAngle(60)};gc.invert=ac(Ma);var m_=function(){return ec(gc).scale(249.5).clipAngle(90+ww)};mc.invert=ac(function(t){return 2*Aw(t)});var v_=function(){return ec(mc).scale(250).clipAngle(142)};vc.invert=function(t,e){return[-e,2*Aw(Ow(t))-Cw]};var y_=function(){var t=cc(vc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)};t.version=yc,t.bisect=_c,t.bisectRight=_c,t.bisectLeft=Cc,t.ascending=bc,t.bisector=wc,t.descending=kc,t.deviation=Mc,t.extent=Dc,t.histogram=Bc,t.thresholdFreedmanDiaconis=Vc,t.thresholdScott=qc,t.thresholdSturges=Nc,t.max=Yc,t.mean=jc,t.median=$c,t.merge=Uc,t.min=Gc,t.pairs=Xc,t.permute=Zc,t.quantile=Wc,t.range=Lc,t.scan=Kc,t.shuffle=Jc,t.sum=Qc,t.ticks=Fc,t.tickStep=n,t.transpose=tu,t.variance=Tc,t.zip=eu,t.entries=au,t.keys=ou,t.values=su,t.map=o,t.set=h,t.nest=iu,t.randomUniform=lu,t.randomNormal=cu,t.randomLogNormal=uu,t.randomBates=du,t.randomIrwinHall=hu,t.randomExponential=pu,t.easeLinear=d,t.easeQuad=g,t.easeQuadIn=p,t.easeQuadOut=f,t.easeQuadInOut=g,t.easeCubic=y,t.easeCubicIn=m,t.easeCubicOut=v,t.easeCubicInOut=y,t.easePoly=vu,t.easePolyIn=gu,t.easePolyOut=mu,t.easePolyInOut=vu,t.easeSin=x,t.easeSinIn=b,t.easeSinOut=w,t.easeSinInOut=x,t.easeExp=k,t.easeExpIn=_,t.easeExpOut=C,t.easeExpInOut=k,t.easeCircle=M,t.easeCircleIn=S,t.easeCircleOut=T,t.easeCircleInOut=M,t.easeBounce=A,t.easeBounceIn=D,t.easeBounceOut=A,t.easeBounceInOut=E,t.easeBack=Ou,t.easeBackIn=Pu,t.easeBackOut=Iu,t.easeBackInOut=Ou,t.easeElastic=Fu,t.easeElasticIn=zu,t.easeElasticOut=Fu,t.easeElasticInOut=Nu,t.polygonArea=Bu,t.polygonCentroid=Wu,t.polygonHull=qu,t.polygonContains=Yu,t.polygonLength=ju,t.path=L,t.quadtree=B,t.queue=X,t.arc=vh,t.area=wh,t.line=bh,t.pie=Ch,t.radialArea=Th,t.radialLine=Sh,t.symbol=$h,t.symbols=jh,t.symbolCircle=Mh,t.symbolCross=Dh,t.symbolDiamond=Ph,t.symbolSquare=zh,t.symbolStar=Hh,t.symbolTriangle=Nh,t.symbolWye=Yh,t.curveBasisClosed=Xh,t.curveBasisOpen=Zh,t.curveBasis=Gh,t.curveBundle=Kh,t.curveCardinalClosed=Qh,t.curveCardinalOpen=td,t.curveCardinal=Jh,t.curveCatmullRomClosed=nd,t.curveCatmullRomOpen=id,t.curveCatmullRom=ed,t.curveLinearClosed=rd,t.curveLinear=yh,t.curveMonotoneX=Pt,t.curveMonotoneY=It,t.curveNatural=od,t.curveStep=sd,t.curveStepAfter=zt,t.curveStepBefore=Ht,t.stack=ud,t.stackOffsetExpand=hd,t.stackOffsetNone=ld,t.stackOffsetSilhouette=dd,t.stackOffsetWiggle=pd,t.stackOrderAscending=fd,t.stackOrderDescending=gd,t.stackOrderInsideOut=md,t.stackOrderNone=cd,t.stackOrderReverse=vd,t.color=Vt,t.rgb=$t,t.hsl=Zt,t.lab=te,t.hcl=ae,t.cubehelix=ue,t.interpolate=hp,t.interpolateArray=rp,t.interpolateDate=op,t.interpolateNumber=sp,t.interpolateObject=ap,t.interpolateRound=dp,t.interpolateString=up,t.interpolateTransformCss=mp,t.interpolateTransformSvg=vp,t.interpolateZoom=_p,t.interpolateRgb=ep,t.interpolateRgbBasis=np,t.interpolateRgbBasisClosed=ip,t.interpolateHsl=Cp,t.interpolateHslLong=kp,t.interpolateLab=De,t.interpolateHcl=Sp,t.interpolateHclLong=Tp,t.interpolateCubehelix=Mp,t.interpolateCubehelixLong=Dp,t.interpolateBasis=Jd,t.interpolateBasisClosed=Qd,t.quantize=Ap,t.dispatch=Pe,t.dsvFormat=Op,t.csvParse=Rp,t.csvParseRows=Hp,t.csvFormat=zp,t.csvFormatRows=Fp,t.tsvParse=Bp,t.tsvParseRows=Wp,t.tsvFormat=Vp,t.tsvFormatRows=qp,t.request=Yp,t.html=$p,t.json=Up,t.text=Gp,t.xml=Xp,t.csv=Kp,t.tsv=Jp,t.now=Ve,t.timer=je,t.timerFlush=$e,t.timeout=cf,t.interval=uf,t.timeInterval=Ke,t.timeMillisecond=pf,t.timeMilliseconds=ff,t.timeSecond=wf,t.timeSeconds=xf,t.timeMinute=_f,t.timeMinutes=Cf,t.timeHour=kf,t.timeHours=Sf,t.timeDay=Tf,t.timeDays=Mf,t.timeWeek=Df,t.timeWeeks=Rf,t.timeSunday=Df,t.timeSundays=Rf,t.timeMonday=Af,t.timeMondays=Hf,t.timeTuesday=Ef,t.timeTuesdays=zf;t.timeWednesday=Pf;t.timeWednesdays=Ff,t.timeThursday=If,t.timeThursdays=Nf,t.timeFriday=Of,t.timeFridays=Bf,t.timeSaturday=Lf,t.timeSaturdays=Wf,t.timeMonth=Vf,t.timeMonths=qf,t.timeYear=Yf,t.timeYears=jf,t.utcMillisecond=pf,t.utcMilliseconds=ff,t.utcSecond=wf,t.utcSeconds=xf,t.utcMinute=$f,t.utcMinutes=Uf,t.utcHour=Gf,t.utcHours=Xf,t.utcDay=Zf,t.utcDays=Kf,t.utcWeek=Jf,t.utcWeeks=og,t.utcSunday=Jf,t.utcSundays=og,t.utcMonday=Qf,t.utcMondays=sg,t.utcTuesday=tg,t.utcTuesdays=ag,t.utcWednesday=eg,t.utcWednesdays=lg,t.utcThursday=ng,t.utcThursdays=cg,t.utcFriday=ig,t.utcFridays=ug,t.utcSaturday=rg,t.utcSaturdays=hg,t.utcMonth=dg,t.utcMonths=pg,t.utcYear=fg,t.utcYears=mg,t.formatLocale=Dg,t.formatDefaultLocale=nn,t.formatSpecifier=Sg,t.precisionFixed=Eg,t.precisionPrefix=Pg,t.precisionRound=Ig,t.isoFormat=Fg,t.isoParse=Ng,t.timeFormatLocale=an,t.timeFormatDefaultLocale=ei,t.scaleBand=oi,t.scalePoint=ai,t.scaleIdentity=vi,t.scaleLinear=mi,t.scaleLog=ki,t.scaleOrdinal=ri,t.scaleImplicit=qg,t.scalePow=Ti,t.scaleSqrt=Mi,t.scaleQuantile=Di,t.scaleQuantize=Ai,t.scaleThreshold=Ei,t.scaleTime=nm,t.scaleUtc=im,t.schemeCategory10=om,t.schemeCategory20b=sm,t.schemeCategory20c=am,t.schemeCategory20=lm,t.scaleSequential=Ri,t.interpolateCubehelixDefault=cm,t.interpolateRainbow=pm,t.interpolateWarm=um,t.interpolateCool=hm,t.interpolateViridis=fm,t.interpolateMagma=gm,t.interpolateInferno=mm,t.interpolatePlasma=vm,t.creator=xm,t.customEvent=ji,t.local=Fi,t.matcher=Tm,t.mouse=Im,t.namespace=wm,t.namespaces=bm,t.select=fv,t.selectAll=gv,t.selection=Ir,t.selector=Om,t.selectorAll=Rm,t.touch=mv,t.touches=vv,t.window=tv,t.active=ty,t.interrupt=Dv,t.transition=uo,t.axisTop=bo,t.axisRight=wo,t.axisBottom=xo,t.axisLeft=_o,t.cluster=ly,t.hierarchy=Po,t.pack=Cy,t.packSiblings=xy,t.packEnclose=wy,t.partition=Ty,t.stratify=Ey,t.tree=Py,t.treemap=Ry,t.treemapBinary=Hy,t.treemapDice=Sy,t.treemapSlice=Iy,t.treemapSliceDice=zy,t.treemapSquarify=Ly,t.treemapResquarify=Fy,t.forceCenter=Ny,t.forceCollide=Vy,t.forceLink=qy,t.forceManyBody=Uy,t.forceSimulation=$y,t.forceX=Gy,t.forceY=Xy,t.drag=Qy,t.dragDisable=Ky,t.dragEnable=ys,t.voronoi=ub,t.zoom=fb,t.zoomIdentity=db,t.zoomTransform=ia,t.brush=Eb,t.brushX=ga,t.brushY=ma,t.brushSelection=fa,t.chord=zb,t.ribbon=Bb,t.geoAlbers=o_,t.geoAlbersUsa=s_,t.geoArea=$w,t.geoAzimuthalEqualArea=l_,t.geoAzimuthalEqualAreaRaw=a_,t.geoAzimuthalEquidistant=u_,t.geoAzimuthalEquidistantRaw=c_,t.geoBounds=Xw,t.geoCentroid=Kw,t.geoCircle=dx,t.geoClipExtent=bx,t.geoConicConformal=d_,t.geoConicConformalRaw=hc,t.geoConicEqualArea=r_,t.geoConicEqualAreaRaw=rc,t.geoConicEquidistant=f_,t.geoConicEquidistantRaw=pc,t.geoDistance=Sx,t.geoEquirectangular=p_,t.geoEquirectangularRaw=dc,t.geoGnomonic=g_,t.geoGnomonicRaw=fc,t.geoGraticule=Tx,t.geoInterpolate=Mx,t.geoLength=_x,t.geoMercator=h_,t.geoMercatorRaw=lc,t.geoOrthographic=m_,t.geoOrthographicRaw=gc,t.geoPath=Ux,t.geoProjection=ec,t.geoProjectionMutator=nc,t.geoRotation=hx,t.geoStereographic=v_,t.geoStereographicRaw=mc,t.geoStream=Vw,t.geoTransform=Qx,t.geoTransverseMercator=y_,t.geoTransverseMercatorRaw=vc,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[],r=t||{};return function(t){n.push('<div class="strength-goal-label-container"><div class="col-xs-12"><table><tr><td>'+i.escape(null==(e=t)?"":e)+':</td><td><b><i class="strength-goal-value"></i></b></td></tr><tr><td>Power Level:</td><td><span><b class="strength-goal-level"></b></span><span><i>%</i></span></td></tr></table></div></div><div class="col-xs-12"><div class="strength-goal-gauge-container"><canvas class="strength-goal-gauge"></canvas></div></div>')}.call(this,"label"in r?r.label:"undefined"!=typeof label?label:void 0),n.join("")}},function(t,e,n){var i;(function(){var r,o,s,a,l,c,u,h,d,p,f,g,m,v,y,b,w={}.hasOwnProperty,x=function(t,e){function n(){this.constructor=t}for(var i in e)w.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};!function(){var t,e,n,i,r,o,s;for(s=["ms","moz","webkit","o"],n=0,r=s.length;n<r&&(o=s[n],!window.requestAnimationFrame);n++)window.requestAnimationFrame=window[o+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];return t=null,i=0,e={},requestAnimationFrame?window.cancelAnimationFrame?void 0:(t=window.requestAnimationFrame,window.requestAnimationFrame=function(n,r){var o;return o=++i,t(function(){if(!e[o])return n()},r),o},window.cancelAnimationFrame=function(t){return e[t]=!0}):(window.requestAnimationFrame=function(t,e){var n,i,r,o;return n=(new Date).getTime(),o=Math.max(0,16-(n-r)),i=window.setTimeout(function(){return t(n+o)},o),r=n+o,i},window.cancelAnimationFrame=function(t){return clearTimeout(t)})}(),String.prototype.hashCode=function(){var t,e,n,i,r;if(e=0,0===this.length)return e;for(n=i=0,r=this.length;0<=r?i<r:i>r;n=0<=r?++i:--i)t=this.charCodeAt(n),e=(e<<5)-e+t,e&=e;return e},y=function(t){var e,n;for(e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),t-=3600*e+60*n,t+="",n+="";n.length<2;)n="0"+n;for(;t.length<2;)t="0"+t;return e=e?e+":":"",e+n+":"+t},m=function(t){return f(t.toFixed(0))},b=function(t,e){var n,i;for(n in e)w.call(e,n)&&(i=e[n],t[n]=i);return t},v=function(t,e){var n,i,r;i={};for(n in t)w.call(t,n)&&(r=t[n],i[n]=r);for(n in e)w.call(e,n)&&(r=e[n],i[n]=r);return i},f=function(t){var e,n,i,r;for(t+="",n=t.split("."),i=n[0],r="",n.length>1&&(r="."+n[1]),e=/(\d+)(\d{3})/;e.test(i);)i=i.replace(e,"$1,$2");return i+r},g=function(t){return"#"===t.charAt(0)?t.substring(1,7):t},p=function(){function t(t,e){null==t&&(t=!0),this.clear=null==e||e,t&&AnimationUpdater.add(this)}return t.prototype.animationSpeed=32,t.prototype.update=function(t){var e;return null==t&&(t=!1),!(!t&&this.displayedValue===this.value)&&(this.ctx&&this.clear&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),e=this.value-this.displayedValue,Math.abs(e/this.animationSpeed)<=.001?this.displayedValue=this.value:this.displayedValue=this.displayedValue+e/this.animationSpeed,this.render(),!0)},t}(),l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return x(e,t),e.prototype.displayScale=1,e.prototype.setTextField=function(t){return this.textField=t instanceof d?t:new d(t)},e.prototype.setMinValue=function(t,e){var n,i,r,o,s;if(this.minValue=t,null==e&&(e=!0),e){for(this.displayedValue=this.minValue,o=this.gp||[],s=[],i=0,r=o.length;i<r;i++)n=o[i],s.push(n.displayedValue=this.minValue);return s}},e.prototype.setOptions=function(t){return null==t&&(t=null),this.options=v(this.options,t),this.textField&&(this.textField.el.style.fontSize=t.fontSize+"px"),this.options.angle>.5&&(this.gauge.options.angle=.5),this.configDisplayScale(),this},e.prototype.configDisplayScale=function(){var t,e,n,i,r;return i=this.displayScale,this.options.highDpiSupport===!1?delete this.displayScale:(e=window.devicePixelRatio||1,t=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.displayScale=e/t),this.displayScale!==i&&(r=this.canvas.G__width||this.canvas.width,n=this.canvas.G__height||this.canvas.height,this.canvas.width=r*this.displayScale,this.canvas.height=n*this.displayScale,this.canvas.style.width=r+"px",this.canvas.style.height=n+"px",this.canvas.G__width=r,this.canvas.G__height=n),this},e}(p),d=function(){function t(t){this.el=t}return t.prototype.render=function(t){return this.el.innerHTML=m(t.displayedValue)},t}(),r=function(t){function e(t,e){this.elem=t,this.text=null!=e&&e,this.value=1*this.elem.innerHTML,this.text&&(this.value=0)}return x(e,t),e.prototype.displayedValue=0,e.prototype.value=0,e.prototype.setVal=function(t){return this.value=1*t},e.prototype.render=function(){var t;return t=this.text?y(this.displayedValue.toFixed(0)):f(m(this.displayedValue)),this.elem.innerHTML=t},e}(p),o={create:function(t){var e,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],o.push(new r(e));return o}},h=function(t){function e(t){this.gauge=t,this.ctx=this.gauge.ctx,this.canvas=this.gauge.canvas,e.__super__.constructor.call(this,!1,!1),this.setOptions()}return x(e,t),e.prototype.displayedValue=0,e.prototype.value=0,e.prototype.options={strokeWidth:.035,length:.1,color:"#000000"},e.prototype.setOptions=function(t){return null==t&&(t=null),b(this.options,t),this.length=this.canvas.height*this.options.length,this.strokeWidth=this.canvas.height*this.options.strokeWidth,this.maxValue=this.gauge.maxValue,this.minValue=this.gauge.minValue,this.displayedValue=this.gauge.minValue,this.animationSpeed=this.gauge.animationSpeed,this.options.angle=this.gauge.options.angle},e.prototype.render=function(){var t,e,n,i,r,o,s,a,l;return t=this.gauge.getAngle.call(this,this.displayedValue),e=this.canvas.width/2,n=.9*this.canvas.height,a=Math.round(e+this.length*Math.cos(t)),l=Math.round(n+this.length*Math.sin(t)),o=Math.round(e+this.strokeWidth*Math.cos(t-Math.PI/2)),s=Math.round(n+this.strokeWidth*Math.sin(t-Math.PI/2)),i=Math.round(e+this.strokeWidth*Math.cos(t+Math.PI/2)),r=Math.round(n+this.strokeWidth*Math.sin(t+Math.PI/2)),this.ctx.fillStyle=this.options.color,this.ctx.beginPath(),this.ctx.arc(e,n,this.strokeWidth,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(o,s),this.ctx.lineTo(a,l),this.ctx.lineTo(i,r),this.ctx.fill()},e}(p),s=function(){function t(t){this.elem=t}return t.prototype.updateValues=function(t){return this.value=t[0],this.maxValue=t[1],this.avgValue=t[2],this.render()},t.prototype.render=function(){var t,e;return this.textField&&this.textField.text(m(this.value)),0===this.maxValue&&(this.maxValue=2*this.avgValue),e=this.value/this.maxValue*100,t=this.avgValue/this.maxValue*100,$(".bar-value",this.elem).css({width:e+"%"}),$(".typical-value",this.elem).css({width:t+"%"})},t}(),u=function(t){function e(t){this.canvas=t,e.__super__.constructor.call(this),this.percentColors=null,"undefined"!=typeof G_vmlCanvasManager&&(this.canvas=window.G_vmlCanvasManager.initElement(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.gp=[new h(this)],this.setOptions(),this.render()}return x(e,t),e.prototype.elem=null,e.prototype.value=[20],e.prototype.maxValue=80,e.prototype.minValue=0,e.prototype.displayedAngle=0,e.prototype.displayedValue=0,e.prototype.lineWidth=40,e.prototype.paddingBottom=.1,e.prototype.percentColors=null,e.prototype.options={colorStart:"#6fadcf",colorStop:void 0,gradientType:0,strokeColor:"#e0e0e0",pointer:{length:.8,strokeWidth:.035},angle:.15,lineWidth:.44,fontSize:40,limitMax:!1},e.prototype.setOptions=function(t){var n,i,r,o;for(null==t&&(t=null),e.__super__.setOptions.call(this,t),this.configPercentColors(),this.lineWidth=this.canvas.height*(1-this.paddingBottom)*this.options.lineWidth,this.radius=this.canvas.height*(1-this.paddingBottom)-this.lineWidth,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.render(),o=this.gp,i=0,r=o.length;i<r;i++)n=o[i],n.setOptions(this.options.pointer),n.render();return this},e.prototype.configPercentColors=function(){var t,e,n,i,r,o,s;if(this.percentColors=null,void 0!==this.options.percentColors){for(this.percentColors=new Array,o=[],n=i=0,r=this.options.percentColors.length-1;0<=r?i<=r:i>=r;n=0<=r?++i:--i)s=parseInt(g(this.options.percentColors[n][1]).substring(0,2),16),e=parseInt(g(this.options.percentColors[n][1]).substring(2,4),16),t=parseInt(g(this.options.percentColors[n][1]).substring(4,6),16),o.push(this.percentColors[n]={pct:this.options.percentColors[n][0],color:{r:s,g:e,b:t}});return o}},e.prototype.set=function(t){var e,n,i,r,o,s,a;if(this.displayedValue=this.minValue,t instanceof Array||(t=[t]),t.length>this.gp.length)for(e=n=0,s=t.length-this.gp.length;0<=s?n<s:n>s;e=0<=s?++n:--n)this.gp.push(new h(this));for(e=0,o=!1,i=0,r=t.length;i<r;i++)a=t[i],a>this.maxValue&&(this.maxValue=1.1*this.value,o=!0),this.gp[e].value=a,this.gp[e++].setOptions({maxValue:this.maxValue,angle:this.options.angle});return this.value=t[t.length-1],o&&this.options.limitMax?void 0:AnimationUpdater.run()},e.prototype.getAngle=function(t){return(1+this.options.angle)*Math.PI+(t-this.minValue)/(this.maxValue-this.minValue)*(1-2*this.options.angle)*Math.PI},e.prototype.getColorForPercentage=function(t,e){var n,i,r,o,s,a,l;if(0===t)n=this.percentColors[0].color;else for(n=this.percentColors[this.percentColors.length-1].color,r=o=0,a=this.percentColors.length-1;0<=a?o<=a:o>=a;r=0<=a?++o:--o)if(t<=this.percentColors[r].pct){e===!0?(l=this.percentColors[r-1],i=this.percentColors[r],s=(t-l.pct)/(i.pct-l.pct),n={r:Math.floor(l.color.r*(1-s)+i.color.r*s),g:Math.floor(l.color.g*(1-s)+i.color.g*s),b:Math.floor(l.color.b*(1-s)+i.color.b*s)}):n=this.percentColors[r].color;break}return"rgb("+[n.r,n.g,n.b].join(",")+")"},e.prototype.getColorForValue=function(t,e){var n;return n=(t-this.minValue)/(this.maxValue-this.minValue),this.getColorForPercentage(n,e)},e.prototype.render=function(){var t,e,n,i,r,o,s,a,l;for(l=this.canvas.width/2,i=this.canvas.height*(1-this.paddingBottom),t=this.getAngle(this.displayedValue),this.textField&&this.textField.render(this),this.ctx.lineCap="butt",void 0!==this.options.customFillStyle?e=this.options.customFillStyle(this):null!==this.percentColors?e=this.getColorForValue(this.displayedValue,!0):void 0!==this.options.colorStop?(e=0===this.options.gradientType?this.ctx.createRadialGradient(l,i,9,l,i,70):this.ctx.createLinearGradient(0,0,l,0),e.addColorStop(0,this.options.colorStart),e.addColorStop(1,this.options.colorStop)):e=this.options.colorStart,this.ctx.strokeStyle=e,this.ctx.beginPath(),this.ctx.arc(l,i,this.radius,(1+this.options.angle)*Math.PI,t,!1),this.ctx.lineWidth=this.lineWidth,this.ctx.stroke(),this.ctx.strokeStyle=this.options.strokeColor,this.ctx.beginPath(),this.ctx.arc(l,i,this.radius,t,(2-this.options.angle)*Math.PI,!1),this.ctx.stroke(),s=this.gp,a=[],r=0,o=s.length;r<o;r++)n=s[r],a.push(n.update(!0));return a},e}(l),a=function(t){function e(t){this.canvas=t,e.__super__.constructor.call(this),"undefined"!=typeof G_vmlCanvasManager&&(this.canvas=window.G_vmlCanvasManager.initElement(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.setOptions(),this.render()}return x(e,t),e.prototype.lineWidth=15,e.prototype.displayedValue=0,e.prototype.value=33,e.prototype.maxValue=80,e.prototype.minValue=0,e.prototype.options={lineWidth:.1,colorStart:"#6f6ea0",colorStop:"#c0c0db",strokeColor:"#eeeeee",shadowColor:"#d5d5d5",angle:.35},e.prototype.getAngle=function(t){return(1-this.options.angle)*Math.PI+(t-this.minValue)/(this.maxValue-this.minValue)*(2+this.options.angle-(1-this.options.angle))*Math.PI},e.prototype.setOptions=function(t){return null==t&&(t=null),e.__super__.setOptions.call(this,t),this.lineWidth=this.canvas.height*this.options.lineWidth,this.radius=this.canvas.height/2-this.lineWidth/2,this},e.prototype.set=function(t){return this.value=t,this.value>this.maxValue&&(this.maxValue=1.1*this.value),AnimationUpdater.run()},e.prototype.render=function(){var t,e,n,i,r,o;return t=this.getAngle(this.displayedValue),o=this.canvas.width/2,n=this.canvas.height/2,this.textField&&this.textField.render(this),e=this.ctx.createRadialGradient(o,n,39,o,n,70),e.addColorStop(0,this.options.colorStart),e.addColorStop(1,this.options.colorStop),i=this.radius-this.lineWidth/2,r=this.radius+this.lineWidth/2,this.ctx.strokeStyle=this.options.strokeColor,this.ctx.beginPath(),this.ctx.arc(o,n,this.radius,(1-this.options.angle)*Math.PI,(2+this.options.angle)*Math.PI,!1),this.ctx.lineWidth=this.lineWidth,this.ctx.lineCap="round",this.ctx.stroke(),this.ctx.strokeStyle=e,this.ctx.beginPath(),this.ctx.arc(o,n,this.radius,(1-this.options.angle)*Math.PI,t,!1),this.ctx.stroke()},e}(l),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return x(e,t),e.prototype.strokeGradient=function(t,e,n,i){var r;return r=this.ctx.createRadialGradient(t,e,n,t,e,i),r.addColorStop(0,this.options.shadowColor),r.addColorStop(.12,this.options._orgStrokeColor),
r.addColorStop(.88,this.options._orgStrokeColor),r.addColorStop(1,this.options.shadowColor),r},e.prototype.setOptions=function(t){var n,i,r,o;return null==t&&(t=null),e.__super__.setOptions.call(this,t),o=this.canvas.width/2,n=this.canvas.height/2,i=this.radius-this.lineWidth/2,r=this.radius+this.lineWidth/2,this.options._orgStrokeColor=this.options.strokeColor,this.options.strokeColor=this.strokeGradient(o,n,i,r),this},e}(a),window.AnimationUpdater={elements:[],animId:null,addAll:function(t){var e,n,i,r;for(r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(AnimationUpdater.elements.push(e));return r},add:function(t){return AnimationUpdater.elements.push(t)},run:function(){var t,e,n,i,r;for(t=!0,r=AnimationUpdater.elements,n=0,i=r.length;n<i;n++)e=r[n],e.update()&&(t=!1);return t?cancelAnimationFrame(AnimationUpdater.animId):AnimationUpdater.animId=requestAnimationFrame(AnimationUpdater.run)}},"function"==typeof window.define&&null!=window.define.amd?(i=function(){return{Gauge:u,Donut:c,BaseDonut:a,TextRenderer:d}}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))):"undefined"!=typeof t&&null!=t.exports?t.exports={Gauge:u,Donut:c,BaseDonut:a,TextRenderer:d}:(window.Gauge=u,window.Donut=c,window.BaseDonut=a,window.TextRenderer=d)}).call(this)},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-6 strength-goal-rep"><div class="strength-goal-rep-gauge-container"></div></div><div class="col-sm-6 strength-goal-weight"><div class="strength-goal-weight-gauge-container"></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;l=n(3),h=n(49),i=n(11),o=n(13),r=n(82),d=n(120),n(23),c=function(t){var e;return e=l.minBy(t.models,function(t){return t.get("date")}),e.get("date")},u=function(t){var e;return e=l.maxBy(t.models,function(t){return t.get("date")}),e.get("date")},s=function(t){function e(t,n){this.update=p(this.update,this),e.__super__.constructor.apply(this,arguments),this.update(n.sConf,n.sLogs)}return f(e,t),e.prototype.idAttribute="_id",e.prototype.defaults={name:"",muscle:[],count:0,body:!1,first:new Date,last:new Date,note:""},e.prototype.update=function(t,e){this.set({name:t.get("name"),muscle:t.get("muscle"),body:t.get("body"),note:t.get("note"),count:e.length,first:e.length?c(e):t.get("date"),last:e.length?u(e):t.get("date")})},e}(i.Model),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.template=d,e.prototype.ui={body:"#strength-summary-body"},e.prototype.bindings={"#strength-summary-name":"name","#strength-summary-muscle":{observe:"muscle",onGet:function(t){var e,n,i,o;if(t.length>0){for(i=[],e=0,n=t.length;e<n;e++)o=t[e],i.push(l.find(r.Muscles,{value:o}).label);return l.truncate(i.toString(),{length:20,separator:" "})}return"---"}},"#strength-summary-count":"count","#strength-summary-note":"note","#strength-summary-first":{observe:"first",onGet:function(t){return h(t).format("MMMM DD, YYYY - dddd")}},"#strength-summary-last":{observe:"last",onGet:function(t){return h(t).format("MMMM DD, YYYY - dddd")}}},e.prototype.onRender=function(){this.ui.body.prop("checked",this.model.get("body")),this.stickit(this.model)},e}(o.LayoutView),t.exports.Model=s,t.exports.View=a},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><form id="strength-summary-form" class="form-horizontal"><div class="form-group"><label for="strength-summary-name" class="col-sm-6 control-label">Name</label><div class="col-sm-6"><p id="strength-summary-name" class="form-control-static"></p></div></div><div class="form-group"><label for="strength-summary-muscle" class="col-sm-6 control-label">Muscle</label><div class="col-sm-6"><p id="strength-summary-muscle" class="form-control-static"></p></div></div><div class="form-group"><label for="strength-summary-count" class="col-sm-6 control-label">Count</label><div class="col-sm-6"><p id="strength-summary-count" class="form-control-static"></p></div></div><div class="form-group"><label for="strength-summary-body" class="col-sm-6 control-label">Using bodyweight</label><div class="col-sm-6"><div class="checkbox"><label><input type="checkbox" disabled id="strength-summary-body"></label></div></div></div><div class="form-group"><label for="strength-summary-first" class="col-sm-6 control-label">First Entry</label><div class="col-sm-6"><p id="strength-summary-first" class="form-control-static"></p></div></div><div class="form-group"><label for="strength-summary-last" class="col-sm-6 control-label">Last Entry</label><div class="col-sm-6"><p id="strength-summary-last" class="form-control-static"></p></div></div><hr><div class="form-group"><div class="col-xs-12"><p id="strength-summary-note"></p></div></div></form></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(2),s=n(49),r=n(13),c=n(122),n(123),l=function(t,e){var n,i,r,o;for(r=[],n=0,i=t.length;n<i;n++)o=t[n],r.push(Math.pow(o-e,2));return _.sum(r)/(t.length-1)},a=function(t){return Math.sqrt(t)},o=function(t){function e(t){var n,i;e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,["sLogs","date","type"]),n=[],i=[],_.each(this.sLogs.models,function(t){return function(e){var r,o;r=s(e.get("date")).startOf("day"),o=s(t.date).startOf("day"),r.isBefore(o)&&(n.push(e.get("rep")),i.push(e.get("weight")))}}(this)),this.challenge={rep:this.repReduce(n),weight:this.weightReduce(i)}}return u(e,t),e.prototype.template=c,e.prototype.ui={help:"#strength-challenge-help",goldRep:"#strength-challenge-rep-gold",goldWeight:"#strength-challenge-weight-gold",silverRep:"#strength-challenge-rep-silver",silverWeight:"#strength-challenge-weight-silver",bronzeRep:"#strength-challenge-rep-bronze",bronzeWeight:"#strength-challenge-weight-bronze",weightLabel:".strength-challenge-weight"},e.prototype.onRender=function(){0!==this.challenge.rep.gold&&this.ui.help.hide(),this.ui.goldRep.html(this.challenge.rep.gold),this.ui.goldWeight.html(this.challenge.weight.gold),this.ui.silverRep.html(this.challenge.rep.silver),this.ui.silverWeight.html(this.challenge.weight.silver),this.ui.bronzeRep.html(this.challenge.rep.bronze),this.ui.bronzeWeight.html(this.challenge.weight.bronze)},e.prototype.onShow=function(){"rep"===this.type&&this.ui.weightLabel.hide()},e.prototype.repReduce=function(t){var e,n,i;return e=0,i=this.mean(t),n=a(l(t,i)),{bronze:_.round(i-n||i,e)||0,silver:_.round(i,e)||0,gold:_.round(i+n||i,e)||0}},e.prototype.weightReduce=function(t){var e,n,i,r,o,s;return n=0,o=this.mean(t),r=a(l(t,o)),0===r&&(r=5),e=_.round(o-r||o,n)||0,e=this.roundUp5(e),s=_.round(o,n)||0,s=this.roundUp5(s),i=_.round(o+r||o,n)||0,i=this.roundUp5(i),{bronze:e,silver:s,gold:i}},e.prototype.min=function(t){return _.min(t)},e.prototype.max=function(t){return _.max(t)},e.prototype.mean=function(t){return _.mean(t)},e.prototype.roundUp5=function(t){return 5*Math.ceil(t/5)},e}(r.ItemView),t.exports=o},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div style="text-align:center" class="row"><div class="col-xs-12"><div id="strength-challenge-help"><h4 style="color:#8484FF;">Not enough past entries before today to create any challenges.</h4></div></div></div><div style="text-align:center" class="row"><i style="color:#FFD700" class="fa fa-fw fa-2x fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><u><b id="strength-challenge-rep-gold"></b></u>'+i.escape(null==(e=" ")?"":e)+"Reps"+i.escape(null==(e=" ")?"":e)+'</span><span class="strength-challenge-weight">@ &#8805'+i.escape(null==(e=" ")?"":e)+'<u><b id="strength-challenge-weight-gold"></b></u>'+i.escape(null==(e=" ")?"":e)+'lbs</span></div><div style="text-align:center" class="row"><i style="color:#C0C0C0" class="fa fa-fw fa-2x fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><u><b id="strength-challenge-rep-silver"></b></u>'+i.escape(null==(e=" ")?"":e)+"Reps"+i.escape(null==(e=" ")?"":e)+'</span><span class="strength-challenge-weight">@ &#8805'+i.escape(null==(e=" ")?"":e)+'<u><b id="strength-challenge-weight-silver"></b></u>'+i.escape(null==(e=" ")?"":e)+'lbs</span></div><div style="text-align:center" class="row"><i style="color:#CD7F32" class="fa fa-fw fa-2x fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><u><b id="strength-challenge-rep-bronze"></b></u>'+i.escape(null==(e=" ")?"":e)+"Reps"+i.escape(null==(e=" ")?"":e)+'</span><span class="strength-challenge-weight">@ &#8805'+i.escape(null==(e=" ")?"":e)+'<u><b id="strength-challenge-weight-bronze"></b></u>'+i.escape(null==(e=" ")?"":e)+"lbs</span></div>"),n.join("")}},function(t,e,n){var i,r,o;n(2),n(2),n(2);!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function r(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function o(t){return function(){return this[t].apply(this,arguments)}}function s(t){return t&&!isNaN(t.getTime())}function a(e,n){function i(t,e){return e.toLowerCase()}var r,o=t(e).data(),s={},a=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in o)n.test(l)&&(r=l.replace(a,i),s[r]=o[l]);return s}function l(e){var n={};if(m[e]||(e=e.split("-")[0],m[e])){var i=m[e];return t.each(g,function(t,e){e in i&&(n[e]=i[e])}),n}}var c=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new c;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),u=function(e,n){t(e).data("datepicker",this),this._process_options(n),this.dates=new c,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(v.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};u.prototype={constructor:u,_resolveViewName:function(t,n){return 0===t||"days"===t||"month"===t?0:1===t||"months"===t||"year"===t?1:2===t||"years"===t||"decade"===t?2:3===t||"decades"===t||"century"===t?3:4===t||"centuries"===t||"millennium"===t?4:n!==e&&n},_check_template:function(n){try{if(n===e||""===n)return!1;if((n.match(/[<>]/g)||[]).length<=0)return!0;var i=t(n);return i.length>0}catch(t){return!1}},_process_options:function(e){this._o=t.extend({},this._o,e);var r=this.o=t.extend({},this._o),o=r.language;m[o]||(o=o.split("-")[0],m[o]||(o=f.language)),r.language=o,r.startView=this._resolveViewName(r.startView,0),r.minViewMode=this._resolveViewName(r.minViewMode,0),r.maxViewMode=this._resolveViewName(r.maxViewMode,4),r.startView=Math.min(r.startView,r.maxViewMode),r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var s=v.parseFormat(r.format);if(r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=v.parseDate(r.startDate,s,r.language,r.assumeNearbyYear):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=v.parseDate(r.endDate,s,r.language,r.assumeNearbyYear):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],t.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=t.map(r.daysOfWeekDisabled,function(t){return parseInt(t,10)}),r.daysOfWeekHighlighted=r.daysOfWeekHighlighted||[],t.isArray(r.daysOfWeekHighlighted)||(r.daysOfWeekHighlighted=r.daysOfWeekHighlighted.split(/[,\s]*/)),r.daysOfWeekHighlighted=t.map(r.daysOfWeekHighlighted,function(t){return parseInt(t,10)}),r.datesDisabled=r.datesDisabled||[],!t.isArray(r.datesDisabled)){var a=[];a.push(v.parseDate(r.datesDisabled,s,r.language,r.assumeNearbyYear)),r.datesDisabled=a}r.datesDisabled=t.map(r.datesDisabled,function(t){return v.parseDate(t,s,r.language,r.assumeNearbyYear)});var l=String(r.orientation).toLowerCase().split(/\s+/g),c=r.orientation.toLowerCase();if(l=t.grep(l,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},c&&"auto"!==c)if(1===l.length)switch(l[0]){case"top":case"bottom":r.orientation.y=l[0];break;case"left":case"right":r.orientation.x=l[0]}else c=t.grep(l,function(t){return/^left|right$/.test(t)}),r.orientation.x=c[0]||"auto",c=t.grep(l,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=c[0]||"auto";else;if(r.defaultViewDate){var u=r.defaultViewDate.year||(new Date).getFullYear(),h=r.defaultViewDate.month||0,d=r.defaultViewDate.day||1;r.defaultViewDate=n(u,h,d)}else r.defaultViewDate=i()},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(i=e,r=t[o][1]):3===t[o].length&&(i=t[o][1],r=t[o][2]),n.on(r,i)},_unapplyEvents:function(t){for(var n,i,r,o=0;o<t.length;o++)n=t[o][0],2===t[o].length?(r=e,i=t[o][1]):3===t[o].length&&(r=t[o][1],i=t[o][2]),n.off(i,r)},_buildEvents:function(){var e={keyup:t.proxy(function(e){t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:t.proxy(this.keydown,this),paste:t.proxy(this.paste,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":t.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{mousedown:t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.picker.hasClass("datepicker-inline")||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),r=this._utc_to_local(i);this.element.trigger({type:e,date:r,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return v.formatDate(n,e,this.o.language)},this)})},show:function(){var e=this.component?this.element.find("input"):this.element;if(!e.attr("readonly")||this.o.enableOnReadonly!==!1)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var n;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&t.inArray("text/plain",e.originalEvent.clipboardData.types)!==-1)n=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;n=window.clipboardData.getData("Text")}this.setDate(n),this.update(),e.preventDefault()},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:o("setDates"),setUTCDate:o("setUTCDates"),remove:o("destroy"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return v.formatDate(t,n,i)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(t){return this._process_options({daysOfWeekHighlighted:t}),this.update(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,r=t(this.o.container),o=r.width(),s="body"===this.o.container?t(document).scrollTop():r.scrollTop(),a=r.offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var c=Math.max.apply(Math,l)+this.o.zIndexOffset,u=this.component?this.component.parent().offset():this.element.offset(),h=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),p=u.left-a.left,f=u.top-a.top;"body"!==this.o.container&&(f+=s),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(p-=e-d)):u.left<0?(this.picker.addClass("datepicker-orient-left"),p-=u.left-i):p+e>o?(this.picker.addClass("datepicker-orient-right"),p+=d-e):this.picker.addClass("datepicker-orient-left");var g,m=this.o.orientation.y;if("auto"===m&&(g=-s+f-n,m=g<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+m),"top"===m?f-=n+parseInt(this.picker.css("padding-top")):f+=h,this.o.rtl){var v=o-(p+d);this.picker.css({top:f,right:v,zIndex:c})}else this.picker.css({top:f,left:p,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return v.parseDate(t,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=t.grep(n,t.proxy(function(t){return!this.dateWithinRange(t)||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,n="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1}),n+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)n+='<th class="dow',t.inArray(e,this.o.daysOfWeekDisabled)>-1&&(n+=" disabled"),n+='">'+m[this.o.language].daysMin[e++%7]+"</th>";n+="</tr>",this.picker.find(".datepicker-days thead").append(n)},fillMonths:function(){for(var t=this._utc_to_local(this.viewDate),e="",n=0;n<12;){var i=t&&t.getMonth()===n?" focused":"";e+='<span class="month'+i+'">'+m[this.o.language].monthsShort[n++]+"</span>"}this.picker.find(".datepicker-months td").html(e)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),o=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===o.getFullYear()&&e.getUTCMonth()===o.getMonth()&&e.getUTCDate()===o.getDate()&&n.push("today"),this.dates.contains(e)!==-1&&n.push("active"),this.dateWithinRange(e)||n.push("disabled"),this.dateIsDisabled(e)&&n.push("disabled","disabled-date"),t.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&n.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),t.inArray(e.valueOf(),this.range)!==-1&&n.push("selected"),e.valueOf()===this.range[0]&&n.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&n.push("range-end")),n},_fill_yearsView:function(n,i,r,o,s,a,l,c){var u,h,d,p,f,g,m,v,y,b,w;for(u="",h=this.picker.find(n),d=parseInt(s/r,10)*r,f=parseInt(a/o,10)*o,g=parseInt(l/o,10)*o,p=t.map(this.dates,function(t){return parseInt(t.getUTCFullYear()/o,10)*o}),h.find(".datepicker-switch").text(d+"-"+(d+9*o)),m=d-o,v=-1;v<11;v+=1)y=[i],b=null,v===-1?y.push("old"):10===v&&y.push("new"),t.inArray(m,p)!==-1&&y.push("active"),(m<f||m>g)&&y.push("disabled"),m===this.viewDate.getFullYear()&&y.push("focused"),c!==t.noop&&(w=c(new Date(m,0,1)),w===e?w={}:"boolean"==typeof w?w={enabled:w}:"string"==typeof w&&(w={classes:w}),w.enabled===!1&&y.push("disabled"),w.classes&&(y=y.concat(w.classes.split(/\s+/))),w.tooltip&&(b=w.tooltip)),u+='<span class="'+y.join(" ")+'"'+(b?' title="'+b+'"':"")+">"+m+"</span>",m+=o;h.find("td").html(u)},fill:function(){var i,r,o=new Date(this.viewDate),s=o.getUTCFullYear(),a=o.getUTCMonth(),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),c=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),u=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,h=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=m[this.o.language].today||m.en.today||"",p=m[this.o.language].clear||m.en.clear||"",f=m[this.o.language].titleFormat||m.en.titleFormat;if(!isNaN(s)&&!isNaN(a)){this.picker.find(".datepicker-days .datepicker-switch").text(v.formatDate(o,f,this.o.language)),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var g=n(s,a-1,28),y=v.getDaysInMonth(g.getUTCFullYear(),g.getUTCMonth());g.setUTCDate(y),g.setUTCDate(y-(g.getUTCDay()-this.o.weekStart+7)%7);var b=new Date(g);g.getUTCFullYear()<100&&b.setUTCFullYear(g.getUTCFullYear()),b.setUTCDate(b.getUTCDate()+42),b=b.valueOf();for(var w,x=[];g.valueOf()<b;){if(g.getUTCDay()===this.o.weekStart&&(x.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+g+(this.o.weekStart-g.getUTCDay()-7)%7*864e5),C=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),k=new Date(Number(k=n(C.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),S=(C-k)/864e5/7+1;x.push('<td class="cw">'+S+"</td>")}w=this.getClassNames(g),w.push("day"),this.o.beforeShowDay!==t.noop&&(r=this.o.beforeShowDay(this._utc_to_local(g)),r===e?r={}:"boolean"==typeof r?r={enabled:r}:"string"==typeof r&&(r={classes:r}),r.enabled===!1&&w.push("disabled"),r.classes&&(w=w.concat(r.classes.split(/\s+/))),r.tooltip&&(i=r.tooltip)),w=t.unique(w),x.push('<td class="'+w.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+g.getUTCDate()+"</td>"),i=null,g.getUTCDay()===this.o.weekEnd&&x.push("</tr>"),g.setUTCDate(g.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(x.join(""));var T=m[this.o.language].monthsTitle||m.en.monthsTitle||"Months",M=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?T:s).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&M.eq(e.getUTCMonth()).addClass("active")}),(s<l||s>u)&&M.addClass("disabled"),s===l&&M.slice(0,c).addClass("disabled"),s===u&&M.slice(h+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var D=this;t.each(M,function(n,i){var r=new Date(s,n,1),o=D.o.beforeShowMonth(r);o===e?o={}:"boolean"==typeof o?o={enabled:o}:"string"==typeof o&&(o={classes:o}),o.enabled!==!1||t(i).hasClass("disabled")||t(i).addClass("disabled"),o.classes&&t(i).addClass(o.classes),o.tooltip&&t(i).prop("title",o.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,s,l,u,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,s,l,u,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,s,l,u,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault(),e.stopPropagation();var r,o,s,a,l,c,u;r=t(e.target),r.hasClass("datepicker-switch")&&this.showMode(1);var h=r.closest(".prev, .next");h.length>0&&(o=v.modes[this.viewMode].navStep*(h.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),r.hasClass("today")&&(this.showMode(-2),this._setDate(i(),"linked"===this.o.todayBtn?null:"view")),r.hasClass("clear")&&this.clearDates(),r.hasClass("disabled")||(r.hasClass("day")&&(s=parseInt(r.text(),10)||1,a=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth(),r.hasClass("old")&&(0===l?(l=11,a-=1,c=!0,u=!0):(l-=1,c=!0)),r.hasClass("new")&&(11===l?(l=0,a+=1,c=!0,u=!0):(l+=1,c=!0)),this._setDate(n(a,l,s)),u&&this._trigger("changeYear",this.viewDate),c&&this._trigger("changeMonth",this.viewDate)),r.hasClass("month")&&(this.viewDate.setUTCDate(1),s=1,l=r.parent().find("span").index(r),a=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(n(a,l,s)),this.showMode()):this.showMode(-1),this.fill()),(r.hasClass("year")||r.hasClass("decade")||r.hasClass("century"))&&(this.viewDate.setUTCDate(1),s=1,l=0,a=parseInt(r.text(),10)||0,this.viewDate.setUTCFullYear(a),r.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(a,l,s))),r.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(n(a,l,s))),r.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(n(a,l,s))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),e!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),
this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveDay:function(t,e){var n=new Date(t);return n.setUTCDate(t.getUTCDate()+e),n},moveWeek:function(t,e){return this.moveDay(t,7*e)},moveMonth:function(t,e){if(!s(t))return this.o.defaultViewDate;if(!e)return t;var n,i,r=new Date(t.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),l=Math.abs(e);if(e=e>0?1:-1,1===l)i=e===-1?function(){return r.getUTCMonth()===a}:function(){return r.getUTCMonth()!==n},n=a+e,r.setUTCMonth(n),(n<0||n>11)&&(n=(n+12)%12);else{for(var c=0;c<l;c++)r=this.moveMonth(r,e);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!==r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},moveAvailableDate:function(t,e,n){do{if(t=this[n](t,e),!this.dateWithinRange(t))return!1;n="moveDay"}while(this.dateIsDisabled(t));return t},weekOfDateIsDisabled:function(e){return t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(e){return this.weekOfDateIsDisabled(e)||t.grep(this.o.datesDisabled,function(t){return r(e,t)}).length>0},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(40!==t.keyCode&&27!==t.keyCode||(this.show(),t.stopPropagation()));var e,n,i=!1,r=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault(),t.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;e=37===t.keyCode||38===t.keyCode?-1:1,0===this.viewMode?t.ctrlKey?(n=this.moveAvailableDate(r,e,"moveYear"),n&&this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveAvailableDate(r,e,"moveMonth"),n&&this._trigger("changeMonth",this.viewDate)):37===t.keyCode||39===t.keyCode?n=this.moveAvailableDate(r,e,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,e,"moveWeek")):1===this.viewMode?(38!==t.keyCode&&40!==t.keyCode||(e=4*e),n=this.moveAvailableDate(r,e,"moveMonth")):2===this.viewMode&&(38!==t.keyCode&&40!==t.keyCode||(e=4*e),n=this.moveAvailableDate(r,e,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),t.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(i){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+v.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var h=function(e,n){t(e).data("datepicker",this),this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,p.call(t(this.inputs),n).on("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};h.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker");if("undefined"!=typeof n){var i=n.getUTCDate(),r=t.inArray(e.target,this.inputs),o=r-1,s=r+1,a=this.inputs.length;if(r!==-1){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[o])for(;o>=0&&i<this.dates[o];)this.pickers[o--].setUTCDate(i);else if(i>this.dates[s])for(;s<a&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,p=function(n){var i=Array.apply(null,arguments);i.shift();var r;if(this.each(function(){var e=t(this),o=e.data("datepicker"),s="object"==typeof n&&n;if(!o){var c=a(this,"date"),d=t.extend({},f,c,s),p=l(d.language),g=t.extend({},f,p,c,s);e.hasClass("input-daterange")||g.inputs?(t.extend(g,{inputs:g.inputs||e.find("input").toArray()}),o=new h(this,g)):o=new u(this,g),e.data("datepicker",o)}"string"==typeof n&&"function"==typeof o[n]&&(r=o[n].apply(o,i))}),r===e||r instanceof u||r instanceof h)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+n+" function)");return r};t.fn.datepicker=p;var f=t.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,beforeShowYear:t.noop,beforeShowDecade:t.noop,beforeShowCentury:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},g=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=u;var m=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},v={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,v.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(t){if("function"==typeof t.toValue&&"function"==typeof t.toDisplay)return t;var e=t.replace(this.validParts,"\0").split("\0"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(r,o,s,a){function l(t,e){return e===!0&&(e=10),t<100&&(t+=2e3,t>(new Date).getFullYear()+e&&(t-=100)),t}function c(){var t=this.slice(0,y[p].length),e=y[p].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!r)return e;if(r instanceof Date)return r;if("string"==typeof o&&(o=v.parseFormat(o)),o.toValue)return o.toValue(r,o,s);var h,d,p,f,g=/([\-+]\d+)([dmwy])/,y=r.match(/([\-+]\d+)([dmwy])/g),b={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},w={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){for(r=new Date,p=0;p<y.length;p++)h=g.exec(y[p]),d=parseInt(h[1]),f=b[h[2]],r=u.prototype[f](r,d);return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())}if("undefined"!=typeof w[r]&&(r=w[r],y=r.match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r))){for(r=new Date,p=0;p<y.length;p++)h=g.exec(y[p]),d=parseInt(h[1]),f=b[h[2]],r=u.prototype[f](r,d);return n(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())}y=r&&r.match(this.nonpunctuation)||[],r=new Date;var x,_,C={},k=["yyyy","yy","M","MM","m","mm","d","dd"],S={yyyy:function(t,e){return t.setUTCFullYear(a?l(e,a):e)},yy:function(t,e){return t.setUTCFullYear(a?l(e,a):e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};S.M=S.MM=S.mm=S.m,S.dd=S.d,r=i();var T=o.parts.slice();if(y.length!==T.length&&(T=t(T).filter(function(e,n){return t.inArray(n,k)!==-1}).toArray()),y.length===T.length){var M;for(p=0,M=T.length;p<M;p++){if(x=parseInt(y[p],10),h=T[p],isNaN(x))switch(h){case"MM":_=t(m[s].months).filter(c),x=t.inArray(_[0],m[s].months)+1;break;case"M":_=t(m[s].monthsShort).filter(c),x=t.inArray(_[0],m[s].monthsShort)+1}C[h]=x}var D,A;for(p=0;p<k.length;p++)A=k[p],A in C&&!isNaN(C[A])&&(D=new Date(r),S[A](D,C[A]),isNaN(D)||(r=D))}return r},formatDate:function(e,n,i){if(!e)return"";if("string"==typeof n&&(n=v.parseFormat(n)),n.toDisplay)return n.toDisplay(e,n,i);var r={d:e.getUTCDate(),D:m[i].daysShort[e.getUTCDay()],DD:m[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:m[i].monthsShort[e.getUTCMonth()],MM:m[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};r.dd=(r.d<10?"0":"")+r.d,r.mm=(r.m<10?"0":"")+r.m,e=[];for(var o=t.extend([],n.separators),s=0,a=n.parts.length;s<=a;s++)o.length&&e.push(o.shift()),e.push(r[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};v.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+v.headTemplate+"<tbody></tbody>"+v.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+v.headTemplate+v.contTemplate+v.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=v,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.7.0-dev",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),p.call(n,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})})},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(2),s=n(49),r=n(13),c=n(125),n(123),l=function(t,e){var n,i,r,o;for(r=[],n=0,i=t.length;n<i;n++)o=t[n],r.push(Math.pow(o-e,2));return _.sum(r)/(t.length-1)},a=function(t){return Math.sqrt(t)},o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"type"),this.reduce()}return u(e,t),e.prototype.template=c,e.prototype.ui={calendar:"#strength-calendar-ui"},e.prototype.onRender=function(){var t;t=this.ui.calendar.datepicker({beforeShowDay:function(t){return function(e){var n;switch(n=t.dates[s(e).startOf("day")]){case"gold":return{enabled:!0,classes:"strength-calendar-td-gold",tooltip:""};case"silver":return{enabled:!0,classes:"strength-calendar-td-silver",tooltip:""};case"bronze":return{enabled:!0,classes:"strength-calendar-td-bronze",tooltip:""};default:return{enabled:!1,classes:"",tooltip:""}}}}(this)})},e.prototype.onShow=function(){var t;t=_.valuesIn(this.dates),i("#strength-trophy-gold").html(_.filter(t,function(t){return"gold"===t}).length),i("#strength-trophy-silver").html(_.filter(t,function(t){return"silver"===t}).length),i("#strength-trophy-bronze").html(_.filter(t,function(t){return"bronze"===t}).length)},e.prototype.reduce=function(){var t,e,n,i,r,o,c,u,h,d,p,f;h=this.type,u=this.collection.models,n={},_.each(u,function(t){var e;e=s(t.get("date")).startOf("day"),void 0===n[e]&&(n[e]=[]),n[e].push(t.get(h))}),r=!0;for(e in n)f=n[e],d=_(u).omitBy(function(t){var n;return n=s(t.get("date")).startOf("day"),n.isAfter(s(new Date(e)).subtract(1,"days"))}).map(function(t){return t.get(h)}).value(),i=0,p=_.round(this.max(f),i),t=this.mean(d),c=a(l(d,_.mean(d))),"weight"===this.type&&0===c&&(c=5),o=_.round(t+c||t,i)||0,"weight"===this.type&&(t=this.roundUp5(t),o=this.roundUp5(o)),n[e]="bronze",t<=p&&p<o&&(n[e]="silver"),(p>=o||r)&&(n[e]="gold"),r=!1;this.dates=n},e.prototype.min=function(t){return _.min(t)},e.prototype.max=function(t){return _.max(t)},e.prototype.mean=function(t){return _.mean(t)},e.prototype.roundUp5=function(t){return 5*Math.ceil(t/5)},e}(r.ItemView),t.exports=o},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div id="strength-calendar-ui"></div></div><hr><div style="text-align:center" class="row"><div class="col-xs-4"><i style="color:#FFD700" class="fa fa-fw fa-lg fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><b id="strength-trophy-gold"></b></span></div><div class="col-xs-4"><i style="color:#C0C0C0" class="fa fa-fw fa-lg fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><b id="strength-trophy-silver"></b></span></div><div class="col-xs-4"><i style="color:#CD7F32" class="fa fa-fw fa-lg fa-trophy"></i>'+i.escape(null==(e=" ")?"":e)+'<span><b id="strength-trophy-bronze"></b></span></div></div>'),n.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div id="strength-modal-view"></div><div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="strength-home"><a>Home</a></li><li id="strength-journals"><a>Journals</a></li><li class="active"><span>Entry</span><i class="fa fa-fw fa-lg fa-pencil"></i></li></ol></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 id="strength-title" class="panel-title"></h3></div><div class="panel-body"><div id="strength-detail-schedule-container" class="col-xs-6"><button id="strength-schedule-btn" class="btn btn-info"><i class="fa fa-fw fa-lg fa-calendar-check-o">'+i.escape(null==(e=" ")?"":e)+'</i><span>Schedule</span></button></div><div id="strength-detail-add-container" class="col-xs-6"><button id="strength-detail-add" class="btn btn-primary"><i class="fa fa-fw fa-lg fa-pencil"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Add Entry</span></button></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Journal Entries</h3></div><div id="strength-history-panel" class="panel-body"><div id="strength-history-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading clearfix"><h3 class="panel-title">Daily Challenges</h3></div><div class="panel-body"><div id="strength-challenge-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Performance</h3></div><div id="strength-goal-panel" class="panel-body"><div id="strength-goal-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Overall Ranking</h3></div><div class="panel-body"><div id="strength-calendar-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Progress</h3></div><div class="panel-body"><div id="strength-graph-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Summary</h3></div><div class="panel-body"><div id="strength-summary-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading clearfix"><div class="pull-right"><button id="strength-detail-edit" class="btn btn-xs btn-primary"><i class="fa fa-fw fa-lg fa-wrench"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Edit</span></button></div><h3 class="panel-title">Workout</h3></div><div class="panel-body"><div id="strength-workout-view"></div></div></div></div></div>'),n.join("")}},function(t,e,n){t.exports.Master=n(128),t.exports.Detail=n(135)},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;c=n(3),u=n(49),i=n(11),s=n(13),o=n(129),h=n(134),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.idAttribute="exerciseID",e.prototype.defaults={exerciseID:"",name:"",weightData:[],repData:[],user:""},e}(i.Model),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.url="api/logs",e.prototype.model=a,e.prototype.parse=function(t){var e,n,i,r,o,s,a,l,h,d;l=[],n=c.groupBy(t,function(t){return t.exercise});for(e in n){for(s=n[e],h=[],a=[],i=0,r=s.length;i<r;i++)o=s[i],d=u(o.date).valueOf(),h.push({id:d,x:d,y:o.weight}),a.push({id:d,x:d,y:o.rep});l.push({exerciseID:e,name:s[0].name,weightData:c.sortBy(h,function(t){return t.x}),repData:c.sortBy(a,function(t){return t.x}),muscle:s[0].muscle,user:s[0].user})}return l},e}(i.Collection),l=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"sConfs"),this.rootChannel=i.Radio.channel("root")}return d(e,t),e.prototype.template=h,e.prototype.events={"click #graphs-home":function(){this.rootChannel.request("home")}},e.prototype.regions={graphs:"#logs-graphs-view"},e.prototype.onShow=function(){this.showChildView("graphs",new o({collection:this.collection,sConfs:this.sConfs}))},e}(s.LayoutView),e.Model=a,e.Collection=r,e.View=l},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m,v,y=function(t,e){function n(){this.constructor=t}for(var i in e)b.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b={}.hasOwnProperty;i=n(2),h=n(3),f=n(49),r=n(11),l=n(13),o=n(109),s=n(5),g=n(130),p=n(131),v=n(132),n(88),n(23),n(133),d=function(t){return h.maxBy(h.map(t,function(t){return t.y}))},m=function(t,e){var n;return n={type:"column",yAxis:0,shadow:!0},0===e?h.assign(n,{name:"Reps",data:t.get("repData"),color:"#46dbd4",lineColor:"#65c2bd",yAxis:0,marker:{enabled:!0,fillColor:"#65c2bd",radius:3}}):h.assign(n,{name:"Weights",data:t.get("weightData"),color:"#00ffa4",lineColor:"#00B272",yAxis:1,tooltip:{valueSuffix:" lb"},marker:{enabled:!0,fillColor:"#00B272",radius:6}})},c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.template=g,e}(l.ItemView),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"sConfs"),this.rootChannel=r.Radio.channel("root")}return y(e,t),e.prototype.template=p,e.prototype.ui={chart:".graph-chart",name:".graph-name"},e.prototype.events={click:function(){this.rootChannel.request("log:detail",this.model.get("exerciseID"))}},e.prototype.onRender=function(){this.ui.name.text(this.sConfs.get(this.model.id).get("name")),this.chart=new s.StockChart({chart:{renderTo:this.ui.chart[0],height:110,marginTop:5,spacingBottom:0,spacingTop:0,spacingLeft:0,spacingRight:0,plotBorderColor:"#b2b2b2",plotBorderWidth:0,panning:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{lineWidth:2},yAxis:[{lineWidth:0,opposite:!1,min:0,max:d(this.model.get("repData")),crop:!1},{lineWidth:0,opposite:!0,min:0,max:d(this.model.get("weightData"))}],series:[m(this.model,0),m(this.model,1)],legend:{enabled:!1},credits:{enabled:!1}})},e.prototype.onShow=function(){this.chart.reflow()},e}(l.ItemView),u=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"sConfs"),this.rootChannel=r.Radio.channel("root")}return y(e,t),e.prototype.childView=a,e.prototype.emptyView=c,e.prototype.childViewContainer="#sortable-graphs",e.prototype.template=v,e.prototype.childViewOptions=function(){return{sConfs:this.sConfs}},e}(l.CompositeView),t.exports=u},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<span class="lead">No graph available. Add more entries in journal.</span>'),e.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="col-sm-4"><div class="panel panel-info"><div class="panel-heading clearfix"><a class="pull-right"><i class="fa fa-lg fa-chevron-circle-right"></i></a><h3 class="panel-title"><i class="fa fa-fw fa-lg fa-bar-chart"></i>'+i.escape(null==(e=" ")?"":e)+'<span class="graph-name">Graphs</span></h3></div><div class="panel-body"><div class="graph-chart"></div></div></div></div>'),n.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><div id="sortable-graphs"></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o;n(2),n(2);!function(s){r=[n(2)],i=s,o="function"==typeof i?i.apply(e,r):i,!(void 0!==o&&(t.exports=o))}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function n(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var i=(t.ui.version="1.12.0",0),r=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var c=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),s=new n,s.options=t.widget.extend({},s.options),t.each(i,function(e,i){return t.isFunction(i)?void(a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(a[e]=i)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:c}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a),n!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var s,a;for(a=0;a<n.length;a++)s=r.classesElementLookup[n[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[n[a]]=s,i.push(n[a]),o&&e.classes[n[a]]&&i.push(e.classes[n[a]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;!function(){function e(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o,s=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;o=function(){var e=t("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),n=1.5===e.offset().top;return e.remove(),o=function(){return n},n},t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},
t.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=t.extend({},r);var p,g,m,v,y,b,w=t(r.of),x=t.position.getWithinInfo(r.within),_=t.position.getScrollInfo(x),C=(r.collision||"flip").split(" "),k={};return b=i(w),w[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):u.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=u.test(n[1])?n[1]:"center",t=h.exec(n[0]),e=h.exec(n[1]),k[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),p=e(k.at,g,m),y.left+=p[0],y.top+=p[1],this.each(function(){var i,c,u=t(this),h=u.outerWidth(),d=u.outerHeight(),f=n(this,"marginLeft"),b=n(this,"marginTop"),S=h+f+n(this,"marginRight")+_.width,T=d+b+n(this,"marginBottom")+_.height,M=t.extend({},y),D=e(k.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?M.left-=h:"center"===r.my[0]&&(M.left-=h/2),"bottom"===r.my[1]?M.top-=d:"center"===r.my[1]&&(M.top-=d/2),M.left+=D[0],M.top+=D[1],o()||(M.left=l(M.left),M.top=l(M.top)),i={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[C[e]]&&t.ui.position[C[e]][n](M,{targetWidth:g,targetHeight:m,elemWidth:h,elemHeight:d,collisionPosition:i,collisionWidth:S,collisionHeight:T,offset:[p[0]+D[0],p[1]+D[1]],my:r.my,at:r.at,within:x,elem:u})}),r.using&&(c=function(t){var e=v.left-M.left,n=e+g-h,i=v.top-M.top,o=i+m-d,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:M.left,top:M.top,width:h,height:d},horizontal:n<0?"left":e>0?"right":"center",vertical:o<0?"top":i>0?"bottom":"middle"};g<h&&a(e+n)<g&&(l.horizontal="center"),m<d&&a(i+o)<m&&(l.vertical="middle"),s(a(e),a(n))>s(a(i),a(o))?l.important="horizontal":l.important="vertical",r.using.call(this,t,l)}),u.offset(t.extend(M,{using:c}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,c=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&c<=0?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):c>0&&l<=0?t.left=r:l>c?t.left=r+o-e.collisionWidth:t.left=r:l>0?t.left+=l:c>0?t.left-=c:t.left=s(t.left-a,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,c=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&c<=0?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):c>0&&l<=0?t.top=r:l>c?t.top=r+o-e.collisionHeight:t.top=r:l>0?t.top+=l:c>0?t.top-=c:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-l,h=c+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?(n=t.left+d+p+f+e.collisionWidth-s-o,(n<0||n<a(u))&&(t.left+=d+p+f)):h>0&&(i=t.left-e.collisionPosition.marginLeft+d+p+f-l,(i>0||a(i)<h)&&(t.left+=d+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-l,h=c+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];u<0?(i=t.top+p+f+g+e.collisionHeight-s-o,(i<0||i<a(u))&&(t.top+=p+f+g)):h>0&&(n=t.top-e.collisionPosition.marginTop+p+f+g-l,(n>0||a(n)<h)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});t.ui.focusable=function(n,i){var r,o,s,a,l,c=n.nodeName.toLowerCase();return"area"===c?(r=n.parentNode,o=r.name,!(!n.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(a=!n.disabled,a&&(l=t(n).closest("fieldset")[0],l&&(a=!l.disabled))):a="a"===c?n.href||i:i,a&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?s["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?s["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});var o=(t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){o=!1});t.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);this._getHandle(e)&&i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,c=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,c,u,h,d,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)l=i.snapElements[d].left-i.margins.left,c=l+i.snapElements[d].width,u=i.snapElements[d].top-i.margins.top,h=u+i.snapElements[d].height,v<l-g||m>c+g||b<u-g||y>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-b)<=g,o=Math.abs(h-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(h-b)<=g,s=Math.abs(l-m)<=g,a=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&s(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),
this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var s=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,c=n.offset.left,u=n.offset.top,h=c+n.proportions().width,d=u+n.proportions().height;switch(i){case"fit":return c<=o&&a<=h&&u<=s&&l<=d;case"intersect":return c<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&u<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,u,n.proportions().height)&&t(r.pageX,c,n.proportions().width);case"touch":return(s>=u&&s<=d||l>=u&&l<=d||s<u&&l>d)&&(o>=c&&o<=h||a>=c&&a<=h||o<c&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&s(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=s(e,this,this.options.tolerance,n),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,o=i?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&c&&(t.left=a-e.minWidth),i&&c&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof t?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,c=s.position,u=s._aspectRatio||e.shiftKey,h={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),c.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,c=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,h=Math.round((r.width-o.width)/c)*c,d=Math.round((r.height-o.height)/u)*u,p=o.width+h,f=o.height+d,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),y&&(f+=u),g&&(p-=c),m&&(f-=u),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.top=s.top-d):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=f,n.position.left=s.left-h):((f-u<=0||p-c<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=s.top-d):(f=u-e.height,n.size.height=f,n.position.top=s.top+o.height-f),p-c>0?(n.size.width=p,n.position.left=s.left-h):(p=c-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}});t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>a||u.right<o||u.top>l||u.bottom<s):"fit"===r.tolerance&&(c=u.left>o&&u.right<a&&u.top>s&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),
n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||i+c>a&&i+c<l,d="y"===this.options.axis||e+u>o&&e+u<s,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){a.push(this)}var i,r,o,s,a=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=t(c[i],this.document[0]),r=o.length-1;r>=0;r--)s=t.data(o[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&l.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,c,u=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=t(d[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,c=a.length;i<c;i++)l=t(a[i]),l.data(this.widgetName+"-item",s),u.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,c,u,h,d=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),s=u?"left":"top",a=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],c=!1,e[h]-l>this.items[i][a]/2&&(c=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,c=l?t():s.next(),u=o.next(),h={oldHeader:o,oldPanel:u,newHeader:l?t():s,newPanel:c};e.preventDefault(),a&&!r.collapsible||this._trigger("beforeActivate",e,h)===!1||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||u.easing,o=o||h.duration||u.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,d):t.animate(this.showProps,o,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),
this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var a=(t.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(e["_"+i+"Options"]&&(s=e["_"+i+"Options"]("middle")),e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o?o:r[i]("instance")),n.push(l[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(t){var r=n.options.classes[t]||"";r=r.replace(a,"").trim(),i[t]=(r+" "+e[t]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,i="input[name='"+t.ui.escapeSelector(n)+"']";return n?(e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e)return this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;t.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},
_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var s=o.offset.left-n.document.scrollLeft(),a=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:s,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var s=n.uiDialog.offset(),a=s.left-n.document.scrollLeft(),l=s.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);n!==-1&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||n===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",s=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)s.push(o);this.handles=r.add(t(s.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,c,u=this,h=this.options;return!h.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===h.min))&&(r=n,o=t(this),s=e)}),a=this._start(e,s),a!==!1&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),s=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(n=0===e?Math.min(r,n):Math.max(r,n)),s[e]=n),n!==o&&(i=this._trigger("slide",t,this._uiHash(e,n,s)),i!==!1&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e,t>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o,s=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,s),n===!1))return}switch(o=this.options.step,i=r=this._hasMultipleValues()?this.values(s):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,s,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}});t.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){
var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):("max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:n(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:n(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:n(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:n(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:n(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void n(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner;t.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!n&&0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;t.inArray(i(),this.options.disabled)!==-1;)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),c=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,s=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(s=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+s,o=e.element.find(r),o.length||(o=e._createPanel(s),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),e===!0||t.inArray(r,e)!==-1?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),s=o[0]===i[0],a=s&&n.collapsible,l=a?t():this._getPanelForTab(o),c=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:c,newTab:a?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||s&&!n.collapsible||this._trigger("beforeActivate",e,u)===!1||(n.active=!a&&this.tabs.index(o),this.active=s?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,u))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&o.options.show?o._show(s,o.options.show,i):(s.show(),i())}var o=this,s=n.newPanel,a=n.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),r()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&a.length?n.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),t.inArray(e,n)!==-1)return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;t.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);r!==-1&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){c.of=t,s.is(":hidden")||s.position(c)}var o,s,a,l,c=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),s=o.tooltip,this._addDescribedBy(n,s.attr("id")),s.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=t("<div>").html(s.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:n},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(c.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});var l=(t.ui.tooltip,"ui-effects-"),c="ui-effects-style",u="ui-effects-animated",h=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=h[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=c(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=n[l](a),n[u[l].cache]=o[u[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(u,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(r,s,a,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(s),s=e);var h=this,d=t.type(r),p=this._rgba=[];return s!==e&&(r=[r,s,a,l],d="array"),"string"===d?this.parse(i(r)||o._default):"array"===d?(f(u.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===d?(r instanceof c?f(u,function(t,e){r[e.cache]&&(h[e.cache]=r[e.cache].slice())}):f(u,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!h[o]&&i.to){if("alpha"===t||null==r[t])return;h[o]=i.to(h._rgba)}h[o][e.idx]=n(r[t],e,!0)}),h[o]&&t.inArray(null,h[o].slice(0,3))<0&&(h[o][3]=1,i.from&&(h._rgba=i.from(h[o])))}),this):void 0},is:function(t){var e=c(t),n=!0,i=this;return f(u,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return f(u,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=c(t),r=i._space(),o=u[r],s=0===this.alpha()?c("transparent"):this,a=s[o.cache]||o.to(s._rgba),l=a.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,s=a[o],c=i[o],u=h[r.type]||{};null!==c&&(null===s?l[o]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),l[o]=n((c-s)*e+s,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=c(e)._rgba;return c(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),c=a-l,u=a+l,h=.5*u;return e=l===a?0:i===a?60*(r-o)/c+360:r===a?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(e)%360,n,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],s=i<=.5?i*(1+n):i+n-i*n,a=2*i-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},f(u,function(i,r){var o=r.props,s=r.cache,l=r.to,u=r.from;c.fn[i]=function(i){if(l&&!this[s]&&(this[s]=l(this._rgba)),i===e)return this[s].slice();var r,a=t.type(i),h="array"===a||"object"===a?i:arguments,d=this[s].slice();return f(o,function(t,e){var i=h["object"===a?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=n(i,e)}),u?(r=c(u(d)),r[s]=d,r):c(d)},f(o,function(e,n){c.fn[e]||(c.fn[e]=function(r){var o,s=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),u=c[n.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=t.type(r)),null==r&&n.empty?this:("string"===s&&(o=a.exec(r),o&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1))),c[n.idx]=r,this[l](c)))})})}),c.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=c(o||r),!d.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=c(e.elem,n),e.end=c(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(h),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,s={};for(i in n)o=n[i],e[i]!==o&&(r[i]||!t.fx.step[i]&&isNaN(parseFloat(o))||(s[i]=o));return s}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(h.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",c=l.children?s.find("*").addBack():s;c=c.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),c=c.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),s.attr("class",a),c=c.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(u)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(l+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(l+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show();
},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.0",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(c,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(c)||"",t.removeData(c)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(l+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=l+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){a.removeData(u),t.effects.cleanUp(a),"hide"===i.mode&&a.hide(),s()}function s(){t.isFunction(l)&&l.call(a[0]),t.isFunction(e)&&e()}var a=t(this);i.mode=h.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(a[c](),s()):r.call(a[0],i,n):(a.is(":hidden")?"hide"===c:"show"===c)?(a[c](),s()):r.call(a[0],i,s)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,s=i.queue,a=s||"fx",l=i.complete,c=i.mode,h=[],d=function(e){var n=t(this),i=t.effects.mode(n,c)||o;n.data(u,!0),h.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?c?this[c](i.duration,l):this.each(function(){l&&l.call(this)}):s===!1?this.each(d).each(n):this.queue(a,d).queue(a,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,c=r.offset(),u={top:c.top-a,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}();var d,d=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,c="show"===a,u=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(c||l?1:0),f=e.duration/p,g=e.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=0,b=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,f,g)),l&&(h/=Math.pow(2,d-1)),r={},r[m]=o;y<d;y++)i={},i[m]=(v?"-=":"+=")+h,s.animate(i,f,g).animate(r,f,g),h=l?2*h:h/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+h,s.animate(i,f,g)),s.queue(n),t.effects.unshift(s,b,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,c=a||"vertical"===s;i=o.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"-=":"+=",u="+="===c?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,h[l]=c+i,s&&(r.css(h),h[l]=u+i,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===h*d&&r()}function r(){p.css({visibility:"visible"}),t(b).remove(),n()}var o,s,a,l,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/h),b=[];for(o=0;o<h;o++)for(l=m.top+o*y,u=o-(h-1)/2,s=0;s<d;s++)a=m.left+s*v,c=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?c*v:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:c*v),top:l+(g?0:u*y),opacity:g?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),c=!!e.horizFirst,u=c?["right","bottom"]:["bottom","right"],h=e.duration/2,d=t.effects.createPlaceholder(i),p=i.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[u[0]],p[u[1]]],v=i.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]),f.clip[u[0]]=a,g.clip[u[0]]=a,g.clip[u[1]]=0,o&&(i.cssClip(g.clip),d&&d.css(t.effects.clipToBox(g)),g.clip=p),i.queue(function(n){d&&d.animate(t.effects.clipToBox(f),h,e.easing).animate(t.effects.clipToBox(g),h,e.easing),n()}).animate(f,h,e.easing).animate(g,h,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=e.mode,h="effect"!==u,d=e.scale||"both",p=e.origin||["middle","center"],f=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===u&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==d&&"both"!==d||(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,c,r.from.x,v),y=t.effects.setTransition(s,c,r.to.x,y))),"content"!==d&&"both"!==d||r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),"content"!==d&&"both"!==d||(l=l.concat(["marginTop","marginBottom"]).concat(a),c=c.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,c,r.from.x,o),s=t.effects.setTransition(n,c,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,h=1,d=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),u=1);h<l;h++)i.animate({opacity:u},c,e.easing),u=1-u;i.animate({opacity:u},c,e.easing),i.queue(n),t.effects.unshift(i,d,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,c=Math.round(e.duration/l),u="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,d={},p={},f={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[u]=(h?"-=":"+=")+s,p[u]=(h?"+=":"-=")+2*s,f[u]=(h?"-=":"+=")+2*s,r.animate(d,c,e.easing);i<a;i++)r.animate(p,c,e.easing).animate(f,c,e.easing);r.animate(p,c,e.easing).animate(d,c/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h=e.distance||o["top"===c?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[c],d[c]=(u?-1:1)*h+r,d.clip=o.cssClip(),d.clip[s[l][1]]=d.clip[s[l][0]],"show"===a&&(o.cssClip(d.clip),o.css(c,d[c]),d.clip=i,d[c]=r),o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});t.uiBackCompat!==!1&&(d=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}))})},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="graphs-home"><a>Home</a></li><li class="active"><span>Graphs</span></li></ol></div></div><div class="row"><div class="col-xs-12"><div id="logs-graphs-view"></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;h=n(49),i=n(11),s=n(13),o=n(136),l=n(138),d=n(141),n(23),u=function(t,e){var n,r;return r=[],n=[],e.each(function(t){var e;return e=h(t.get("date")).valueOf(),r.push({id:e,x:e,y:t.get("weight")}),n.push({id:e,x:e,y:t.get("rep")})}),new i.Model({exerciseID:t.id,name:t.get("name"),weightData:_.sortBy(r,function(t){return t.x}),repData:_.sortBy(n,function(t){return t.x}),muscle:t.get("muscle"),user:t.get("user")})},a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.idAttribute="exerciseID",e.prototype.defaults={date:new Date,exerciseID:"",name:"",weightData:[],repData:[]},e}(i.Model),r=function(t){function e(t,n){e.__super__.constructor.apply(this,arguments),this.url="/api/strengths/"+n._id+"/log"}return p(e,t),e.prototype.model=a,e}(i.Collection),c=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"sConf"),this.rootChannel=i.Radio.channel("root"),this.model=u(this.sConf,this.collection)}return p(e,t),e.prototype.template=d,e.prototype.regions={graph:"#log-graph-view",table:"#log-table-view"},e.prototype.events={"click #graph-home":function(){this.rootChannel.request("home")},"click #graph-graphs":function(){this.rootChannel.request("logs")},"click .log-table-edit":function(){this.rootChannel.request("strength:detail",this.model.get("exerciseID"))}},e.prototype.bindings={"#log-title":"name"},e.prototype.onRender=function(){this.stickit()},e.prototype.onShow=function(){this.showChildView("table",new l.View({model:new l.Model,chartModel:this.model})),this.showChildView("graph",new o({model:this.model}))},e}(s.LayoutView),t.exports.Model=a,t.exports.Collection=r,t.exports.View=c},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f=function(t,e){function n(){this.constructor=t}for(var i in e)g.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},g={}.hasOwnProperty;i=n(2),r=n(11),a=n(13),o=n(109),s=n(5),p=n(137),h=function(t,e,n){var i;return i={type:n,yAxis:0,shadow:!0},0===e?_.assign(i,{name:"Reps",data:t.get("repData"),color:"#46dbd4",lineColor:"#65c2bd",marker:{enabled:!0,fillColor:"#65c2bd",radius:6}}):_.assign(i,{name:"Weights",data:t.get("weightData"),tooltip:{valueSuffix:" lb"},color:"#00ffa4",lineColor:"#00B272",marker:{enabled:!0,fillColor:"#00B272",radius:6}})},c=function(t){return _.mean(_.map(t,function(t){return t.y}))},u=function(t,e){return{value:e,width:2,color:"red",dashStyle:"shortdash",zIndex:5,label:{text:"",float:!0,align:"left",x:5,style:{fontWeight:"bold",color:"grey"}}}},d=function(t){var e;e=this.chart,"syncExtremes"!==t.trigger&&o.each(o.charts,function(n){n!==e&&n.xAxis[0].setExtremes&&n.xAxis[0].setExtremes(t.min,t.max,void 0,!1,{trigger:"syncExtremes"})})},l=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=r.Radio.channel("root"),this.charts=[]}return f(e,t),e.prototype.template=p,e.prototype.ui={container:"#strength-log-graph-container",chartWeight:"#strength-log-graph-weight",chartRep:"#strength-log-graph-rep"},e.prototype.addChart=function(t,e,n){var i,r,o,a,l;a=e.get("name"),l=0===n?"Reps":"Weights",i=new s.StockChart({chart:{renderTo:t,height:300,spacingBottom:5,spacingTop:0,spacingLeft:-10,spacingRight:10,plotBorderColor:"#b2b2b2",plotBorderWidth:2,panning:!1},title:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{lineWidth:2,crosshair:!0,events:{setExtremes:d}},yAxis:[{lineWidth:1,opposite:!1,crosshair:!0,title:{text:l,style:{fontWeight:"bold",fontSize:14}}}],plotOptions:{column:{dataLabels:{enabled:!0,color:"gray"}}},tooltip:{shared:!1,style:{fontSize:"15px",fontWeight:"bold"},valueDecimals:0},series:[h(e,n,"column"),h(e,n,"line")],credits:{enabled:!1}}),r=0===n?e.get("repData"):e.get("weightData"),o=_.round(c(r),1),i.yAxis[0].addPlotLine(u("Average: "+o,o)),i.reflow(),this.charts.push(i)},e.prototype.onShow=function(){this.addChart(this.ui.chartRep[0],this.model,0),this.addChart(this.ui.chartWeight[0],this.model,1),this.ui.container.bind("mousemove touchmove touchstart",function(t){return function(e){var n,i,r,o,s,a,l,c,u,h;for(n=void 0,c=void 0,i=void 0,u=t.charts,o=r=0,a=u.length;r<a;o=++r)if(n=u[o],n=t.charts[o],i=n.pointer.normalize(e.originalEvent),c=n.series[0].searchPoint(i,!0))for(h=t.charts,s=0,l=h.length;s<l;s++)n=h[s],c=n.get(c.x),n.xAxis[0].drawCrosshair(i,c),n.tooltip.refresh(c,e)}}(this))},e}(a.ItemView),t.exports=l},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="strength-log-graph-container"><div id="strength-log-graph-rep"></div><div id="strength-log-graph-weight"></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;l=n(49),i=n(11),o=n(13),r=n(139),h=n(140),u=function(t,e){var n,i,r,o;for(r=[],n=0,i=t.length;n<i;n++)o=t[n],r.push(Math.pow(o-e,2));return _.sum(r)/(t.length-1)},c=function(t){return Math.sqrt(t)},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.defaults={name:"",exercise:"",muscle:0,weightMin:0,weightAvg:0,weightMax:0,weightSD:0,weightTotal:0,repMin:0,repAvg:0,repMax:0,repSD:0,repTotal:0},e}(i.Model),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"chartModel"),this.rootChannel=i.Radio.channel("root")}return d(e,t),e.prototype.template=h,e.prototype.ui={table:"#log-table"},e.prototype.bindings={"#log-table-name":"name","#log-table-muscle":{observe:"muscle",onGet:function(t){return _.find(r.Muscles,{value:t}).label}},"#log-table-date":{observe:"date",onGet:function(t){return l(t).format("MM/DD/YY")}},"#log-table-weight-max":{observe:"weightMax"},"#log-table-weight-min":{observe:"weightMin"},"#log-table-weight-avg":{observe:"weightAvg"},"#log-table-weight-sd":{observe:"weightSD",onGet:function(t){return t?t:"---"}},"#log-table-weight-total":{observe:"weightTotal"},"#log-table-rep-min":{observe:"repMin"},"#log-table-rep-max":{observe:"repMax"},"#log-table-rep-avg":{observe:"repAvg"},"#log-table-rep-sd":{observe:"repSD",onGet:function(t){return t?t:"---"}},"#log-table-rep-total":{observe:"repTotal"}},e.prototype.onRender=function(){this.stickit(),this.updateModel(this.chartModel)},e.prototype.updateModel=function(t){var e,n;n=this.reduce(t.get("weightData")),e=this.reduce(t.get("repData")),this.model.set({name:t.get("name"),exerciseID:t.id,muscle:t.get("muscle"),weightMin:n.min,weightMax:n.max,weightAvg:n.avg,weightSD:n.sd,weightTotal:n.total,repMin:e.min,repMax:e.max,repAvg:e.avg,repSD:e.sd,repTotal:e.total})},e.prototype.reduce=function(t){var e,n;return n=_.map(t,function(t){return t.y}),e=c(u(n,_.mean(n))),{min:this.min(n),max:this.max(n),avg:this.avg(n),total:n.length,sd:_.round(e,2)}},e.prototype.min=function(t){return _.round(_.min(t),2)},e.prototype.max=function(t){return _.round(_.max(t),2)},e.prototype.avg=function(t){return _.round(_.mean(t),2)},e}(o.ItemView),t.exports.Model=s,t.exports.View=a},function(t,e){var n;n=[{value:0,label:"Abdominals"},{value:1,label:"Arms"},{value:2,label:"Back"},{value:3,label:"Biceps"},{value:4,label:"Calves"},{value:5,label:"Chest"},{value:6,label:"Forearms"},{value:7,label:"Glutes"},{value:8,label:"Hamstrings"},{value:9,label:"Lats"},{value:10,label:"Legs"},{value:11,label:"Neck"},{value:12,label:"Quadriceps"},{value:13,label:"Shoulders"},{value:14,label:"Traps"},{value:15,label:"Triceps"}],e.Muscles=n},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><table id="log-table" class="table table-striped table-hover table-condensed table-responsive"><thead><tr><th></th><th><b>Weight(lb)</b></th><th><b>Rep</b></th></tr></thead><tbody><tr><td>Maximum</td><td id="log-table-weight-max"></td><td id="log-table-rep-max"></td></tr><tr><td>Average</td><td id="log-table-weight-avg"></td><td id="log-table-rep-avg"></td></tr><tr><td>Minimum</td><td id="log-table-weight-min"></td><td id="log-table-rep-min"></td></tr><tr><td>Standard Deviation</td><td id="log-table-weight-sd"></td><td id="log-table-rep-sd"></td></tr><tr><td>Total Count</td><td id="log-table-weight-total"></td><td id="log-table-rep-total"></td></tr></tbody></table></div></div>'),e.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="graph-home"><a>Home</a></li><li id="graph-graphs"><a>Graphs</a></li><li class="active"><span>Data</span></li></ol></div></div><div class="row"><div class="col-md-6"><div class="panel panel-info"><div id="log-title" class="panel-heading clearfix"></div><div class="panel-body"><div id="log-graph-view"></div></div><div class="panel-footer clearfix"><a class="pull-right log-table-edit">'+i.escape(null==(e=" ")?"":e)+'<i class="fa fa-lg fa-pencil-square-o"></i></a></div></div></div><div class="col-md-6"><div class="panel panel-info"><div class="panel-heading clearfix">Summary</div><div class="panel-body"><div id="log-table-view"></div></div><div class="panel-footer clearfix"><a class="pull-right log-table-edit">'+i.escape(null==(e=" ")?"":e)+'<i class="fa fa-lg fa-pencil-square-o"></i></a></div></div></div></div>'),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g,m,v,y=function(t,e){function n(){this.constructor=t}for(var i in e)b.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},b={}.hasOwnProperty;g=n(3),m=n(49),r=n(11),h=n(16),c=n(13),i=n(143),a=n(145),p=n(147),l=n(151),d=n(153),o=n(155),v=n(157),u=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return y(e,t),e.prototype.urlRoot="/api/wlogs",e.prototype.idAttribute="_id",e}(r.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.url="/api/wlogs"}return y(e,t),e.prototype.model=u,e.prototype.comparator="date",e}(r.Collection),f=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=r.Radio.channel("root"),this.dateModel=new a.Model,this.channel=new h.channel(this.cid),this.channel.reply({add:function(t){return function(){t.addWeight({date:t.dateModel.get("date")})}}(this)}),this.pageableCollection=new p.Collection(this.collection.models),this.updatePageableCollection(),this.summaryModel=new d.Model({},{wLogs:this.collection}),this.listenTo(this.dateModel,"change:date",function(t){return function(){t.updatePageableCollection()}}(this))}return y(e,t),e.prototype.template=v,e.prototype.ui={add:"#weight-detail-add"},e.prototype.regions={modal:"#weight-modal-view",date:"#weight-date-view",table:"#weight-table-view",graph:"#weight-graph-view",summary:"#weight-summary-view",calendar:"#weight-calendar-view"},e.prototype.events={"click #weight-home":function(){this.rootChannel.request("home")},"click #weight-detail-add":function(){this.channel.request("add")},"click .weight-body-btn":function(){this.rootChannel.request("body")}},e.prototype.collectionEvents={"sync update":function(){this.updatePageableCollection(),this.summaryModel.update(this.collection),this.showCalendar(),this.updateViews()}},e.prototype.modelEvents={sync:function(t){this.summaryModel.update(this.collection),this.updateViews()}},e.prototype.onShow=function(){this.showChildView("date",new a.View({model:this.dateModel})),this.showChildView("table",new p.View({collection:this.pageableCollection,channel:this.channel})),this.showCalendar(),r.Radio.channel("user").request("isOwner")||this.ui.add.hide(),this.updateViews()},e.prototype.updateViews=function(){this.showChildView("graph",new l({sLogs:this.collection})),this.showChildView("summary",new d.View({model:this.summaryModel}))},e.prototype.showCalendar=function(){this.showChildView("calendar",new o({collection:this.collection}))},e.prototype.addWeight=function(){this.showChildView("modal",new i.View({collection:this.collection,model:new i.Model,date:this.dateModel.get("date")}))},e.prototype.updatePageableCollection=function(){var t;t=this.collection.filter(function(t){return function(e){var n,i;return n=m(e.get("date")).startOf("day"),i=m(t.dateModel.get("date")).startOf("day"),n.isSame(i)}}(this)),this.pageableCollection.reset(t)},e.prototype.onDestroy=function(){this.channel.reset()},e}(c.LayoutView),t.exports.Model=u,t.exports.Collection=s,t.exports.View=f},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;a=n(3),l=n(49),i=n(11),r=n(13),c=n(144),n(97),n(23),n(51),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.url="/api/wlogs",e.prototype.idAttribute="_id",e.prototype.defaults={date:l(),weight:null,note:""},e}(i.Model),s=function(t){function e(t){var n,r;e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.model.set("date",l()),this.collection.length&&(n=this.collection.at(this.collection.length-1),this.model.set("weight",n.get("weight"))),r=i.Radio.channel("user").request("user"),this.model.get("body")&&this.model.set("weight",r.get("weight"))}return u(e,t),e.prototype.template=c,e.prototype.ui={dialog:".modal",weight:"#weight-modal-weight",submit:"#weight-modal-submit",date:"#weight-modal-date",time:"#weight-modal-time"},e.prototype.bindings={"#weight-modal-timestamp":{observe:"date",onGet:function(t){return l(t).format("YYYY/MM/DD - HH:mm:ss a")}},"#weight-modal-weight":{observe:"weight",onSet:function(t){return parseFloat(t)}},"#weight-modal-note":"note"},e.prototype.events={"click #weight-modal-exercise":function(){this.rootChannel.request("exercise")},submit:function(t){t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.set({date:this.ui.date.data("DateTimePicker").date().format()}),this.model.save({},{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),t.collection.add(e.attributes),t.ui.dialog.modal("hide")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})},"hidden.bs.modal":function(){this.ui.weight.TouchSpin("destroy"),this.ui.date.data("DateTimePicker").destroy(),this.unstickit()}},e.prototype.onRender=function(){var t;t=this.model.get("date"),this.ui.weight.TouchSpin({postfix:"pounds",buttondown_class:"btn btn-info",buttonup_class:"btn btn-info",min:1,max:99999,step:.1,decimals:1}),this.ui.date.datetimepicker({inline:!0,sideBySide:!1,minDate:l(t).subtract(1,"years"),maxDate:l(t).add(1,"years"),defaultDate:l(t)}),this.stickit(),this.ui.dialog.modal()},e.prototype.onBeforeDestroy=function(){$(".modal-backdrop").remove(),$("body").removeClass("modal-open"),this.unstickit()},e}(r.ItemView),t.exports.Model=o,t.exports.View=s},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div role="dialog" class="modal fade"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" data-dismiss="modal" class="close">×</button><h4 class="modal-title">Add a new session</h4></div><div class="modal-body"><form class="form-horizontal"><!-- Nav tabs--><ul role="tablist" class="nav nav-tabs"><li role="presentation" class="active"><a href="#weight-modal-basic" aria-controls="basic" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-pencil"></i>'+i.escape(null==(e=" ")?"":e)+'Basic</a></li><li role="presentation"><a href="#weight-modal-advance" aria-controls="advance" role="tab" data-toggle="tab"><i class="fa fa-fw fa-lg fa-cogs"></i>'+i.escape(null==(e=" ")?"":e)+'Optional</a></li></ul><br><!-- Tab panes--><div class="tab-content"><!-- Basic--><div id="weight-modal-basic" role="tabpanel" class="tab-pane active"><div class="form-group"><div class="col-xs-12"><label class="control-label">Timestamp</label></div><div class="col-xs-12"><p id="weight-modal-timestamp" class="form-control-static"></p></div></div><div class="form-group"><div class="col-xs-12"><label class="control-label">Weight</label></div><div class="col-xs-12"><input id="weight-modal-weight" type="number" step="0.1" placeholder="0" required class="form-control"></div></div><hr><div class="form-group"><div class="pull-right"><div class="col-xs-12"><button data-dismiss="modal" type="button" class="btn btn-default btn-lg">Cancel</button>'+i.escape(null==(e=" ")?"":e)+'<button type="submit" class="btn btn-primary btn-lg"><i class="fa fa-fw fa-lg fa-save"></i>'+i.escape(null==(e=" ")?"":e)+'<span>save</span></button></div></div></div></div><!-- Advance--><div id="weight-modal-advance" role="tabpanel" class="tab-pane"><div class="form-group"><div class="col-xs-12"><div style="overflow:hidden;"><div class="form-group"><div class="row"><div class="col-xs-12"><div id="weight-modal-date"></div></div></div></div></div></div></div><div class="form-group"><div class="col-xs-12"><label for="weight-modal-note" class="control-label">Note</label></div><div class="col-xs-12"><textarea id="weight-modal-note" class="form-control"></textarea></div></div></div></div></form></div></div></div></div>'),n.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;s=n(49),i=n(13),a=n(146),n(51),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.defaults={date:new Date},e}(Backbone.Model),
o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.template=a,e.prototype.ui={date:"#weight-date-datepicker",prev:"#weight-date-prev",next:"#weight-date-next"},e.prototype.events={"click @ui.prev":function(){var t,e;t=this.model.get("date"),e=s(t).subtract(1,"days"),this.model.set("date",e),this.ui.date.data("DateTimePicker").date(e)},"click @ui.next":function(){var t,e;t=this.model.get("date"),e=s(t).add(1,"days"),this.model.set("date",e),this.ui.date.data("DateTimePicker").date(e)}},e.prototype.onRender=function(){this.ui.date.datetimepicker({viewMode:"days",format:"YYYY-MM-DD",minDate:s().subtract(100,"years"),maxDate:s().add(1,"years"),defaultDate:s(),widgetPositioning:{vertical:"bottom"},ignoreReadonly:!0}),this.ui.date.on("dp.change",function(t){return function(){t.model.set("date",t.ui.date.data("DateTimePicker").date())}}(this))},e.prototype.onBeforeDestroy=function(){this.ui.date.data("DateTimePicker").destroy()},e}(i.ItemView),e.Model=r,e.View=o},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="input-group"><span class="input-group-btn"><button id="weight-date-prev" class="btn btn-info date-navigate-btn"><i class="fa fa-lg fa-caret-left"></i></button></span><input id="weight-date-datepicker" type="text" readonly class="form-control"><span class="input-group-btn"><button id="weight-date-next" class="btn btn-info date-navigate-btn"><i class="fa fa-lg fa-caret-right"></i></button></span></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p,f,g=function(t,e){function n(){this.constructor=t}for(var i in e)m.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;u=n(3),d=n(49),i=n(11),s=n(13),p=n(148),h=n(149),f=n(150),n(88),n(23),a=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype.url="/api/wlogs",e.prototype.idAttribute="_id",e}(i.Model),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype.model=a,e}(i.Collection),l=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel")}return g(e,t),e.prototype.tagName="tr",e.prototype.template=p,e.prototype.events={click:function(){this.channel.request("add")}},e}(s.ItemView),o=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return g(e,t),e.prototype.tagName="tr",e.prototype.template=h,e.prototype.bindings={".strength-table-td-time":{observe:"date",onGet:function(t){return d(t).format("HH:mm a")}},".strength-table-td-weight":"weight"},e.prototype.events={"click .strength-table-td-remove":function(){this.model.urlRoot="/api/wlogs",this.model.destroy({wait:!0})}},e.prototype.onRender=function(){this.stickit()},e.prototype.onBeforeDestroy=function(){this.unstickit()},e}(s.ItemView),c=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.mergeOptions(t,"channel")}return g(e,t),e.prototype.childViewContainer="tbody",e.prototype.childView=o,e.prototype.emptyView=l,e.prototype.template=f,e.prototype.childViewOptions=function(){return{channel:this.channel}},e}(s.CompositeView),t.exports.Model=a,t.exports.Collection=r,t.exports.View=c},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td colspan="3" style="text-align:center;"><span class="lead">No entry on this date.</span></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td style="text-align:center;" class="strength-table-td-remove"><i class="fa fa-fw fa-lg fa-times-circle"></i></td><td class="strength-table-td-time"></td><td class="strength-table-td-weight"></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><table class="table table-condensed table-hover"><thead><tr><td class="col-xs-1"></td><td><b>Time</b></td><td><b>Weight(lb)</b></td></tr></thead><tbody></tbody></table></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d,p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;c=n(49),i=n(11),o=n(13),r=n(5),d=n(152),a=function(t){var e;return e=[],t.each(function(t){var n;return n=c(t.get("date")).valueOf(),e.push({id:n,x:n,y:t.get("weight")})}),new i.Model({data:_.sortBy(e,function(t){return t.x})})},h=function(t,e){return{type:e,yAxis:0,shadow:!0,data:t.get("data"),name:"Weights",tooltip:{valueSuffix:" lb"},color:"#00ffa4",lineColor:"#00B272",marker:{enabled:!0,fillColor:"#00B272",radius:6}}},l=function(t){return _.mean(_.map(t,function(t){return t.y}))},u=function(t){return{value:t,width:2,color:"red",dashStyle:"shortdash",zIndex:5,label:{text:"",float:!0,align:"left",x:5}}},s=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root"),this.model=a(this.options.sLogs)}return p(e,t),e.prototype.template=d,e.prototype.ui={chart:"#body-graph-chart"},e.prototype.onShow=function(){var t,e,n;e=this.model.get("data"),t=new r.StockChart({chart:{renderTo:this.ui.chart[0],height:190,spacingBottom:5,spacingTop:0,spacingLeft:5,spacingRight:0,plotBorderColor:"#b2b2b2",plotBorderWidth:2,panning:!1},title:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},xAxis:{lineWidth:2,crosshair:!0},yAxis:[{lineWidth:1,opposite:!1,crosshair:!0,title:{enabled:!1},min:this.min(e),max:this.max(e)}],plotOptions:{column:{dataLabels:{enabled:!0,color:"gray"}}},tooltip:{shared:!1,style:{fontSize:"15px",fontWeight:"bold"},valueDecimals:0,formatter:function(){return'<span style="color: lightseagreen">'+c(this.x).format("DD MMM")+": </span>"+this.y}},series:[h(this.model,"column"),h(this.model,"line")],credits:{enabled:!1}}),n=_.round(l(this.model.get("data")),1),t.yAxis[0].addPlotLine(u(n)),t.reflow()},e.prototype.min=function(t){return _.min(_.map(t,function(t){return t.y}))},e.prototype.max=function(t){return _.max(_.map(t,function(t){return t.y}))},e}(o.ItemView),t.exports=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="body-graph-chart"></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var i in e)f.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},f={}.hasOwnProperty;a=n(3),u=n(49),i=n(11),r=n(13),h=n(154),n(23),l=function(t){var e;return e=a.minBy(t.models,function(t){return t.get("date")}),e.get("date")},c=function(t){return a.maxBy(t.models,function(t){return t.get("date")})},o=function(t){function e(t,n){this.update=d(this.update,this),e.__super__.constructor.apply(this,arguments),this.update(n.wLogs)}return p(e,t),e.prototype.idAttribute="_id",e.prototype.defaults={weight:0,count:0,first:new Date,last:new Date},e.prototype.update=function(t){var e;e=c(t),this.set({count:t.length,firstDate:t.length?l(t):null,lastDate:t.length?e.get("date"):null,currentWeight:e?e.get("weight"):null})},e}(i.Model),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.userChannel=i.Radio.channel("user").request("user")}return p(e,t),e.prototype.template=h,e.prototype.bindings={"#body-summary-count":"count","#body-summary-first":{observe:"firstDate",onGet:function(t){return null===t?"---":u(t).format("ddd YYYY/MM/DD")}},"#body-summary-last":{observe:"lastDate",onGet:function(t){return null===t?"---":u(t).format("ddd YYYY/MM/DD")}},"#body-summary-current-weight":{observe:"currentWeight",onGet:function(t){return t+" lb"}},"#body-summary-bmi":{observe:"currentWeight",onGet:function(t){var e,n,i,r;switch(n=this.userChannel.get("height"),r=t,e=a.round(r/(n*n)*703,2),i="",!1){case!(e<18.5):i="Underweight";break;case!(18.5<e&&e<=24.9):i="Normal Weight";break;case!(24.9<e&&e<=29.9):i="Overweight";break;default:i="Overweight"}return e+" ("+i+")"}}},e.prototype.onRender=function(){this.stickit(this.model)},e}(r.LayoutView),t.exports.Model=o,t.exports.View=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><form id="body-summary-form" class="form-horizontal"><div class="form-group"><label for="body-summary-count" class="col-sm-6 control-label">Count</label><div class="col-sm-6"><p id="body-summary-count" class="form-control-static"></p></div></div><div class="form-group"><label for="body-summary-first" class="col-sm-6 control-label">First Entry</label><div class="col-sm-6"><p id="body-summary-first" class="form-control-static"></p></div></div><div class="form-group"><label for="body-summary-last" class="col-sm-6 control-label">Last Entry</label><div class="col-sm-6"><p id="body-summary-last" class="form-control-static"></p></div></div><div class="form-group"><label for="body-summary-current-weight" class="col-sm-6 control-label">Current Weight</label><div class="col-sm-6"><p id="body-summary-current-weight" class="form-control-static"></p></div></div><div class="form-group"><label for="body-summary-bmi" class="col-sm-6 control-label">BMI</label><div class="col-sm-6"><p id="body-summary-bmi" class="form-control-static"></p></div></div></form></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=n(49),i=n(13),s=n(156),n(123),r=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=Backbone.Radio.channel("root")}return a(e,t),e.prototype.template=s,e.prototype.ui={calendar:"#weight-calendar-ui"},e.prototype.onRender=function(){var t;t=_.map(this.collection.models,function(t){return o(t.get("date")).startOf("day").format()}),this.ui.calendar.datepicker({beforeShowDay:function(e){var n;return n=_.indexOf(t,o(e).startOf("day").format()),{enabled:n!==-1,classes:n!==-1?"weight-calendar-td":"",tooltip:""}}})},e}(i.ItemView),t.exports=r},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div id="weight-calendar-ui"></div>'),e.join("")}},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div id="weight-modal-view"></div><div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="weight-home"><a>Home</a></li><li class="active"><span>Weight</span><i class="fa fa-fw fa-lg fa-tachometer"></i></li></ol></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading clearfix"><div class="pull-right"><button id="weight-detail-add" class="btn btn-xs btn-primary"><i class="fa fa-fw fa-plus"></i>'+i.escape(null==(e=" ")?"":e)+'<span>Add</span></button></div><h3 class="panel-title">Weight</h3></div><div class="panel-body"><div id="weight-date-view"></div></div><div id="weight-table-view"></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading clearfix"><h3 class="panel-title">Entry Calendar</h3></div><div class="panel-body"><div id="weight-calendar-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Progress</h3></div><div class="panel-body"><div id="weight-graph-view"></div></div></div></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Summary</h3></div><div class="panel-body"><div id="weight-summary-view"></div></div></div></div></div>'),n.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;c=n(60),r=n(11),o=n(13),i=n(159),s=n(165),l=n(142),a=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.navChannel=r.Radio.channel("nav"),this.rootChannel=r.Radio.channel("root"),this.rootView=this.rootChannel.request("rootview"),this.rootChannel.reply({account:function(t){return function(){t.rootChannel.request("navigate","account"),t.account()}}(this),profile:function(t){return function(e){t.rootChannel.request("navigate","profile"),t.profile(e)}}(this)})}return u(e,t),e.prototype.routes={account:"account",profile:"profile"},e.prototype.account=function(){var t;this.navChannel.request("nav:main"),t=new i.Model,t.fetch({success:function(t){return function(e){t.rootView.content.show(new i.View({model:e}))}}(this),error:function(t){return function(e,n){t.rootChannel.request("message","danger","Error: "+n.responseText)}}(this)})},e.prototype.profile=function(t){this.navChannel.request("nav:main"),c.waterfall([function(t){var e;return e=new s.Model,e.fetch({success:function(e){return t(null,e)},error:function(e,n){return t(n)}})},function(t,e){var n;n=new l.Collection,n.fetch({success:function(n){return e(null,t,n)},error:function(t,n){return e(n)}})}],function(e){return function(n,i,r){return n?e.rootChannel.request("message:error",n):void e.rootView.content.show(new s.View({model:i,wLogs:r,isNew:t}))}}(this))},e}(o.AppRouter),t.exports=a},function(t,e,n){var i,r,o,s,a,l,c,u=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty;i=n(11),o=n(13),r=n(160),a=n(162),c=n(164),n(23),n(97),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return u(e,t),e.prototype.idAttribute="_id",e.prototype.urlRoot="/api/account",e.prototype.defaults={firstname:"",lastname:"",email:"",weight:null},e}(i.Model),l=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return u(e,t),e.prototype.template=c,e.prototype.regions={summary:"#account-summary"},e.prototype.events={"click #account-home":function(){this.rootChannel.request("home")}},e.prototype.onShow=function(){"local"===this.model.get("provider")?this.showChildView("summary",new r.View({model:this.model})):this.showChildView("summary",new a.View({model:this.model}))},e}(o.LayoutView),e.Model=s,e.View=l},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(49),i=n(11),r=n(13),l=n(161),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.idAttribute="_id",e}(i.Model),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.template=l,e.prototype.ui={body:"#account-summary-body"},e.prototype.bindings={"#account-summary-email":"email","#account-summary-username":"username"},e.prototype.onRender=function(){this.stickit(this.model)},e}(r.LayoutView),t.exports.Model=o,t.exports.View=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><form id="account-summary-form" class="form-horizontal"><div class="form-group"><label for="account-summary-username" class="col-sm-6 control-label">Username</label><div class="col-sm-6"><p id="account-summary-username" class="form-control-static"></p></div></div><div class="form-group"><label for="account-summary-email" class="col-sm-6 control-label">Email</label><div class="col-sm-6"><p id="account-summary-email" class="form-control-static"></p></div></div></form></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c=function(t,e){function n(){this.constructor=t}for(var i in e)u.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;a=n(49),i=n(11),r=n(13),l=n(163),n(23),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.idAttribute="_id",e}(i.Model),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return c(e,t),e.prototype.template=l,e.prototype.ui={body:"#account-summary-body"},e.prototype.bindings={"#account-summary-provider":"provider"},e.prototype.onRender=function(){this.stickit(this.model)},e}(r.LayoutView),t.exports.Model=o,t.exports.View=s},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-sm-12"><form id="account-summary-form" class="form-horizontal"><div class="form-group"><label for="account-summary-provider" class="col-sm-6 control-label">Provider</label><div class="col-sm-6"><p id="account-summary-provider" class="form-control-static"></p></div></div></form></div></div>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="account-home"><a>Home</a></li><li class="active"><span>Account</span><i class="fa fa-fw fa-lg fa-user"></i></li></ol></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Account</h3></div><div class="panel-body"><div id="account-summary"></div></div></div></div></div>'),e.join("")}},function(t,e,n){var i,r,o,s,a,l,c,u,h,d=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;i=n(2),c=n(49),u=n(38),r=n(11),o=n(13),h=n(166),n(23),n(97),l=function(t){var e;return e=_.maxBy(t.models,function(t){return t.get("date")}),e.get("weight")},s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return d(e,t),e.prototype.idAttribute="_id",e.prototype.urlRoot="/api/account",e.prototype.defaults={firstname:"",lastname:"",email:"",height:0,weight:0,birthday:c()},e}(r.Model),a=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.rootChannel=r.Radio.channel("root"),this.mergeOptions(t,["wLogs","isNew"]),this.wLogs.length>0&&this.model.set("weight",l(this.wLogs))}return d(e,t),e.prototype.template=h,e.prototype.ui={height:"#profile-height",weight:"#profile-weight",gender:"#profile-gender",submit:"#profile-submit",birthday:"#profile-birthday"},e.prototype.bindings={"#profile-firstname":"firstname","#profile-lastname":"lastname","#profile-email":"email","#profile-password":"password","#profile-height":{observe:"height",onSet:function(t){return parseInt(t)}},"#profile-weight":{observe:"weight",onSet:function(t){return parseInt(t)}}},e.prototype.events={"click #profile-home":function(){this.rootChannel.request("home")},"change #profile-gender":function(){var t;t=i("#profile-gender input:checked").val(),this.model.set("gender",parseInt(t,10))},"click #profile-submit":function(t){return t.preventDefault(),this.rootChannel.request("spin:page:loader",!0),this.model.set("birthday",this.ui.birthday.data("DateTimePicker").date()),this.model.save(null,{success:function(t){return function(e){t.rootChannel.request("spin:page:loader",!1),u("Success!","Profile Updated. Your ready to go off and use all our features.","success")}}(this),error:function(t){return function(e,n){t.rootChannel.request("message:error",n)}}(this)})}},e.prototype.onRender=function(){r.Radio.channel("user").request("isOwner")||this.ui.submit.hide(),this.ui.height.TouchSpin({postfix:"inches",buttondown_class:"btn btn-info profile-weight-btn",buttonup_class:"btn btn-info profile-weight-btn",min:1,max:99999}),this.ui.weight.TouchSpin({postfix:"pounds",buttondown_class:"btn btn-info profile-weight-btn",buttonup_class:"btn btn-info profile-weight-btn",min:1,max:99999}),this.stickit()},e.prototype.onShow=function(){var t;this.ui.birthday.datetimepicker({viewMode:"years",format:"YYYY-MM-DD",minDate:c().subtract(100,"years"),maxDate:c(),widgetPositioning:{vertical:"top"},ignoreReadonly:!0}),this.ui.birthday.data("DateTimePicker").date(c(this.model.get("birthday"))),t=this.model.get("gender"),i("#profile-gender :radio[value="+t+"]").prop("checked",!0),this.isNew&&u("Hi new user! Lets get started. ","Please fill out these info correctly and click update. We'll use it for later calculations.")},e.prototype.onBeforeDestroy=function(){this.ui.birthday.data("DateTimePicker").destroy(),this.ui.height.TouchSpin("destroy"),this.ui.weight.TouchSpin("destroy"),this.unstickit()},e}(o.LayoutView),e.Model=s,e.View=a},function(t,e,n){var i=n(18);t.exports=function(t){var e,n=[];return n.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="profile-home"><a>Home</a></li><li class="active"><span>Profile</span><i class="fa fa-fw fa-lg fa-folder-open"></i></li></ol></div></div><div class="row"><div class="col-md-8 col-center"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Profile</h3></div><div class="panel-body"><form class="form-horizontal"><div class="form-group"><label for="profile-firstname" class="col-sm-2 control-label">First Name</label><div class="col-sm-10"><input id="profile-firstname" type="text" placeholder="First Name" name="firstname" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="2" maxlength="15" class="form-control"></div></div><div class="form-group"><label for="profile-lastname" class="col-sm-2 control-label">Last Name</label><div class="col-sm-10"><input id="profile-lastname" type="text" placeholder="Last Name" name="lastname" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" required minlength="2" maxlength="15" class="form-control"></div></div><div id="profile-gender" class="form-group"><label for="profile-gender" class="col-sm-2 control-label">Gender</label><div class="col-sm-10"><div class="radio radio-inline"><label><input type="radio" name="optradio" value="0">Female</label></div><div class="radio radio-inline"><label><input type="radio" name="optradio" value="1">Male</label></div></div></div><div id="profile-height-container" class="form-group"><label for="profile-height" class="col-sm-2 control-label">Height</label><div class="col-sm-10"><input id="profile-height" type="number" placeholder="0" required class="form-control"></div></div><div id="profile-weight-container" class="form-group"><label for="profile-weight" class="col-sm-2 control-label">Weight</label><div class="col-sm-10"><input id="profile-weight" type="number" placeholder="0" required class="form-control"></div></div><div class="form-group"><label for="profile-birthday" class="col-sm-2 control-label">Birthday</label><div class="col-sm-10"><div class="input-group date"><input id="profile-birthday" type="date" name="date" placeholder="yyyy-mm-dd" required class="form-control"><span class="input-group-addon"><span><i class="fa fa-fw fa-lg fa-birthday-cake"></i></span></span></div></div></div><div class="form-group"><div class="col-xs-12"><div class="pull-right"><button id="profile-submit" class="btn btn-lg btn-primary"><i class="fa fa-fw fa-lg fa-cloud-upload"></i>'+i.escape(null==(e=" ")?"":e)+"<span>Update</span></button></div></div></div></form></div></div></div></div>"),n.join("")}},function(t,e,n){var i,r,o,s,a,l=function(t,e){function n(){this.constructor=t}for(var i in e)c.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty;a=n(60),r=n(11),o=n(13),i=n(168),s=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.navChannel=r.Radio.channel("nav"),this.rootChannel=r.Radio.channel("root"),this.rootView=this.rootChannel.request("rootview"),this.rootChannel.reply({"admin:accounts":function(t){return function(){t.rootChannel.request("navigate","admin/accounts"),t.accounts()}}(this)})}return l(e,t),e.prototype.routes={"admin/accounts":"accounts"},e.prototype.accounts=function(){var t;this.navChannel.request("nav:main"),t=new i.Collection,t.fetch({success:function(t){return function(e){t.rootView.content.show(new i.View({collection:e}))}}(this),error:function(t){return function(e,n){t.rootChannel.request("message","danger","Error: "+n.responseText)}}(this)})},e}(o.AppRouter),t.exports=s},function(t,e,n){var i,r,o,s,a,l,c,u,h=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;c=n(49),i=n(11),s=n(13),l=n(169),u=n(170),n(23),n(97),r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.url="/admin/api/accounts",e.prototype.comparator=function(t){return-c(t.get("lastlogin")).utc()},e.prototype.parse=function(t){var e,n,i,r,o,s,a,l,c;for(o=[],r=t.users,n=0,i=r.length;n<i;n++)l=r[n],e={username:l.username,lastlogin:l.lastlogin,provider:l.provider,firstname:l.firstname,lastname:l.lastname},a=_.filter(t.sLogs,function(t){return t.user===l._id}),e.sLogs=a.length,s=_.filter(t.sConfs,function(t){return t.user===l._id}),e.sConfs=s.length,c=_.filter(t.wLogs,function(t){return t.user===l._id}),e.wLogs=c.length,o.push(e);return o},e}(i.Collection),o=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return h(e,t),e.prototype.tagName="tr",e.prototype.template=l,e.prototype.ui={index:".admin-account-index"},e.prototype.bindings={".admin-account-username":"username",".admin-account-provider":"provider",".admin-account-firstname":"firstname",".admin-account-lastname":"lastname",".admin-account-sconfs":"sConfs",".admin-account-slogs":"sLogs",".admin-account-wlogs":"wLogs",".admin-account-lastlogin":{observe:"lastlogin",onGet:function(t){return c(t).format("MM/DD - hh:mm a")}}},e.prototype.onRender=function(){this.ui.index.html(this._index+1),this.stickit()},e}(s.ItemView),a=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.rootChannel=i.Radio.channel("root")}return h(e,t),e.prototype.childViewContainer="tbody",e.prototype.childView=o,e.prototype.template=u,e.prototype.regions={summary:"#admin-summary"},e.prototype.events={"click #admin-home":function(){this.rootChannel.request("home")}},e}(s.CompositeView),e.Collection=r,e.View=a},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<td class="admin-account-index"></td><td class="admin-account-username"></td><td class="admin-account-firstname"></td><td class="admin-account-lastname"></td><td class="admin-account-provider"></td><td class="admin-account-lastlogin"></td><td class="admin-account-sconfs"></td><td class="admin-account-slogs"></td><td class="admin-account-wlogs"></td>'),e.join("")}},function(t,e,n){n(18);t.exports=function(t){var e=[];return e.push('<div class="row"><div class="col-xs-12"><ol style="margin-bottom: 5px;" class="breadcrumb"><li id="admin-home"><a>Home</a></li><li class="active"><span>Accounts</span><i class="fa fa-fw fa-lg fa-users"></i></li></ol></div></div><div class="row"><div class="col-xs-12"><div class="panel panel-default"><div class="panel-heading"><h3 class="panel-title">Accounts</h3></div><div class="panel-body"><div class="row"><div id="admin-accounts-table" class="col-sm-12"><table class="table table-striped table-hover table-condensed table-responsive"><thead><tr><th>#</th><th>Username</th><th>First Name</th><th>Last Name</th><th>Provider</th><th>Last Login</th><th>sConfs</th><th>sLogs</th><th>wLogs</th></tr></thead><tbody></tbody></table></div></div></div></div></div></div>'),e.join("")}},function(t,e,n){var i=n(2);if("undefined"==typeof i)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(i),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){s.detach().trigger("closed.bs.alert").remove()}var r=t(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=t("#"===o?[]:o);e&&e.preventDefault(),s.length||(s=r.closest(".alert")),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):s?r[s]():o.interval&&r.pause().cycle();
})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e),i="prev"==t&&0===n||"next"==t&&n==this.$items.length-1;if(i&&!this.options.wrap)return e;var r="prev"==t?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(e,r),s=this.interval,a="next"==e?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=t.Event("slide.bs.carousel",{relatedTarget:c,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,s&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:c,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,r.addClass(a),o.addClass(a),r.one("bsTransitionEnd",function(){o.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),s&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),r.data()),a=r.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(i),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof e&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[s](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();n.call(o,a)})}(i),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(r).remove(),t(o).each(function(){var i=t(this),r=e(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(r[0],n.target)||(r.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",o)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=e(r),s=o.hasClass("open");if(n(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var a={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=e(i),s=r.hasClass("open");if(!s&&27!=n.which||s&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var a=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+a);if(l.length){var c=l.index(n.target);38==n.which&&c>0&&c--,40==n.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(i),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](i):s.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&r;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var s=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",s).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):s()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,s,this)})}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),s=this.getUID(this.type);this.setContent(),o.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(c){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+d>f.bottom?"top":"top"==a&&u.top-d<f.top?"bottom":"right"==a&&u.right+h>f.width?"left":"left"==a&&u.left-h<f.left?"right":a,o.removeClass(p).addClass(a)}var g=this.getCalculatedOffset(a,u,h,d);this.applyPlacement(g,a);var m=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==t&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(n.TRANSITION_DURATION):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top+=s,e.left+=a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(e.top=e.top+o-c);var u=this.getViewportAdjustedDelta(n,e,l,c);u.left?e.left+=u.left:e.top+=u.top;var h=/top|bottom/.test(n),d=h?2*u.left-r+l:2*u.top-o+c,p=h?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=r.hoverState&&o.detach(),r.$element&&r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,o=t(this.$tip),s=t.Event("hide.bs."+this.type);if(this.$element.trigger(s),!s.isDefaultPrevented())return o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=window.SVGElement&&n instanceof window.SVGElement,s=i?{top:0,left:0}:o?null:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,a,l,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+i;a<s.top?r.top=s.top-a:l>s.top+s.height&&(r.top=s.top+s.height-l)}else{var c=e.left-o,u=e.left+o+n;c<s.left?r.left=s.left-c:u>s.right&&(r.left=s.left+s.width-u)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;!r&&/destroy|hide/.test(e)||(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.7",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(i),+function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),r=e.data("target")||e.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(void 0===r[t+1]||e<r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),s=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),e.trigger(s),!s.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var s=i.find("> .active"),a=r&&t.support.transition&&(s.length&&s.hasClass("fade")||!!i.find("> .fade").length);s.length&&a?s.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(i),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),s=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+s<=t-i)&&"bottom";var a=null==this.affixed,l=a?r:o.top,c=a?s:e;return null!=n&&r<=n?"top":null!=i&&l+c>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var a=this.getState(s,e,r,o);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),
c.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-e-o})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(i)}]);